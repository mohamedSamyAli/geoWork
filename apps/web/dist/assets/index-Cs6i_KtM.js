(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function tx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ih={exports:{}},yl={};var wg;function nx(){if(wg)return yl;wg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:n,type:a,key:c,ref:o!==void 0?o:null,props:u}}return yl.Fragment=e,yl.jsx=r,yl.jsxs=r,yl}var xg;function sx(){return xg||(xg=1,ih.exports=nx()),ih.exports}var m=sx(),lh={exports:{}},ke={};var Sg;function rx(){if(Sg)return ke;Sg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function O(T,G,se){this.props=T,this.context=G,this.refs=E,this.updater=se||x}O.prototype.isReactComponent={},O.prototype.setState=function(T,G){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,G,"setState")},O.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function L(){}L.prototype=O.prototype;function C(T,G,se){this.props=T,this.context=G,this.refs=E,this.updater=se||x}var D=C.prototype=new L;D.constructor=C,A(D,O.prototype),D.isPureReactComponent=!0;var Z=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function ce(T,G,se,W,le,Ce){return se=Ce.ref,{$$typeof:n,type:T,key:G,ref:se!==void 0?se:null,props:Ce}}function F(T,G){return ce(T.type,G,void 0,void 0,void 0,T.props)}function be(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function $e(T){var G={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(se){return G[se]})}var vt=/\/+/g;function ue(T,G){return typeof T=="object"&&T!==null&&T.key!=null?$e(""+T.key):G.toString(36)}function te(){}function Te(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(te,te):(T.status="pending",T.then(function(G){T.status==="pending"&&(T.status="fulfilled",T.value=G)},function(G){T.status==="pending"&&(T.status="rejected",T.reason=G)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Oe(T,G,se,W,le){var Ce=typeof T;(Ce==="undefined"||Ce==="boolean")&&(T=null);var we=!1;if(T===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(T.$$typeof){case n:case e:we=!0;break;case g:return we=T._init,Oe(we(T._payload),G,se,W,le)}}if(we)return le=le(T),we=W===""?"."+ue(T,0):W,Z(le)?(se="",we!=null&&(se=we.replace(vt,"$&/")+"/"),Oe(le,G,se,"",function(Wt){return Wt})):le!=null&&(be(le)&&(le=F(le,se+(le.key==null||T&&T.key===le.key?"":(""+le.key).replace(vt,"$&/")+"/")+we)),G.push(le)),1;we=0;var Ge=W===""?".":W+":";if(Z(T))for(var et=0;et<T.length;et++)W=T[et],Ce=Ge+ue(W,et),we+=Oe(W,G,se,Ce,le);else if(et=w(T),typeof et=="function")for(T=et.call(T),et=0;!(W=T.next()).done;)W=W.value,Ce=Ge+ue(W,et++),we+=Oe(W,G,se,Ce,le);else if(Ce==="object"){if(typeof T.then=="function")return Oe(Te(T),G,se,W,le);throw G=String(T),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return we}function P(T,G,se){if(T==null)return T;var W=[],le=0;return Oe(T,W,"","",function(Ce){return G.call(se,Ce,le++)}),W}function X(T){if(T._status===-1){var G=T._result;G=G(),G.then(function(se){(T._status===0||T._status===-1)&&(T._status=1,T._result=se)},function(se){(T._status===0||T._status===-1)&&(T._status=2,T._result=se)}),T._status===-1&&(T._status=0,T._result=G)}if(T._status===1)return T._result.default;throw T._result}var Q=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Pe(){}return ke.Children={map:P,forEach:function(T,G,se){P(T,function(){G.apply(this,arguments)},se)},count:function(T){var G=0;return P(T,function(){G++}),G},toArray:function(T){return P(T,function(G){return G})||[]},only:function(T){if(!be(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ke.Component=O,ke.Fragment=r,ke.Profiler=o,ke.PureComponent=C,ke.StrictMode=a,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ke.__COMPILER_RUNTIME={__proto__:null,c:function(T){return K.H.useMemoCache(T)}},ke.cache=function(T){return function(){return T.apply(null,arguments)}},ke.cloneElement=function(T,G,se){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var W=A({},T.props),le=T.key,Ce=void 0;if(G!=null)for(we in G.ref!==void 0&&(Ce=void 0),G.key!==void 0&&(le=""+G.key),G)!ie.call(G,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&G.ref===void 0||(W[we]=G[we]);var we=arguments.length-2;if(we===1)W.children=se;else if(1<we){for(var Ge=Array(we),et=0;et<we;et++)Ge[et]=arguments[et+2];W.children=Ge}return ce(T.type,le,void 0,void 0,Ce,W)},ke.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ke.createElement=function(T,G,se){var W,le={},Ce=null;if(G!=null)for(W in G.key!==void 0&&(Ce=""+G.key),G)ie.call(G,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(le[W]=G[W]);var we=arguments.length-2;if(we===1)le.children=se;else if(1<we){for(var Ge=Array(we),et=0;et<we;et++)Ge[et]=arguments[et+2];le.children=Ge}if(T&&T.defaultProps)for(W in we=T.defaultProps,we)le[W]===void 0&&(le[W]=we[W]);return ce(T,Ce,void 0,void 0,null,le)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(T){return{$$typeof:h,render:T}},ke.isValidElement=be,ke.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:X}},ke.memo=function(T,G){return{$$typeof:y,type:T,compare:G===void 0?null:G}},ke.startTransition=function(T){var G=K.T,se={};K.T=se;try{var W=T(),le=K.S;le!==null&&le(se,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Pe,Q)}catch(Ce){Q(Ce)}finally{K.T=G}},ke.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ke.use=function(T){return K.H.use(T)},ke.useActionState=function(T,G,se){return K.H.useActionState(T,G,se)},ke.useCallback=function(T,G){return K.H.useCallback(T,G)},ke.useContext=function(T){return K.H.useContext(T)},ke.useDebugValue=function(){},ke.useDeferredValue=function(T,G){return K.H.useDeferredValue(T,G)},ke.useEffect=function(T,G,se){var W=K.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(T,G)},ke.useId=function(){return K.H.useId()},ke.useImperativeHandle=function(T,G,se){return K.H.useImperativeHandle(T,G,se)},ke.useInsertionEffect=function(T,G){return K.H.useInsertionEffect(T,G)},ke.useLayoutEffect=function(T,G){return K.H.useLayoutEffect(T,G)},ke.useMemo=function(T,G){return K.H.useMemo(T,G)},ke.useOptimistic=function(T,G){return K.H.useOptimistic(T,G)},ke.useReducer=function(T,G,se){return K.H.useReducer(T,G,se)},ke.useRef=function(T){return K.H.useRef(T)},ke.useState=function(T){return K.H.useState(T)},ke.useSyncExternalStore=function(T,G,se){return K.H.useSyncExternalStore(T,G,se)},ke.useTransition=function(){return K.H.useTransition()},ke.version="19.1.0",ke}var Eg;function tf(){return Eg||(Eg=1,lh.exports=rx()),lh.exports}var N=tf();const un=tx(N);var oh={exports:{}},gl={},uh={exports:{}},ch={};var jg;function ax(){return jg||(jg=1,(function(n){function e(P,X){var Q=P.length;P.push(X);e:for(;0<Q;){var Pe=Q-1>>>1,T=P[Pe];if(0<o(T,X))P[Pe]=X,P[Q]=T,Q=Pe;else break e}}function r(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var X=P[0],Q=P.pop();if(Q!==X){P[0]=Q;e:for(var Pe=0,T=P.length,G=T>>>1;Pe<G;){var se=2*(Pe+1)-1,W=P[se],le=se+1,Ce=P[le];if(0>o(W,Q))le<T&&0>o(Ce,W)?(P[Pe]=Ce,P[le]=Q,Pe=le):(P[Pe]=W,P[se]=Q,Pe=se);else if(le<T&&0>o(Ce,Q))P[Pe]=Ce,P[le]=Q,Pe=le;else break e}}return X}function o(P,X){var Q=P.sortIndex-X.sortIndex;return Q!==0?Q:P.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],y=[],g=1,_=null,w=3,x=!1,A=!1,E=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function Z(P){for(var X=r(y);X!==null;){if(X.callback===null)a(y);else if(X.startTime<=P)a(y),X.sortIndex=X.expirationTime,e(p,X);else break;X=r(y)}}function K(P){if(E=!1,Z(P),!A)if(r(p)!==null)A=!0,ie||(ie=!0,ue());else{var X=r(y);X!==null&&Oe(K,X.startTime-P)}}var ie=!1,ce=-1,F=5,be=-1;function $e(){return O?!0:!(n.unstable_now()-be<F)}function vt(){if(O=!1,ie){var P=n.unstable_now();be=P;var X=!0;try{e:{A=!1,E&&(E=!1,C(ce),ce=-1),x=!0;var Q=w;try{t:{for(Z(P),_=r(p);_!==null&&!(_.expirationTime>P&&$e());){var Pe=_.callback;if(typeof Pe=="function"){_.callback=null,w=_.priorityLevel;var T=Pe(_.expirationTime<=P);if(P=n.unstable_now(),typeof T=="function"){_.callback=T,Z(P),X=!0;break t}_===r(p)&&a(p),Z(P)}else a(p);_=r(p)}if(_!==null)X=!0;else{var G=r(y);G!==null&&Oe(K,G.startTime-P),X=!1}}break e}finally{_=null,w=Q,x=!1}X=void 0}}finally{X?ue():ie=!1}}}var ue;if(typeof D=="function")ue=function(){D(vt)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Te=te.port2;te.port1.onmessage=vt,ue=function(){Te.postMessage(null)}}else ue=function(){L(vt,0)};function Oe(P,X){ce=L(function(){P(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(P){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var Q=w;w=X;try{return P()}finally{w=Q}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(P,X){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Q=w;w=P;try{return X()}finally{w=Q}},n.unstable_scheduleCallback=function(P,X,Q){var Pe=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Pe+Q:Pe):Q=Pe,P){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=Q+T,P={id:g++,callback:X,priorityLevel:P,startTime:Q,expirationTime:T,sortIndex:-1},Q>Pe?(P.sortIndex=Q,e(y,P),r(p)===null&&P===r(y)&&(E?(C(ce),ce=-1):E=!0,Oe(K,Q-Pe))):(P.sortIndex=T,e(p,P),A||x||(A=!0,ie||(ie=!0,ue()))),P},n.unstable_shouldYield=$e,n.unstable_wrapCallback=function(P){var X=w;return function(){var Q=w;w=X;try{return P.apply(this,arguments)}finally{w=Q}}}})(ch)),ch}var Tg;function ix(){return Tg||(Tg=1,uh.exports=ax()),uh.exports}var dh={exports:{}},nn={};var Ag;function lx(){if(Ag)return nn;Ag=1;var n=tf();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)y+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:y,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(p,y){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,g)},nn.flushSync=function(p){var y=c.T,g=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=y,a.p=g,a.d.f()}},nn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},nn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},nn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var g=y.as,_=h(g,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,x=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;g==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:x}):g==="script"&&a.d.X(p,{crossOrigin:_,integrity:w,fetchPriority:x,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var g=h(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},nn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var g=y.as,_=h(g,y.crossOrigin);a.d.L(p,g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(p,y){if(typeof p=="string")if(y){var g=h(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},nn.requestFormReset=function(p){a.d.r(p)},nn.unstable_batchedUpdates=function(p,y){return p(y)},nn.useFormState=function(p,y,g){return c.H.useFormState(p,y,g)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var Rg;function ox(){if(Rg)return dh.exports;Rg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dh.exports=lx(),dh.exports}var Og;function ux(){if(Og)return gl;Og=1;var n=ix(),e=tf(),r=ox();function a(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,i=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(i=s.return),t=s.return;while(t)}return s.tag===3?i:null}function c(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function h(t){if(u(t)!==t)throw Error(a(188))}function p(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(a(188));return s!==t?null:t}for(var i=t,l=s;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return h(d),t;if(f===l)return h(d),s;f=f.sibling}throw Error(a(188))}if(i.return!==l.return)i=d,l=f;else{for(var v=!1,b=d.child;b;){if(b===i){v=!0,i=d,l=f;break}if(b===l){v=!0,l=d,i=f;break}b=b.sibling}if(!v){for(b=f.child;b;){if(b===i){v=!0,i=f,l=d;break}if(b===l){v=!0,l=f,i=d;break}b=b.sibling}if(!v)throw Error(a(189))}}if(i.alternate!==l)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?t:s}function y(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=y(t),s!==null)return s;t=t.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),D=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),$e=Symbol.for("react.memo_cache_sentinel"),vt=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=vt&&t[vt]||t["@@iterator"],typeof t=="function"?t:null)}var te=Symbol.for("react.client.reference");function Te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===te?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case O:return"Profiler";case E:return"StrictMode";case K:return"Suspense";case ie:return"SuspenseList";case be:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case D:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case Z:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ce:return s=t.displayName||null,s!==null?s:Te(t.type)||"Memo";case F:s=t._payload,t=t._init;try{return Te(t(s))}catch{}}return null}var Oe=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},Pe=[],T=-1;function G(t){return{current:t}}function se(t){0>T||(t.current=Pe[T],Pe[T]=null,T--)}function W(t,s){T++,Pe[T]=t.current,t.current=s}var le=G(null),Ce=G(null),we=G(null),Ge=G(null);function et(t,s){switch(W(we,s),W(Ce,t),W(le,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Zy(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Zy(s),t=Yy(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(le),W(le,t)}function Wt(){se(le),se(Ce),se(we)}function Un(t){t.memoizedState!==null&&W(Ge,t);var s=le.current,i=Yy(s,t.type);s!==i&&(W(Ce,t),W(le,i))}function Mn(t){Ce.current===t&&(se(le),se(Ce)),Ge.current===t&&(se(Ge),dl._currentValue=Q)}var os=Object.prototype.hasOwnProperty,ta=n.unstable_scheduleCallback,vi=n.unstable_cancelCallback,Ql=n.unstable_shouldYield,Zl=n.unstable_requestPaint,qn=n.unstable_now,Ku=n.unstable_getCurrentPriorityLevel,Fu=n.unstable_ImmediatePriority,bi=n.unstable_UserBlockingPriority,j=n.unstable_NormalPriority,q=n.unstable_LowPriority,$=n.unstable_IdlePriority,re=n.log,ee=n.unstable_setDisableYieldValue,J=null,oe=null;function Me(t){if(typeof re=="function"&&ee(t),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(J,t)}catch{}}var Ne=Math.clz32?Math.clz32:us,Gt=Math.log,gs=Math.LN2;function us(t){return t>>>=0,t===0?32:31-(Gt(t)/gs|0)|0}var na=256,$s=4194304;function Zn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sa(t,s,i){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?d=Zn(l):(v&=b,v!==0?d=Zn(v):i||(i=b&~t,i!==0&&(d=Zn(i))))):(b=l&~f,b!==0?d=Zn(b):v!==0?d=Zn(v):i||(i=l&~t,i!==0&&(d=Zn(i)))),d===0?0:s!==0&&s!==d&&(s&f)===0&&(f=d&-d,i=s&-s,f>=i||f===32&&(i&4194048)!==0)?s:d}function Vs(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Qu(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(){var t=na;return na<<=1,(na&4194048)===0&&(na=256),t}function Df(){var t=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),t}function Zu(t){for(var s=[],i=0;31>i;i++)s.push(t);return s}function wi(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function H_(t,s,i,l,d,f){var v=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var b=t.entanglements,S=t.expirationTimes,M=t.hiddenUpdates;for(i=v&~i;0<i;){var V=31-Ne(i),I=1<<V;b[V]=0,S[V]=-1;var z=M[V];if(z!==null)for(M[V]=null,V=0;V<z.length;V++){var B=z[V];B!==null&&(B.lane&=-536870913)}i&=~I}l!==0&&Uf(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~s))}function Uf(t,s,i){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-Ne(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|i&4194090}function Mf(t,s){var i=t.entangledLanes|=s;for(t=t.entanglements;i;){var l=31-Ne(i),d=1<<l;d&s|t[l]&s&&(t[l]|=s),i&=~d}}function Yu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qf(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:pg(t.type))}function I_(t,s){var i=X.p;try{return X.p=t,s()}finally{X.p=i}}var Hs=Math.random().toString(36).slice(2),en="__reactFiber$"+Hs,hn="__reactProps$"+Hs,ra="__reactContainer$"+Hs,Ju="__reactEvents$"+Hs,G_="__reactListeners$"+Hs,K_="__reactHandles$"+Hs,Lf="__reactResources$"+Hs,xi="__reactMarker$"+Hs;function Wu(t){delete t[en],delete t[hn],delete t[Ju],delete t[G_],delete t[K_]}function aa(t){var s=t[en];if(s)return s;for(var i=t.parentNode;i;){if(s=i[ra]||i[en]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(t=eg(t);t!==null;){if(i=t[en])return i;t=eg(t)}return s}t=i,i=t.parentNode}return null}function ia(t){if(t=t[en]||t[ra]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Si(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(a(33))}function la(t){var s=t[Lf];return s||(s=t[Lf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function $t(t){t[xi]=!0}var zf=new Set,Bf={};function xr(t,s){oa(t,s),oa(t+"Capture",s)}function oa(t,s){for(Bf[t]=s,t=0;t<s.length;t++)zf.add(s[t])}var F_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pf={},$f={};function Q_(t){return os.call($f,t)?!0:os.call(Pf,t)?!1:F_.test(t)?$f[t]=!0:(Pf[t]=!0,!1)}function Yl(t,s,i){if(Q_(s))if(i===null)t.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+i)}}function Xl(t,s,i){if(i===null)t.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+i)}}function vs(t,s,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(s,i,""+l)}}var ec,Vf;function ua(t){if(ec===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);ec=s&&s[1]||"",Vf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ec+t+Vf}var tc=!1;function nc(t,s){if(!t||tc)return"";tc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(B){var z=B}Reflect.construct(t,[],I)}else{try{I.call()}catch(B){z=B}t.call(I.prototype)}}else{try{throw Error()}catch(B){z=B}(I=t())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],b=f[1];if(v&&b){var S=v.split(`
`),M=b.split(`
`);for(d=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;if(l===S.length||d===M.length)for(l=S.length-1,d=M.length-1;1<=l&&0<=d&&S[l]!==M[d];)d--;for(;1<=l&&0<=d;l--,d--)if(S[l]!==M[d]){if(l!==1||d!==1)do if(l--,d--,0>d||S[l]!==M[d]){var V=`
`+S[l].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=l&&0<=d);break}}}finally{tc=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ua(i):""}function Z_(t){switch(t.tag){case 26:case 27:case 5:return ua(t.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 15:return nc(t.type,!1);case 11:return nc(t.type.render,!1);case 1:return nc(t.type,!0);case 31:return ua("Activity");default:return""}}function Hf(t){try{var s="";do s+=Z_(t),t=t.return;while(t);return s}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function If(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Y_(t){var s=If(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),l=""+t[s];if(!t.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,s,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Jl(t){t._valueTracker||(t._valueTracker=Y_(t))}function Gf(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var i=s.getValue(),l="";return t&&(l=If(t)?t.checked?"true":"false":t.value),t=l,t!==i?(s.setValue(t),!0):!1}function Wl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var X_=/[\n"\\]/g;function zn(t){return t.replace(X_,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function sc(t,s,i,l,d,f,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ln(s)):t.value!==""+Ln(s)&&(t.value=""+Ln(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?rc(t,v,Ln(s)):i!=null?rc(t,v,Ln(i)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ln(b):t.removeAttribute("name")}function Kf(t,s,i,l,d,f,v,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||s!=null))return;i=i!=null?""+Ln(i):"",s=s!=null?""+Ln(s):i,b||s===t.value||(t.value=s),t.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function rc(t,s,i){s==="number"&&Wl(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ca(t,s,i,l){if(t=t.options,s){s={};for(var d=0;d<i.length;d++)s["$"+i[d]]=!0;for(i=0;i<t.length;i++)d=s.hasOwnProperty("$"+t[i].value),t[i].selected!==d&&(t[i].selected=d),d&&l&&(t[i].defaultSelected=!0)}else{for(i=""+Ln(i),s=null,d=0;d<t.length;d++){if(t[d].value===i){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Ff(t,s,i){if(s!=null&&(s=""+Ln(s),s!==t.value&&(t.value=s),i==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=i!=null?""+Ln(i):""}function Qf(t,s,i,l){if(s==null){if(l!=null){if(i!=null)throw Error(a(92));if(Oe(l)){if(1<l.length)throw Error(a(93));l=l[0]}i=l}i==null&&(i=""),s=i}i=Ln(s),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l)}function da(t,s){if(s){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=s;return}}t.textContent=s}var J_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zf(t,s,i){var l=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,i):typeof i!="number"||i===0||J_.has(s)?s==="float"?t.cssFloat=i:t[s]=(""+i).trim():t[s]=i+"px"}function Yf(t,s,i){if(s!=null&&typeof s!="object")throw Error(a(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&i[d]!==l&&Zf(t,d,l)}else for(var f in s)s.hasOwnProperty(f)&&Zf(t,f,s[f])}function ac(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),e0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(t){return e0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ic=null;function lc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ha=null,fa=null;function Xf(t){var s=ia(t);if(s&&(t=s.stateNode)){var i=t[hn]||null;e:switch(t=s.stateNode,s.type){case"input":if(sc(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+zn(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var l=i[s];if(l!==t&&l.form===t.form){var d=l[hn]||null;if(!d)throw Error(a(90));sc(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<i.length;s++)l=i[s],l.form===t.form&&Gf(l)}break e;case"textarea":Ff(t,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&ca(t,!!i.multiple,s,!1)}}}var oc=!1;function Jf(t,s,i){if(oc)return t(s,i);oc=!0;try{var l=t(s);return l}finally{if(oc=!1,(ha!==null||fa!==null)&&(Po(),ha&&(s=ha,t=fa,fa=ha=null,Xf(s),t)))for(s=0;s<t.length;s++)Xf(t[s])}}function Ei(t,s){var i=t.stateNode;if(i===null)return null;var l=i[hn]||null;if(l===null)return null;i=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(a(231,s,typeof i));return i}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=!1;if(bs)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){uc=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{uc=!1}var Is=null,cc=null,to=null;function Wf(){if(to)return to;var t,s=cc,i=s.length,l,d="value"in Is?Is.value:Is.textContent,f=d.length;for(t=0;t<i&&s[t]===d[t];t++);var v=i-t;for(l=1;l<=v&&s[i-l]===d[f-l];l++);return to=d.slice(t,1<l?1-l:void 0)}function no(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function so(){return!0}function em(){return!1}function fn(t){function s(i,l,d,f,v){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(i=t[b],this[b]=i?i(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?so:em,this.isPropagationStopped=em,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),s}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=fn(Sr),Ti=g({},Sr,{view:0,detail:0}),t0=fn(Ti),dc,hc,Ai,ao=g({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(dc=t.screenX-Ai.screenX,hc=t.screenY-Ai.screenY):hc=dc=0,Ai=t),dc)},movementY:function(t){return"movementY"in t?t.movementY:hc}}),tm=fn(ao),n0=g({},ao,{dataTransfer:0}),s0=fn(n0),r0=g({},Ti,{relatedTarget:0}),fc=fn(r0),a0=g({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),i0=fn(a0),l0=g({},Sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o0=fn(l0),u0=g({},Sr,{data:0}),nm=fn(u0),c0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=h0[t])?!!s[t]:!1}function mc(){return f0}var m0=g({},Ti,{key:function(t){if(t.key){var s=c0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=no(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?d0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(t){return t.type==="keypress"?no(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?no(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p0=fn(m0),y0=g({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sm=fn(y0),g0=g({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),v0=fn(g0),b0=g({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_0=fn(b0),w0=g({},ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=fn(w0),S0=g({},Sr,{newState:0,oldState:0}),E0=fn(S0),j0=[9,13,27,32],pc=bs&&"CompositionEvent"in window,Ri=null;bs&&"documentMode"in document&&(Ri=document.documentMode);var T0=bs&&"TextEvent"in window&&!Ri,rm=bs&&(!pc||Ri&&8<Ri&&11>=Ri),am=" ",im=!1;function lm(t,s){switch(t){case"keyup":return j0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function om(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function A0(t,s){switch(t){case"compositionend":return om(s);case"keypress":return s.which!==32?null:(im=!0,am);case"textInput":return t=s.data,t===am&&im?null:t;default:return null}}function R0(t,s){if(ma)return t==="compositionend"||!pc&&lm(t,s)?(t=Wf(),to=cc=Is=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return rm&&s.locale!=="ko"?null:s.data;default:return null}}var O0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!O0[t.type]:s==="textarea"}function cm(t,s,i,l){ha?fa?fa.push(l):fa=[l]:ha=l,s=Ko(s,"onChange"),0<s.length&&(i=new ro("onChange","change",null,i,l),t.push({event:i,listeners:s}))}var Oi=null,Ni=null;function N0(t){Iy(t,0)}function io(t){var s=Si(t);if(Gf(s))return t}function dm(t,s){if(t==="change")return s}var hm=!1;if(bs){var yc;if(bs){var gc="oninput"in document;if(!gc){var fm=document.createElement("div");fm.setAttribute("oninput","return;"),gc=typeof fm.oninput=="function"}yc=gc}else yc=!1;hm=yc&&(!document.documentMode||9<document.documentMode)}function mm(){Oi&&(Oi.detachEvent("onpropertychange",pm),Ni=Oi=null)}function pm(t){if(t.propertyName==="value"&&io(Ni)){var s=[];cm(s,Ni,t,lc(t)),Jf(N0,s)}}function k0(t,s,i){t==="focusin"?(mm(),Oi=s,Ni=i,Oi.attachEvent("onpropertychange",pm)):t==="focusout"&&mm()}function C0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return io(Ni)}function D0(t,s){if(t==="click")return io(s)}function U0(t,s){if(t==="input"||t==="change")return io(s)}function M0(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var bn=typeof Object.is=="function"?Object.is:M0;function ki(t,s){if(bn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var i=Object.keys(t),l=Object.keys(s);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!os.call(s,d)||!bn(t[d],s[d]))return!1}return!0}function ym(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gm(t,s){var i=ym(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=s&&l>=s)return{node:i,offset:s-t};t=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ym(i)}}function vm(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?vm(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function bm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Wl(t.document);s instanceof t.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)t=s.contentWindow;else break;s=Wl(t.document)}return s}function vc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var q0=bs&&"documentMode"in document&&11>=document.documentMode,pa=null,bc=null,Ci=null,_c=!1;function _m(t,s,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;_c||pa==null||pa!==Wl(l)||(l=pa,"selectionStart"in l&&vc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ci&&ki(Ci,l)||(Ci=l,l=Ko(bc,"onSelect"),0<l.length&&(s=new ro("onSelect","select",null,s,i),t.push({event:s,listeners:l}),s.target=pa)))}function Er(t,s){var i={};return i[t.toLowerCase()]=s.toLowerCase(),i["Webkit"+t]="webkit"+s,i["Moz"+t]="moz"+s,i}var ya={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},wc={},wm={};bs&&(wm=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function jr(t){if(wc[t])return wc[t];if(!ya[t])return t;var s=ya[t],i;for(i in s)if(s.hasOwnProperty(i)&&i in wm)return wc[t]=s[i];return t}var xm=jr("animationend"),Sm=jr("animationiteration"),Em=jr("animationstart"),L0=jr("transitionrun"),z0=jr("transitionstart"),B0=jr("transitioncancel"),jm=jr("transitionend"),Tm=new Map,xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xc.push("scrollEnd");function Yn(t,s){Tm.set(t,s),xr(s,[t])}var Am=new WeakMap;function Bn(t,s){if(typeof t=="object"&&t!==null){var i=Am.get(t);return i!==void 0?i:(s={value:t,source:s,stack:Hf(s)},Am.set(t,s),s)}return{value:t,source:s,stack:Hf(s)}}var Pn=[],ga=0,Sc=0;function lo(){for(var t=ga,s=Sc=ga=0;s<t;){var i=Pn[s];Pn[s++]=null;var l=Pn[s];Pn[s++]=null;var d=Pn[s];Pn[s++]=null;var f=Pn[s];if(Pn[s++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&Rm(i,d,f)}}function oo(t,s,i,l){Pn[ga++]=t,Pn[ga++]=s,Pn[ga++]=i,Pn[ga++]=l,Sc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ec(t,s,i,l){return oo(t,s,i,l),uo(t)}function va(t,s){return oo(t,null,null,s),uo(t)}function Rm(t,s,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var d=!1,f=t.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&s!==null&&(d=31-Ne(i),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[s]:l.push(s),s.lane=i|536870912),f):null}function uo(t){if(50<sl)throw sl=0,Nd=null,Error(a(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var ba={};function P0(t,s,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,s,i,l){return new P0(t,s,i,l)}function jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _s(t,s){var i=t.alternate;return i===null?(i=_n(t.tag,s,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=s,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,s=t.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Om(t,s){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,s=i.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function co(t,s,i,l,d,f){var v=0;if(l=t,typeof t=="function")jc(t)&&(v=1);else if(typeof t=="string")v=Vw(t,i,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case be:return t=_n(31,i,s,d),t.elementType=be,t.lanes=f,t;case A:return Tr(i.children,d,f,s);case E:v=8,d|=24;break;case O:return t=_n(12,i,s,d|2),t.elementType=O,t.lanes=f,t;case K:return t=_n(13,i,s,d),t.elementType=K,t.lanes=f,t;case ie:return t=_n(19,i,s,d),t.elementType=ie,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:case D:v=10;break e;case C:v=9;break e;case Z:v=11;break e;case ce:v=14;break e;case F:v=16,l=null;break e}v=29,i=Error(a(130,t===null?"null":typeof t,"")),l=null}return s=_n(v,i,s,d),s.elementType=t,s.type=l,s.lanes=f,s}function Tr(t,s,i,l){return t=_n(7,t,l,s),t.lanes=i,t}function Tc(t,s,i){return t=_n(6,t,null,s),t.lanes=i,t}function Ac(t,s,i){return s=_n(4,t.children!==null?t.children:[],t.key,s),s.lanes=i,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var _a=[],wa=0,ho=null,fo=0,$n=[],Vn=0,Ar=null,ws=1,xs="";function Rr(t,s){_a[wa++]=fo,_a[wa++]=ho,ho=t,fo=s}function Nm(t,s,i){$n[Vn++]=ws,$n[Vn++]=xs,$n[Vn++]=Ar,Ar=t;var l=ws;t=xs;var d=32-Ne(l)-1;l&=~(1<<d),i+=1;var f=32-Ne(s)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,ws=1<<32-Ne(s)+d|i<<d|l,xs=f+t}else ws=1<<f|i<<d|l,xs=t}function Rc(t){t.return!==null&&(Rr(t,1),Nm(t,1,0))}function Oc(t){for(;t===ho;)ho=_a[--wa],_a[wa]=null,fo=_a[--wa],_a[wa]=null;for(;t===Ar;)Ar=$n[--Vn],$n[Vn]=null,xs=$n[--Vn],$n[Vn]=null,ws=$n[--Vn],$n[Vn]=null}var on=null,bt=null,tt=!1,Or=null,cs=!1,Nc=Error(a(519));function Nr(t){var s=Error(a(418,""));throw Mi(Bn(s,t)),Nc}function km(t){var s=t.stateNode,i=t.type,l=t.memoizedProps;switch(s[en]=t,s[hn]=l,i){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(i=0;i<al.length;i++)Be(al[i],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),Kf(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Jl(s);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),Qf(s,l.value,l.defaultValue,l.children),Jl(s)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||l.suppressHydrationWarning===!0||Qy(s.textContent,i)?(l.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),l.onScroll!=null&&Be("scroll",s),l.onScrollEnd!=null&&Be("scrollend",s),l.onClick!=null&&(s.onclick=Fo),s=!0):s=!1,s||Nr(t)}function Cm(t){for(on=t.return;on;)switch(on.tag){case 5:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:on=on.return}}function Di(t){if(t!==on)return!1;if(!tt)return Cm(t),tt=!0,!1;var s=t.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Kd(t.type,t.memoizedProps)),i=!i),i&&bt&&Nr(t),Cm(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(s===0){bt=Jn(t.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++;t=t.nextSibling}bt=null}}else s===27?(s=bt,ir(t.type)?(t=Yd,Yd=null,bt=t):bt=s):bt=on?Jn(t.stateNode.nextSibling):null;return!0}function Ui(){bt=on=null,tt=!1}function Dm(){var t=Or;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Or=null),t}function Mi(t){Or===null?Or=[t]:Or.push(t)}var kc=G(null),kr=null,Ss=null;function Gs(t,s,i){W(kc,s._currentValue),s._currentValue=i}function Es(t){t._currentValue=kc.current,se(kc)}function Cc(t,s,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===i)break;t=t.return}}function Dc(t,s,i,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=d;for(var S=0;S<s.length;S++)if(b.context===s[S]){f.lanes|=i,b=f.alternate,b!==null&&(b.lanes|=i),Cc(f.return,i,t),l||(v=null);break e}f=b.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(a(341));v.lanes|=i,f=v.alternate,f!==null&&(f.lanes|=i),Cc(v,i,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function qi(t,s,i,l){t=null;for(var d=s,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var b=d.type;bn(d.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(d===Ge.current){if(v=d.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(dl):t=[dl])}d=d.return}t!==null&&Dc(s,t,i,l),s.flags|=262144}function mo(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cr(t){kr=t,Ss=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return Um(kr,t)}function po(t,s){return kr===null&&Cr(t),Um(t,s)}function Um(t,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},Ss===null){if(t===null)throw Error(a(308));Ss=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Ss=Ss.next=s;return i}var $0=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(i){return i()})}},V0=n.unstable_scheduleCallback,H0=n.unstable_NormalPriority,Ut={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uc(){return{controller:new $0,data:new Map,refCount:0}}function Li(t){t.refCount--,t.refCount===0&&V0(H0,function(){t.controller.abort()})}var zi=null,Mc=0,xa=0,Sa=null;function I0(t,s){if(zi===null){var i=zi=[];Mc=0,xa=Ld(),Sa={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Mc++,s.then(Mm,Mm),s}function Mm(){if(--Mc===0&&zi!==null){Sa!==null&&(Sa.status="fulfilled");var t=zi;zi=null,xa=0,Sa=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function G0(t,s){var i=[],l={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<i.length;d++)(0,i[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),l}var qm=P.S;P.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&I0(t,s),qm!==null&&qm(t,s)};var Dr=G(null);function qc(){var t=Dr.current;return t!==null?t:dt.pooledCache}function yo(t,s){s===null?W(Dr,Dr.current):W(Dr,s.pool)}function Lm(){var t=qc();return t===null?null:{parent:Ut._currentValue,pool:t}}var Bi=Error(a(460)),zm=Error(a(474)),go=Error(a(542)),Lc={then:function(){}};function Bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vo(){}function Pm(t,s,i){switch(i=t[i],i===void 0?t.push(s):i!==s&&(s.then(vo,vo),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Vm(t),t;default:if(typeof s.status=="string")s.then(vo,vo);else{if(t=dt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Vm(t),t}throw Pi=s,Bi}}var Pi=null;function $m(){if(Pi===null)throw Error(a(459));var t=Pi;return Pi=null,t}function Vm(t){if(t===Bi||t===go)throw Error(a(483))}var Ks=!1;function zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bc(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(t,s,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=uo(t),Rm(t,null,i),s}return oo(t,l,s,i),uo(t)}function $i(t,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,i|=l,s.lanes=i,Mf(t,i)}}function Pc(t,s){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?d=f=s:f=f.next=s}else d=f=s;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=s:t.next=s,i.lastBaseUpdate=s}var $c=!1;function Vi(){if($c){var t=Sa;if(t!==null)throw t}}function Hi(t,s,i,l){$c=!1;var d=t.updateQueue;Ks=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var S=b,M=S.next;S.next=null,v===null?f=M:v.next=M,v=S;var V=t.alternate;V!==null&&(V=V.updateQueue,b=V.lastBaseUpdate,b!==v&&(b===null?V.firstBaseUpdate=M:b.next=M,V.lastBaseUpdate=S))}if(f!==null){var I=d.baseState;v=0,V=M=S=null,b=f;do{var z=b.lane&-536870913,B=z!==b.lane;if(B?(Ke&z)===z:(l&z)===z){z!==0&&z===xa&&($c=!0),V!==null&&(V=V.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var je=t,_e=b;z=s;var it=i;switch(_e.tag){case 1:if(je=_e.payload,typeof je=="function"){I=je.call(it,I,z);break e}I=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=_e.payload,z=typeof je=="function"?je.call(it,I,z):je,z==null)break e;I=g({},I,z);break e;case 2:Ks=!0}}z=b.callback,z!==null&&(t.flags|=64,B&&(t.flags|=8192),B=d.callbacks,B===null?d.callbacks=[z]:B.push(z))}else B={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},V===null?(M=V=B,S=I):V=V.next=B,v|=z;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;B=b,b=B.next,B.next=null,d.lastBaseUpdate=B,d.shared.pending=null}}while(!0);V===null&&(S=I),d.baseState=S,d.firstBaseUpdate=M,d.lastBaseUpdate=V,f===null&&(d.shared.lanes=0),nr|=v,t.lanes=v,t.memoizedState=I}}function Hm(t,s){if(typeof t!="function")throw Error(a(191,t));t.call(s)}function Im(t,s){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Hm(i[t],s)}var Ea=G(null),bo=G(0);function Gm(t,s){t=ks,W(bo,t),W(Ea,s),ks=t|s.baseLanes}function Vc(){W(bo,ks),W(Ea,Ea.current)}function Hc(){ks=bo.current,se(Ea),se(bo)}var Zs=0,De=null,rt=null,Tt=null,_o=!1,ja=!1,Ur=!1,wo=0,Ii=0,Ta=null,K0=0;function St(){throw Error(a(321))}function Ic(t,s){if(s===null)return!1;for(var i=0;i<s.length&&i<t.length;i++)if(!bn(t[i],s[i]))return!1;return!0}function Gc(t,s,i,l,d,f){return Zs=f,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,P.H=t===null||t.memoizedState===null?Rp:Op,Ur=!1,f=i(l,d),Ur=!1,ja&&(f=Fm(s,i,l,d)),Km(t),f}function Km(t){P.H=Ao;var s=rt!==null&&rt.next!==null;if(Zs=0,Tt=rt=De=null,_o=!1,Ii=0,Ta=null,s)throw Error(a(300));t===null||Vt||(t=t.dependencies,t!==null&&mo(t)&&(Vt=!0))}function Fm(t,s,i,l){De=t;var d=0;do{if(ja&&(Ta=null),Ii=0,ja=!1,25<=d)throw Error(a(301));if(d+=1,Tt=rt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}P.H=W0,f=s(i,l)}while(ja);return f}function F0(){var t=P.H,s=t.useState()[0];return s=typeof s.then=="function"?Gi(s):s,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(De.flags|=1024),s}function Kc(){var t=wo!==0;return wo=0,t}function Fc(t,s,i){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~i}function Qc(t){if(_o){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}_o=!1}Zs=0,Tt=rt=De=null,ja=!1,Ii=wo=0,Ta=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?De.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function At(){if(rt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var s=Tt===null?De.memoizedState:Tt.next;if(s!==null)Tt=s,rt=t;else{if(t===null)throw De.alternate===null?Error(a(467)):Error(a(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Tt===null?De.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gi(t){var s=Ii;return Ii+=1,Ta===null&&(Ta=[]),t=Pm(Ta,t,s),s=De,(Tt===null?s.memoizedState:Tt.next)===null&&(s=s.alternate,P.H=s===null||s.memoizedState===null?Rp:Op),t}function xo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Gi(t);if(t.$$typeof===D)return tn(t)}throw Error(a(438,String(t)))}function Yc(t){var s=null,i=De.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=Zc(),De.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(t),l=0;l<t;l++)i[l]=$e;return s.index++,i}function js(t,s){return typeof s=="function"?s(t):s}function So(t){var s=At();return Xc(s,rt,t)}function Xc(t,s,i){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=i;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}s.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{s=d.next;var b=v=null,S=null,M=s,V=!1;do{var I=M.lane&-536870913;if(I!==M.lane?(Ke&I)===I:(Zs&I)===I){var z=M.revertLane;if(z===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),I===xa&&(V=!0);else if((Zs&z)===z){M=M.next,z===xa&&(V=!0);continue}else I={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},S===null?(b=S=I,v=f):S=S.next=I,De.lanes|=z,nr|=z;I=M.action,Ur&&i(f,I),f=M.hasEagerState?M.eagerState:i(f,I)}else z={lane:I,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},S===null?(b=S=z,v=f):S=S.next=z,De.lanes|=I,nr|=I;M=M.next}while(M!==null&&M!==s);if(S===null?v=f:S.next=b,!bn(f,t.memoizedState)&&(Vt=!0,V&&(i=Sa,i!==null)))throw i;t.memoizedState=f,t.baseState=v,t.baseQueue=S,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Jc(t){var s=At(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=t;var l=i.dispatch,d=i.pending,f=s.memoizedState;if(d!==null){i.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);bn(f,s.memoizedState)||(Vt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),i.lastRenderedState=f}return[f,l]}function Qm(t,s,i){var l=De,d=At(),f=tt;if(f){if(i===void 0)throw Error(a(407));i=i()}else i=s();var v=!bn((rt||d).memoizedState,i);v&&(d.memoizedState=i,Vt=!0),d=d.queue;var b=Xm.bind(null,l,d,t);if(Ki(2048,8,b,[t]),d.getSnapshot!==s||v||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Aa(9,Eo(),Ym.bind(null,l,d,i,s),null),dt===null)throw Error(a(349));f||(Zs&124)!==0||Zm(l,s,i)}return i}function Zm(t,s,i){t.flags|=16384,t={getSnapshot:s,value:i},s=De.updateQueue,s===null?(s=Zc(),De.updateQueue=s,s.stores=[t]):(i=s.stores,i===null?s.stores=[t]:i.push(t))}function Ym(t,s,i,l){s.value=i,s.getSnapshot=l,Jm(s)&&Wm(t)}function Xm(t,s,i){return i(function(){Jm(s)&&Wm(t)})}function Jm(t){var s=t.getSnapshot;t=t.value;try{var i=s();return!bn(t,i)}catch{return!0}}function Wm(t){var s=va(t,2);s!==null&&jn(s,t,2)}function Wc(t){var s=mn();if(typeof t=="function"){var i=t;if(t=i(),Ur){Me(!0);try{i()}finally{Me(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:t},s}function ep(t,s,i,l){return t.baseState=i,Xc(t,rt,typeof l=="function"?l:js)}function Q0(t,s,i,l,d){if(To(t))throw Error(a(485));if(t=s.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};P.T!==null?i(!0):f.isTransition=!1,l(f),i=s.pending,i===null?(f.next=s.pending=f,tp(s,f)):(f.next=i.next,s.pending=i.next=f)}}function tp(t,s){var i=s.action,l=s.payload,d=t.state;if(s.isTransition){var f=P.T,v={};P.T=v;try{var b=i(d,l),S=P.S;S!==null&&S(v,b),np(t,s,b)}catch(M){ed(t,s,M)}finally{P.T=f}}else try{f=i(d,l),np(t,s,f)}catch(M){ed(t,s,M)}}function np(t,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){sp(t,s,l)},function(l){return ed(t,s,l)}):sp(t,s,i)}function sp(t,s,i){s.status="fulfilled",s.value=i,rp(s),t.state=i,s=t.pending,s!==null&&(i=s.next,i===s?t.pending=null:(i=i.next,s.next=i,tp(t,i)))}function ed(t,s,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=i,rp(s),s=s.next;while(s!==l)}t.action=null}function rp(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function ap(t,s){return s}function ip(t,s){if(tt){var i=dt.formState;if(i!==null){e:{var l=De;if(tt){if(bt){t:{for(var d=bt,f=cs;d.nodeType!==8;){if(!f){d=null;break t}if(d=Jn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){bt=Jn(d.nextSibling),l=d.data==="F!";break e}}Nr(l)}l=!1}l&&(s=i[0])}}return i=mn(),i.memoizedState=i.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ap,lastRenderedState:s},i.queue=l,i=jp.bind(null,De,l),l.dispatch=i,l=Wc(!1),f=ad.bind(null,De,!1,l.queue),l=mn(),d={state:s,dispatch:null,action:t,pending:null},l.queue=d,i=Q0.bind(null,De,d,f,i),d.dispatch=i,l.memoizedState=t,[s,i,!1]}function lp(t){var s=At();return op(s,rt,t)}function op(t,s,i){if(s=Xc(t,s,ap)[0],t=So(js)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Gi(s)}catch(v){throw v===Bi?go:v}else l=s;s=At();var d=s.queue,f=d.dispatch;return i!==s.memoizedState&&(De.flags|=2048,Aa(9,Eo(),Z0.bind(null,d,i),null)),[l,f,t]}function Z0(t,s){t.action=s}function up(t){var s=At(),i=rt;if(i!==null)return op(s,i,t);At(),s=s.memoizedState,i=At();var l=i.queue.dispatch;return i.memoizedState=t,[s,l,!1]}function Aa(t,s,i,l){return t={tag:t,create:i,deps:l,inst:s,next:null},s=De.updateQueue,s===null&&(s=Zc(),De.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,s.lastEffect=t),t}function Eo(){return{destroy:void 0,resource:void 0}}function cp(){return At().memoizedState}function jo(t,s,i,l){var d=mn();l=l===void 0?null:l,De.flags|=t,d.memoizedState=Aa(1|s,Eo(),i,l)}function Ki(t,s,i,l){var d=At();l=l===void 0?null:l;var f=d.memoizedState.inst;rt!==null&&l!==null&&Ic(l,rt.memoizedState.deps)?d.memoizedState=Aa(s,f,i,l):(De.flags|=t,d.memoizedState=Aa(1|s,f,i,l))}function dp(t,s){jo(8390656,8,t,s)}function hp(t,s){Ki(2048,8,t,s)}function fp(t,s){return Ki(4,2,t,s)}function mp(t,s){return Ki(4,4,t,s)}function pp(t,s){if(typeof s=="function"){t=t();var i=s(t);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function yp(t,s,i){i=i!=null?i.concat([t]):null,Ki(4,4,pp.bind(null,s,t),i)}function td(){}function gp(t,s){var i=At();s=s===void 0?null:s;var l=i.memoizedState;return s!==null&&Ic(s,l[1])?l[0]:(i.memoizedState=[t,s],t)}function vp(t,s){var i=At();s=s===void 0?null:s;var l=i.memoizedState;if(s!==null&&Ic(s,l[1]))return l[0];if(l=t(),Ur){Me(!0);try{t()}finally{Me(!1)}}return i.memoizedState=[l,s],l}function nd(t,s,i){return i===void 0||(Zs&1073741824)!==0?t.memoizedState=s:(t.memoizedState=i,t=wy(),De.lanes|=t,nr|=t,i)}function bp(t,s,i,l){return bn(i,s)?i:Ea.current!==null?(t=nd(t,i,l),bn(t,s)||(Vt=!0),t):(Zs&42)===0?(Vt=!0,t.memoizedState=i):(t=wy(),De.lanes|=t,nr|=t,s)}function _p(t,s,i,l,d){var f=X.p;X.p=f!==0&&8>f?f:8;var v=P.T,b={};P.T=b,ad(t,!1,s,i);try{var S=d(),M=P.S;if(M!==null&&M(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var V=G0(S,l);Fi(t,s,V,En(t))}else Fi(t,s,l,En(t))}catch(I){Fi(t,s,{then:function(){},status:"rejected",reason:I},En())}finally{X.p=f,P.T=v}}function Y0(){}function sd(t,s,i,l){if(t.tag!==5)throw Error(a(476));var d=wp(t).queue;_p(t,d,s,Q,i===null?Y0:function(){return xp(t),i(l)})}function wp(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:Q},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:i},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function xp(t){var s=wp(t).next.queue;Fi(t,s,{},En())}function rd(){return tn(dl)}function Sp(){return At().memoizedState}function Ep(){return At().memoizedState}function X0(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var i=En();t=Fs(i);var l=Qs(s,t,i);l!==null&&(jn(l,s,i),$i(l,s,i)),s={cache:Uc()},t.payload=s;return}s=s.return}}function J0(t,s,i){var l=En();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},To(t)?Tp(s,i):(i=Ec(t,s,i,l),i!==null&&(jn(i,t,l),Ap(i,s,l)))}function jp(t,s,i){var l=En();Fi(t,s,i,l)}function Fi(t,s,i,l){var d={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(To(t))Tp(s,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var v=s.lastRenderedState,b=f(v,i);if(d.hasEagerState=!0,d.eagerState=b,bn(b,v))return oo(t,s,d,0),dt===null&&lo(),!1}catch{}if(i=Ec(t,s,d,l),i!==null)return jn(i,t,l),Ap(i,s,l),!0}return!1}function ad(t,s,i,l){if(l={lane:2,revertLane:Ld(),action:l,hasEagerState:!1,eagerState:null,next:null},To(t)){if(s)throw Error(a(479))}else s=Ec(t,i,l,2),s!==null&&jn(s,t,2)}function To(t){var s=t.alternate;return t===De||s!==null&&s===De}function Tp(t,s){ja=_o=!0;var i=t.pending;i===null?s.next=s:(s.next=i.next,i.next=s),t.pending=s}function Ap(t,s,i){if((i&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,i|=l,s.lanes=i,Mf(t,i)}}var Ao={readContext:tn,use:xo,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},Rp={readContext:tn,use:xo,useCallback:function(t,s){return mn().memoizedState=[t,s===void 0?null:s],t},useContext:tn,useEffect:dp,useImperativeHandle:function(t,s,i){i=i!=null?i.concat([t]):null,jo(4194308,4,pp.bind(null,s,t),i)},useLayoutEffect:function(t,s){return jo(4194308,4,t,s)},useInsertionEffect:function(t,s){jo(4,2,t,s)},useMemo:function(t,s){var i=mn();s=s===void 0?null:s;var l=t();if(Ur){Me(!0);try{t()}finally{Me(!1)}}return i.memoizedState=[l,s],l},useReducer:function(t,s,i){var l=mn();if(i!==void 0){var d=i(s);if(Ur){Me(!0);try{i(s)}finally{Me(!1)}}}else d=s;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=J0.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var s=mn();return t={current:t},s.memoizedState=t},useState:function(t){t=Wc(t);var s=t.queue,i=jp.bind(null,De,s);return s.dispatch=i,[t.memoizedState,i]},useDebugValue:td,useDeferredValue:function(t,s){var i=mn();return nd(i,t,s)},useTransition:function(){var t=Wc(!1);return t=_p.bind(null,De,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,i){var l=De,d=mn();if(tt){if(i===void 0)throw Error(a(407));i=i()}else{if(i=s(),dt===null)throw Error(a(349));(Ke&124)!==0||Zm(l,s,i)}d.memoizedState=i;var f={value:i,getSnapshot:s};return d.queue=f,dp(Xm.bind(null,l,f,t),[t]),l.flags|=2048,Aa(9,Eo(),Ym.bind(null,l,f,i,s),null),i},useId:function(){var t=mn(),s=dt.identifierPrefix;if(tt){var i=xs,l=ws;i=(l&~(1<<32-Ne(l)-1)).toString(32)+i,s=""+s+"R"+i,i=wo++,0<i&&(s+="H"+i.toString(32)),s+=""}else i=K0++,s=""+s+"r"+i.toString(32)+"";return t.memoizedState=s},useHostTransitionStatus:rd,useFormState:ip,useActionState:ip,useOptimistic:function(t){var s=mn();s.memoizedState=s.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=ad.bind(null,De,!0,i),i.dispatch=s,[t,s]},useMemoCache:Yc,useCacheRefresh:function(){return mn().memoizedState=X0.bind(null,De)}},Op={readContext:tn,use:xo,useCallback:gp,useContext:tn,useEffect:hp,useImperativeHandle:yp,useInsertionEffect:fp,useLayoutEffect:mp,useMemo:vp,useReducer:So,useRef:cp,useState:function(){return So(js)},useDebugValue:td,useDeferredValue:function(t,s){var i=At();return bp(i,rt.memoizedState,t,s)},useTransition:function(){var t=So(js)[0],s=At().memoizedState;return[typeof t=="boolean"?t:Gi(t),s]},useSyncExternalStore:Qm,useId:Sp,useHostTransitionStatus:rd,useFormState:lp,useActionState:lp,useOptimistic:function(t,s){var i=At();return ep(i,rt,t,s)},useMemoCache:Yc,useCacheRefresh:Ep},W0={readContext:tn,use:xo,useCallback:gp,useContext:tn,useEffect:hp,useImperativeHandle:yp,useInsertionEffect:fp,useLayoutEffect:mp,useMemo:vp,useReducer:Jc,useRef:cp,useState:function(){return Jc(js)},useDebugValue:td,useDeferredValue:function(t,s){var i=At();return rt===null?nd(i,t,s):bp(i,rt.memoizedState,t,s)},useTransition:function(){var t=Jc(js)[0],s=At().memoizedState;return[typeof t=="boolean"?t:Gi(t),s]},useSyncExternalStore:Qm,useId:Sp,useHostTransitionStatus:rd,useFormState:up,useActionState:up,useOptimistic:function(t,s){var i=At();return rt!==null?ep(i,rt,t,s):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:Ep},Ra=null,Qi=0;function Ro(t){var s=Qi;return Qi+=1,Ra===null&&(Ra=[]),Pm(Ra,t,s)}function Zi(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Oo(t,s){throw s.$$typeof===_?Error(a(525)):(t=Object.prototype.toString.call(s),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Np(t){var s=t._init;return s(t._payload)}function kp(t){function s(k,R){if(t){var U=k.deletions;U===null?(k.deletions=[R],k.flags|=16):U.push(R)}}function i(k,R){if(!t)return null;for(;R!==null;)s(k,R),R=R.sibling;return null}function l(k){for(var R=new Map;k!==null;)k.key!==null?R.set(k.key,k):R.set(k.index,k),k=k.sibling;return R}function d(k,R){return k=_s(k,R),k.index=0,k.sibling=null,k}function f(k,R,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<R?(k.flags|=67108866,R):U):(k.flags|=67108866,R)):(k.flags|=1048576,R)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function b(k,R,U,H){return R===null||R.tag!==6?(R=Tc(U,k.mode,H),R.return=k,R):(R=d(R,U),R.return=k,R)}function S(k,R,U,H){var de=U.type;return de===A?V(k,R,U.props.children,H,U.key):R!==null&&(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===F&&Np(de)===R.type)?(R=d(R,U.props),Zi(R,U),R.return=k,R):(R=co(U.type,U.key,U.props,null,k.mode,H),Zi(R,U),R.return=k,R)}function M(k,R,U,H){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=Ac(U,k.mode,H),R.return=k,R):(R=d(R,U.children||[]),R.return=k,R)}function V(k,R,U,H,de){return R===null||R.tag!==7?(R=Tr(U,k.mode,H,de),R.return=k,R):(R=d(R,U),R.return=k,R)}function I(k,R,U){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Tc(""+R,k.mode,U),R.return=k,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case w:return U=co(R.type,R.key,R.props,null,k.mode,U),Zi(U,R),U.return=k,U;case x:return R=Ac(R,k.mode,U),R.return=k,R;case F:var H=R._init;return R=H(R._payload),I(k,R,U)}if(Oe(R)||ue(R))return R=Tr(R,k.mode,U,null),R.return=k,R;if(typeof R.then=="function")return I(k,Ro(R),U);if(R.$$typeof===D)return I(k,po(k,R),U);Oo(k,R)}return null}function z(k,R,U,H){var de=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:b(k,R,""+U,H);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===de?S(k,R,U,H):null;case x:return U.key===de?M(k,R,U,H):null;case F:return de=U._init,U=de(U._payload),z(k,R,U,H)}if(Oe(U)||ue(U))return de!==null?null:V(k,R,U,H,null);if(typeof U.then=="function")return z(k,R,Ro(U),H);if(U.$$typeof===D)return z(k,R,po(k,U),H);Oo(k,U)}return null}function B(k,R,U,H,de){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return k=k.get(U)||null,b(R,k,""+H,de);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return k=k.get(H.key===null?U:H.key)||null,S(R,k,H,de);case x:return k=k.get(H.key===null?U:H.key)||null,M(R,k,H,de);case F:var qe=H._init;return H=qe(H._payload),B(k,R,U,H,de)}if(Oe(H)||ue(H))return k=k.get(U)||null,V(R,k,H,de,null);if(typeof H.then=="function")return B(k,R,U,Ro(H),de);if(H.$$typeof===D)return B(k,R,U,po(R,H),de);Oo(R,H)}return null}function je(k,R,U,H){for(var de=null,qe=null,ve=R,xe=R=0,It=null;ve!==null&&xe<U.length;xe++){ve.index>xe?(It=ve,ve=null):It=ve.sibling;var Ye=z(k,ve,U[xe],H);if(Ye===null){ve===null&&(ve=It);break}t&&ve&&Ye.alternate===null&&s(k,ve),R=f(Ye,R,xe),qe===null?de=Ye:qe.sibling=Ye,qe=Ye,ve=It}if(xe===U.length)return i(k,ve),tt&&Rr(k,xe),de;if(ve===null){for(;xe<U.length;xe++)ve=I(k,U[xe],H),ve!==null&&(R=f(ve,R,xe),qe===null?de=ve:qe.sibling=ve,qe=ve);return tt&&Rr(k,xe),de}for(ve=l(ve);xe<U.length;xe++)It=B(ve,k,xe,U[xe],H),It!==null&&(t&&It.alternate!==null&&ve.delete(It.key===null?xe:It.key),R=f(It,R,xe),qe===null?de=It:qe.sibling=It,qe=It);return t&&ve.forEach(function(dr){return s(k,dr)}),tt&&Rr(k,xe),de}function _e(k,R,U,H){if(U==null)throw Error(a(151));for(var de=null,qe=null,ve=R,xe=R=0,It=null,Ye=U.next();ve!==null&&!Ye.done;xe++,Ye=U.next()){ve.index>xe?(It=ve,ve=null):It=ve.sibling;var dr=z(k,ve,Ye.value,H);if(dr===null){ve===null&&(ve=It);break}t&&ve&&dr.alternate===null&&s(k,ve),R=f(dr,R,xe),qe===null?de=dr:qe.sibling=dr,qe=dr,ve=It}if(Ye.done)return i(k,ve),tt&&Rr(k,xe),de;if(ve===null){for(;!Ye.done;xe++,Ye=U.next())Ye=I(k,Ye.value,H),Ye!==null&&(R=f(Ye,R,xe),qe===null?de=Ye:qe.sibling=Ye,qe=Ye);return tt&&Rr(k,xe),de}for(ve=l(ve);!Ye.done;xe++,Ye=U.next())Ye=B(ve,k,xe,Ye.value,H),Ye!==null&&(t&&Ye.alternate!==null&&ve.delete(Ye.key===null?xe:Ye.key),R=f(Ye,R,xe),qe===null?de=Ye:qe.sibling=Ye,qe=Ye);return t&&ve.forEach(function(ex){return s(k,ex)}),tt&&Rr(k,xe),de}function it(k,R,U,H){if(typeof U=="object"&&U!==null&&U.type===A&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:e:{for(var de=U.key;R!==null;){if(R.key===de){if(de=U.type,de===A){if(R.tag===7){i(k,R.sibling),H=d(R,U.props.children),H.return=k,k=H;break e}}else if(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===F&&Np(de)===R.type){i(k,R.sibling),H=d(R,U.props),Zi(H,U),H.return=k,k=H;break e}i(k,R);break}else s(k,R);R=R.sibling}U.type===A?(H=Tr(U.props.children,k.mode,H,U.key),H.return=k,k=H):(H=co(U.type,U.key,U.props,null,k.mode,H),Zi(H,U),H.return=k,k=H)}return v(k);case x:e:{for(de=U.key;R!==null;){if(R.key===de)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){i(k,R.sibling),H=d(R,U.children||[]),H.return=k,k=H;break e}else{i(k,R);break}else s(k,R);R=R.sibling}H=Ac(U,k.mode,H),H.return=k,k=H}return v(k);case F:return de=U._init,U=de(U._payload),it(k,R,U,H)}if(Oe(U))return je(k,R,U,H);if(ue(U)){if(de=ue(U),typeof de!="function")throw Error(a(150));return U=de.call(U),_e(k,R,U,H)}if(typeof U.then=="function")return it(k,R,Ro(U),H);if(U.$$typeof===D)return it(k,R,po(k,U),H);Oo(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,R!==null&&R.tag===6?(i(k,R.sibling),H=d(R,U),H.return=k,k=H):(i(k,R),H=Tc(U,k.mode,H),H.return=k,k=H),v(k)):i(k,R)}return function(k,R,U,H){try{Qi=0;var de=it(k,R,U,H);return Ra=null,de}catch(ve){if(ve===Bi||ve===go)throw ve;var qe=_n(29,ve,null,k.mode);return qe.lanes=H,qe.return=k,qe}}}var Oa=kp(!0),Cp=kp(!1),Hn=G(null),ds=null;function Ys(t){var s=t.alternate;W(Mt,Mt.current&1),W(Hn,t),ds===null&&(s===null||Ea.current!==null||s.memoizedState!==null)&&(ds=t)}function Dp(t){if(t.tag===22){if(W(Mt,Mt.current),W(Hn,t),ds===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(ds=t)}}else Xs()}function Xs(){W(Mt,Mt.current),W(Hn,Hn.current)}function Ts(t){se(Hn),ds===t&&(ds=null),se(Mt)}var Mt=G(0);function No(t){for(var s=t;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Zd(i)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function id(t,s,i,l){s=t.memoizedState,i=i(l,s),i=i==null?s:g({},s,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var ld={enqueueSetState:function(t,s,i){t=t._reactInternals;var l=En(),d=Fs(l);d.payload=s,i!=null&&(d.callback=i),s=Qs(t,d,l),s!==null&&(jn(s,t,l),$i(s,t,l))},enqueueReplaceState:function(t,s,i){t=t._reactInternals;var l=En(),d=Fs(l);d.tag=1,d.payload=s,i!=null&&(d.callback=i),s=Qs(t,d,l),s!==null&&(jn(s,t,l),$i(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var i=En(),l=Fs(i);l.tag=2,s!=null&&(l.callback=s),s=Qs(t,l,i),s!==null&&(jn(s,t,i),$i(s,t,i))}};function Up(t,s,i,l,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):s.prototype&&s.prototype.isPureReactComponent?!ki(i,l)||!ki(d,f):!0}function Mp(t,s,i,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,l),s.state!==t&&ld.enqueueReplaceState(s,s.state,null)}function Mr(t,s){var i=s;if("ref"in s){i={};for(var l in s)l!=="ref"&&(i[l]=s[l])}if(t=t.defaultProps){i===s&&(i=g({},i));for(var d in t)i[d]===void 0&&(i[d]=t[d])}return i}var ko=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function qp(t){ko(t)}function Lp(t){console.error(t)}function zp(t){ko(t)}function Co(t,s){try{var i=t.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Bp(t,s,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function od(t,s,i){return i=Fs(i),i.tag=3,i.payload={element:null},i.callback=function(){Co(t,s)},i}function Pp(t){return t=Fs(t),t.tag=3,t}function $p(t,s,i,l){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Bp(s,i,l)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Bp(s,i,l),typeof d!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function ew(t,s,i,l,d){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=i.alternate,s!==null&&qi(s,i,d,!0),i=Hn.current,i!==null){switch(i.tag){case 13:return ds===null?Cd():i.alternate===null&&_t===0&&(_t=3),i.flags&=-257,i.flags|=65536,i.lanes=d,l===Lc?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([l]):s.add(l),Ud(t,l,d)),!1;case 22:return i.flags|=65536,l===Lc?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([l]):i.add(l)),Ud(t,l,d)),!1}throw Error(a(435,i.tag))}return Ud(t,l,d),Cd(),!1}if(tt)return s=Hn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==Nc&&(t=Error(a(422),{cause:l}),Mi(Bn(t,i)))):(l!==Nc&&(s=Error(a(423),{cause:l}),Mi(Bn(s,i))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Bn(l,i),d=od(t.stateNode,l,d),Pc(t,d),_t!==4&&(_t=2)),!1;var f=Error(a(520),{cause:l});if(f=Bn(f,i),nl===null?nl=[f]:nl.push(f),_t!==4&&(_t=2),s===null)return!0;l=Bn(l,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,t=d&-d,i.lanes|=t,t=od(i.stateNode,l,t),Pc(i,t),!1;case 1:if(s=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(sr===null||!sr.has(f))))return i.flags|=65536,d&=-d,i.lanes|=d,d=Pp(d),$p(d,t,i,l),Pc(i,d),!1}i=i.return}while(i!==null);return!1}var Vp=Error(a(461)),Vt=!1;function Kt(t,s,i,l){s.child=t===null?Cp(s,null,i,l):Oa(s,t.child,i,l)}function Hp(t,s,i,l,d){i=i.render;var f=s.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Cr(s),l=Gc(t,s,i,v,f,d),b=Kc(),t!==null&&!Vt?(Fc(t,s,d),As(t,s,d)):(tt&&b&&Rc(s),s.flags|=1,Kt(t,s,l,d),s.child)}function Ip(t,s,i,l,d){if(t===null){var f=i.type;return typeof f=="function"&&!jc(f)&&f.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=f,Gp(t,s,f,l,d)):(t=co(i.type,null,l,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!yd(t,d)){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:ki,i(v,l)&&t.ref===s.ref)return As(t,s,d)}return s.flags|=1,t=_s(f,l),t.ref=s.ref,t.return=s,s.child=t}function Gp(t,s,i,l,d){if(t!==null){var f=t.memoizedProps;if(ki(f,l)&&t.ref===s.ref)if(Vt=!1,s.pendingProps=l=f,yd(t,d))(t.flags&131072)!==0&&(Vt=!0);else return s.lanes=t.lanes,As(t,s,d)}return ud(t,s,i,l,d)}function Kp(t,s,i){var l=s.pendingProps,d=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=f!==null?f.baseLanes|i:i,t!==null){for(d=s.child=t.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;s.childLanes=f&~l}else s.childLanes=0,s.child=null;return Fp(t,s,l,i)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&yo(s,f!==null?f.cachePool:null),f!==null?Gm(s,f):Vc(),Dp(s);else return s.lanes=s.childLanes=536870912,Fp(t,s,f!==null?f.baseLanes|i:i,i)}else f!==null?(yo(s,f.cachePool),Gm(s,f),Xs(),s.memoizedState=null):(t!==null&&yo(s,null),Vc(),Xs());return Kt(t,s,d,i),s.child}function Fp(t,s,i,l){var d=qc();return d=d===null?null:{parent:Ut._currentValue,pool:d},s.memoizedState={baseLanes:i,cachePool:d},t!==null&&yo(s,null),Vc(),Dp(s),t!==null&&qi(t,s,l,!0),null}function Do(t,s){var i=s.ref;if(i===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(t===null||t.ref!==i)&&(s.flags|=4194816)}}function ud(t,s,i,l,d){return Cr(s),i=Gc(t,s,i,l,void 0,d),l=Kc(),t!==null&&!Vt?(Fc(t,s,d),As(t,s,d)):(tt&&l&&Rc(s),s.flags|=1,Kt(t,s,i,d),s.child)}function Qp(t,s,i,l,d,f){return Cr(s),s.updateQueue=null,i=Fm(s,l,i,d),Km(t),l=Kc(),t!==null&&!Vt?(Fc(t,s,f),As(t,s,f)):(tt&&l&&Rc(s),s.flags|=1,Kt(t,s,i,f),s.child)}function Zp(t,s,i,l,d){if(Cr(s),s.stateNode===null){var f=ba,v=i.contextType;typeof v=="object"&&v!==null&&(f=tn(v)),f=new i(l,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ld,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=l,f.state=s.memoizedState,f.refs={},zc(s),v=i.contextType,f.context=typeof v=="object"&&v!==null?tn(v):ba,f.state=s.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(id(s,i,v,l),f.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&ld.enqueueReplaceState(f,f.state,null),Hi(s,l,f,d),Vi(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){f=s.stateNode;var b=s.memoizedProps,S=Mr(i,b);f.props=S;var M=f.context,V=i.contextType;v=ba,typeof V=="object"&&V!==null&&(v=tn(V));var I=i.getDerivedStateFromProps;V=typeof I=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,V||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||M!==v)&&Mp(s,f,l,v),Ks=!1;var z=s.memoizedState;f.state=z,Hi(s,l,f,d),Vi(),M=s.memoizedState,b||z!==M||Ks?(typeof I=="function"&&(id(s,i,I,l),M=s.memoizedState),(S=Ks||Up(s,i,S,l,z,M,v))?(V||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=M),f.props=l,f.state=M,f.context=v,l=S):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{f=s.stateNode,Bc(t,s),v=s.memoizedProps,V=Mr(i,v),f.props=V,I=s.pendingProps,z=f.context,M=i.contextType,S=ba,typeof M=="object"&&M!==null&&(S=tn(M)),b=i.getDerivedStateFromProps,(M=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==I||z!==S)&&Mp(s,f,l,S),Ks=!1,z=s.memoizedState,f.state=z,Hi(s,l,f,d),Vi();var B=s.memoizedState;v!==I||z!==B||Ks||t!==null&&t.dependencies!==null&&mo(t.dependencies)?(typeof b=="function"&&(id(s,i,b,l),B=s.memoizedState),(V=Ks||Up(s,i,V,l,z,B,S)||t!==null&&t.dependencies!==null&&mo(t.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,S)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=B),f.props=l,f.state=B,f.context=S,l=V):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(s.flags|=1024),l=!1)}return f=l,Do(t,s),l=(s.flags&128)!==0,f||l?(f=s.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&l?(s.child=Oa(s,t.child,null,d),s.child=Oa(s,null,i,d)):Kt(t,s,i,d),s.memoizedState=f.state,t=s.child):t=As(t,s,d),t}function Yp(t,s,i,l){return Ui(),s.flags|=256,Kt(t,s,i,l),s.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(t){return{baseLanes:t,cachePool:Lm()}}function hd(t,s,i){return t=t!==null?t.childLanes&~i:0,s&&(t|=In),t}function Xp(t,s,i){var l=s.pendingProps,d=!1,f=(s.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(tt){if(d?Ys(s):Xs(),tt){var b=bt,S;if(S=b){e:{for(S=b,b=cs;S.nodeType!==8;){if(!b){b=null;break e}if(S=Jn(S.nextSibling),S===null){b=null;break e}}b=S}b!==null?(s.memoizedState={dehydrated:b,treeContext:Ar!==null?{id:ws,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},S=_n(18,null,null,0),S.stateNode=b,S.return=s,s.child=S,on=s,bt=null,S=!0):S=!1}S||Nr(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Zd(b)?s.lanes=32:s.lanes=536870912,null;Ts(s)}return b=l.children,l=l.fallback,d?(Xs(),d=s.mode,b=Uo({mode:"hidden",children:b},d),l=Tr(l,d,i,null),b.return=s,l.return=s,b.sibling=l,s.child=b,d=s.child,d.memoizedState=dd(i),d.childLanes=hd(t,v,i),s.memoizedState=cd,l):(Ys(s),fd(s,b))}if(S=t.memoizedState,S!==null&&(b=S.dehydrated,b!==null)){if(f)s.flags&256?(Ys(s),s.flags&=-257,s=md(t,s,i)):s.memoizedState!==null?(Xs(),s.child=t.child,s.flags|=128,s=null):(Xs(),d=l.fallback,b=s.mode,l=Uo({mode:"visible",children:l.children},b),d=Tr(d,b,i,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,Oa(s,t.child,null,i),l=s.child,l.memoizedState=dd(i),l.childLanes=hd(t,v,i),s.memoizedState=cd,s=d);else if(Ys(s),Zd(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var M=v.dgst;v=M,l=Error(a(419)),l.stack="",l.digest=v,Mi({value:l,source:null,stack:null}),s=md(t,s,i)}else if(Vt||qi(t,s,i,!1),v=(i&t.childLanes)!==0,Vt||v){if(v=dt,v!==null&&(l=i&-i,l=(l&42)!==0?1:Yu(l),l=(l&(v.suspendedLanes|i))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,va(t,l),jn(v,t,l),Vp;b.data==="$?"||Cd(),s=md(t,s,i)}else b.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=S.treeContext,bt=Jn(b.nextSibling),on=s,tt=!0,Or=null,cs=!1,t!==null&&($n[Vn++]=ws,$n[Vn++]=xs,$n[Vn++]=Ar,ws=t.id,xs=t.overflow,Ar=s),s=fd(s,l.children),s.flags|=4096);return s}return d?(Xs(),d=l.fallback,b=s.mode,S=t.child,M=S.sibling,l=_s(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,M!==null?d=_s(M,d):(d=Tr(d,b,i,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,b=t.child.memoizedState,b===null?b=dd(i):(S=b.cachePool,S!==null?(M=Ut._currentValue,S=S.parent!==M?{parent:M,pool:M}:S):S=Lm(),b={baseLanes:b.baseLanes|i,cachePool:S}),d.memoizedState=b,d.childLanes=hd(t,v,i),s.memoizedState=cd,l):(Ys(s),i=t.child,t=i.sibling,i=_s(i,{mode:"visible",children:l.children}),i.return=s,i.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=i,s.memoizedState=null,i)}function fd(t,s){return s=Uo({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Uo(t,s){return t=_n(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function md(t,s,i){return Oa(s,t.child,null,i),t=fd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Jp(t,s,i){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Cc(t.return,s,i)}function pd(t,s,i,l,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d}:(f.isBackwards=s,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=d)}function Wp(t,s,i){var l=s.pendingProps,d=l.revealOrder,f=l.tail;if(Kt(t,s,l.children,i),l=Mt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jp(t,i,s);else if(t.tag===19)Jp(t,i,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Mt,l),d){case"forwards":for(i=s.child,d=null;i!==null;)t=i.alternate,t!==null&&No(t)===null&&(d=i),i=i.sibling;i=d,i===null?(d=s.child,s.child=null):(d=i.sibling,i.sibling=null),pd(s,!1,d,i,f);break;case"backwards":for(i=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&No(t)===null){s.child=d;break}t=d.sibling,d.sibling=i,i=d,d=t}pd(s,!0,i,null,f);break;case"together":pd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function As(t,s,i){if(t!==null&&(s.dependencies=t.dependencies),nr|=s.lanes,(i&s.childLanes)===0)if(t!==null){if(qi(t,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(a(153));if(s.child!==null){for(t=s.child,i=_s(t,t.pendingProps),s.child=i,i.return=s;t.sibling!==null;)t=t.sibling,i=i.sibling=_s(t,t.pendingProps),i.return=s;i.sibling=null}return s.child}function yd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&mo(t)))}function tw(t,s,i){switch(s.tag){case 3:et(s,s.stateNode.containerInfo),Gs(s,Ut,t.memoizedState.cache),Ui();break;case 27:case 5:Un(s);break;case 4:et(s,s.stateNode.containerInfo);break;case 10:Gs(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Ys(s),s.flags|=128,null):(i&s.child.childLanes)!==0?Xp(t,s,i):(Ys(s),t=As(t,s,i),t!==null?t.sibling:null);Ys(s);break;case 19:var d=(t.flags&128)!==0;if(l=(i&s.childLanes)!==0,l||(qi(t,s,i,!1),l=(i&s.childLanes)!==0),d){if(l)return Wp(t,s,i);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),W(Mt,Mt.current),l)break;return null;case 22:case 23:return s.lanes=0,Kp(t,s,i);case 24:Gs(s,Ut,t.memoizedState.cache)}return As(t,s,i)}function ey(t,s,i){if(t!==null)if(t.memoizedProps!==s.pendingProps)Vt=!0;else{if(!yd(t,i)&&(s.flags&128)===0)return Vt=!1,tw(t,s,i);Vt=(t.flags&131072)!==0}else Vt=!1,tt&&(s.flags&1048576)!==0&&Nm(s,fo,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")jc(l)?(t=Mr(l,t),s.tag=1,s=Zp(null,s,l,t,i)):(s.tag=0,s=ud(null,s,l,t,i));else{if(l!=null){if(d=l.$$typeof,d===Z){s.tag=11,s=Hp(null,s,l,t,i);break e}else if(d===ce){s.tag=14,s=Ip(null,s,l,t,i);break e}}throw s=Te(l)||l,Error(a(306,s,""))}}return s;case 0:return ud(t,s,s.type,s.pendingProps,i);case 1:return l=s.type,d=Mr(l,s.pendingProps),Zp(t,s,l,d,i);case 3:e:{if(et(s,s.stateNode.containerInfo),t===null)throw Error(a(387));l=s.pendingProps;var f=s.memoizedState;d=f.element,Bc(t,s),Hi(s,l,null,i);var v=s.memoizedState;if(l=v.cache,Gs(s,Ut,l),l!==f.cache&&Dc(s,[Ut],i,!0),Vi(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=Yp(t,s,l,i);break e}else if(l!==d){d=Bn(Error(a(424)),s),Mi(d),s=Yp(t,s,l,i);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,bt=Jn(t.firstChild),on=s,tt=!0,Or=null,cs=!0,i=Cp(s,null,l,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ui(),l===d){s=As(t,s,i);break e}Kt(t,s,l,i)}s=s.child}return s;case 26:return Do(t,s),t===null?(i=rg(s.type,null,s.pendingProps,null))?s.memoizedState=i:tt||(i=s.type,t=s.pendingProps,l=Qo(we.current).createElement(i),l[en]=s,l[hn]=t,Qt(l,i,t),$t(l),s.stateNode=l):s.memoizedState=rg(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Un(s),t===null&&tt&&(l=s.stateNode=tg(s.type,s.pendingProps,we.current),on=s,cs=!0,d=bt,ir(s.type)?(Yd=d,bt=Jn(l.firstChild)):bt=d),Kt(t,s,s.pendingProps.children,i),Do(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&tt&&((d=l=bt)&&(l=Ow(l,s.type,s.pendingProps,cs),l!==null?(s.stateNode=l,on=s,bt=Jn(l.firstChild),cs=!1,d=!0):d=!1),d||Nr(s)),Un(s),d=s.type,f=s.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Kd(d,f)?l=null:v!==null&&Kd(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=Gc(t,s,F0,null,null,i),dl._currentValue=d),Do(t,s),Kt(t,s,l,i),s.child;case 6:return t===null&&tt&&((t=i=bt)&&(i=Nw(i,s.pendingProps,cs),i!==null?(s.stateNode=i,on=s,bt=null,t=!0):t=!1),t||Nr(s)),null;case 13:return Xp(t,s,i);case 4:return et(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Oa(s,null,l,i):Kt(t,s,l,i),s.child;case 11:return Hp(t,s,s.type,s.pendingProps,i);case 7:return Kt(t,s,s.pendingProps,i),s.child;case 8:return Kt(t,s,s.pendingProps.children,i),s.child;case 12:return Kt(t,s,s.pendingProps.children,i),s.child;case 10:return l=s.pendingProps,Gs(s,s.type,l.value),Kt(t,s,l.children,i),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,Cr(s),d=tn(d),l=l(d),s.flags|=1,Kt(t,s,l,i),s.child;case 14:return Ip(t,s,s.type,s.pendingProps,i);case 15:return Gp(t,s,s.type,s.pendingProps,i);case 19:return Wp(t,s,i);case 31:return l=s.pendingProps,i=s.mode,l={mode:l.mode,children:l.children},t===null?(i=Uo(l,i),i.ref=s.ref,s.child=i,i.return=s,s=i):(i=_s(t.child,l),i.ref=s.ref,s.child=i,i.return=s,s=i),s;case 22:return Kp(t,s,i);case 24:return Cr(s),l=tn(Ut),t===null?(d=qc(),d===null&&(d=dt,f=Uc(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=i),d=f),s.memoizedState={parent:l,cache:d},zc(s),Gs(s,Ut,d)):((t.lanes&i)!==0&&(Bc(t,s),Hi(s,null,null,i),Vi()),d=t.memoizedState,f=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Gs(s,Ut,l)):(l=f.cache,Gs(s,Ut,l),l!==d.cache&&Dc(s,[Ut],i,!0))),Kt(t,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Rs(t){t.flags|=4}function ty(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ug(s)){if(s=Hn.current,s!==null&&((Ke&4194048)===Ke?ds!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||s!==ds))throw Pi=Lc,zm;t.flags|=8192}}function Mo(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Df():536870912,t.lanes|=s,Da|=s)}function Yi(t,s){if(!tt)switch(t.tailMode){case"hidden":s=t.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var s=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(s)for(var d=t.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=i,s}function nw(t,s,i){var l=s.pendingProps;switch(Oc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(s),null;case 1:return yt(s),null;case 3:return i=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Es(Ut),Wt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Di(s)?Rs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dm())),yt(s),null;case 26:return i=s.memoizedState,t===null?(Rs(s),i!==null?(yt(s),ty(s,i)):(yt(s),s.flags&=-16777217)):i?i!==t.memoizedState?(Rs(s),yt(s),ty(s,i)):(yt(s),s.flags&=-16777217):(t.memoizedProps!==l&&Rs(s),yt(s),s.flags&=-16777217),null;case 27:Mn(s),i=we.current;var d=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==l&&Rs(s);else{if(!l){if(s.stateNode===null)throw Error(a(166));return yt(s),null}t=le.current,Di(s)?km(s):(t=tg(d,l,i),s.stateNode=t,Rs(s))}return yt(s),null;case 5:if(Mn(s),i=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&Rs(s);else{if(!l){if(s.stateNode===null)throw Error(a(166));return yt(s),null}if(t=le.current,Di(s))km(s);else{switch(d=Qo(we.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(i,{is:l.is}):d.createElement(i)}}t[en]=s,t[hn]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=t;e:switch(Qt(t,i,l),i){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Rs(s)}}return yt(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&Rs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(a(166));if(t=we.current,Di(s)){if(t=s.stateNode,i=s.memoizedProps,l=null,d=on,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[en]=s,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Qy(t.nodeValue,i)),t||Nr(s)}else t=Qo(t).createTextNode(l),t[en]=s,s.stateNode=t}return yt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Di(s),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[en]=s}else Ui(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yt(s),d=!1}else d=Dm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Ts(s),s):(Ts(s),null)}if(Ts(s),(s.flags&128)!==0)return s.lanes=i,s;if(i=l!==null,t=t!==null&&t.memoizedState!==null,i){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return i!==t&&i&&(s.child.flags|=8192),Mo(s,s.updateQueue),yt(s),null;case 4:return Wt(),t===null&&$d(s.stateNode.containerInfo),yt(s),null;case 10:return Es(s.type),yt(s),null;case 19:if(se(Mt),d=s.memoizedState,d===null)return yt(s),null;if(l=(s.flags&128)!==0,f=d.rendering,f===null)if(l)Yi(d,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=No(t),f!==null){for(s.flags|=128,Yi(d,!1),t=f.updateQueue,s.updateQueue=t,Mo(s,t),s.subtreeFlags=0,t=i,i=s.child;i!==null;)Om(i,t),i=i.sibling;return W(Mt,Mt.current&1|2),s.child}t=t.sibling}d.tail!==null&&qn()>zo&&(s.flags|=128,l=!0,Yi(d,!1),s.lanes=4194304)}else{if(!l)if(t=No(f),t!==null){if(s.flags|=128,l=!0,t=t.updateQueue,s.updateQueue=t,Mo(s,t),Yi(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!tt)return yt(s),null}else 2*qn()-d.renderingStartTime>zo&&i!==536870912&&(s.flags|=128,l=!0,Yi(d,!1),s.lanes=4194304);d.isBackwards?(f.sibling=s.child,s.child=f):(t=d.last,t!==null?t.sibling=f:s.child=f,d.last=f)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=qn(),s.sibling=null,t=Mt.current,W(Mt,l?t&1|2:t&1),s):(yt(s),null);case 22:case 23:return Ts(s),Hc(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(i&536870912)!==0&&(s.flags&128)===0&&(yt(s),s.subtreeFlags&6&&(s.flags|=8192)):yt(s),i=s.updateQueue,i!==null&&Mo(s,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==i&&(s.flags|=2048),t!==null&&se(Dr),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),Es(Ut),yt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function sw(t,s){switch(Oc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Es(Ut),Wt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Mn(s),null;case 13:if(Ts(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ui()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return se(Mt),null;case 4:return Wt(),null;case 10:return Es(s.type),null;case 22:case 23:return Ts(s),Hc(),t!==null&&se(Dr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Es(Ut),null;case 25:return null;default:return null}}function ny(t,s){switch(Oc(s),s.tag){case 3:Es(Ut),Wt();break;case 26:case 27:case 5:Mn(s);break;case 4:Wt();break;case 13:Ts(s);break;case 19:se(Mt);break;case 10:Es(s.type);break;case 22:case 23:Ts(s),Hc(),t!==null&&se(Dr);break;case 24:Es(Ut)}}function Xi(t,s){try{var i=s.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var d=l.next;i=d;do{if((i.tag&t)===t){l=void 0;var f=i.create,v=i.inst;l=f(),v.destroy=l}i=i.next}while(i!==d)}}catch(b){ot(s,s.return,b)}}function Js(t,s,i){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,d=s;var S=i,M=b;try{M()}catch(V){ot(d,S,V)}}}l=l.next}while(l!==f)}}catch(V){ot(s,s.return,V)}}function sy(t){var s=t.updateQueue;if(s!==null){var i=t.stateNode;try{Im(s,i)}catch(l){ot(t,t.return,l)}}}function ry(t,s,i){i.props=Mr(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){ot(t,s,l)}}function Ji(t,s){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(d){ot(t,s,d)}}function hs(t,s){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(d){ot(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){ot(t,s,d)}else i.current=null}function ay(t){var s=t.type,i=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(d){ot(t,t.return,d)}}function gd(t,s,i){try{var l=t.stateNode;Ew(l,t.type,i,s),l[hn]=s}catch(d){ot(t,t.return,d)}}function iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ir(t.type)||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bd(t,s,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(t),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Fo));else if(l!==4&&(l===27&&ir(t.type)&&(i=t.stateNode,s=null),t=t.child,t!==null))for(bd(t,s,i),t=t.sibling;t!==null;)bd(t,s,i),t=t.sibling}function qo(t,s,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?i.insertBefore(t,s):i.appendChild(t);else if(l!==4&&(l===27&&ir(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(qo(t,s,i),t=t.sibling;t!==null;)qo(t,s,i),t=t.sibling}function ly(t){var s=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Qt(s,l,i),s[en]=t,s[hn]=i}catch(f){ot(t,t.return,f)}}var Os=!1,Et=!1,_d=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function rw(t,s){if(t=t.containerInfo,Id=eu,t=bm(t),vc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var v=0,b=-1,S=-1,M=0,V=0,I=t,z=null;t:for(;;){for(var B;I!==i||d!==0&&I.nodeType!==3||(b=v+d),I!==f||l!==0&&I.nodeType!==3||(S=v+l),I.nodeType===3&&(v+=I.nodeValue.length),(B=I.firstChild)!==null;)z=I,I=B;for(;;){if(I===t)break t;if(z===i&&++M===d&&(b=v),z===f&&++V===l&&(S=v),(B=I.nextSibling)!==null)break;I=z,z=I.parentNode}I=B}i=b===-1||S===-1?null:{start:b,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(Gd={focusedElem:t,selectionRange:i},eu=!1,Ht=s;Ht!==null;)if(s=Ht,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,Ht=t;else for(;Ht!==null;){switch(s=Ht,f=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=s,d=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var je=Mr(i.type,d,i.elementType===i.type);t=l.getSnapshotBeforeUpdate(je,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){ot(i,i.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,i=t.nodeType,i===9)Qd(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=s.sibling,t!==null){t.return=s.return,Ht=t;break}Ht=s.return}}function uy(t,s,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Ws(t,i),l&4&&Xi(5,i);break;case 1:if(Ws(t,i),l&4)if(t=i.stateNode,s===null)try{t.componentDidMount()}catch(v){ot(i,i.return,v)}else{var d=Mr(i.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ot(i,i.return,v)}}l&64&&sy(i),l&512&&Ji(i,i.return);break;case 3:if(Ws(t,i),l&64&&(t=i.updateQueue,t!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{Im(t,s)}catch(v){ot(i,i.return,v)}}break;case 27:s===null&&l&4&&ly(i);case 26:case 5:Ws(t,i),s===null&&l&4&&ay(i),l&512&&Ji(i,i.return);break;case 12:Ws(t,i);break;case 13:Ws(t,i),l&4&&hy(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=fw.bind(null,i),kw(t,i))));break;case 22:if(l=i.memoizedState!==null||Os,!l){s=s!==null&&s.memoizedState!==null||Et,d=Os;var f=Et;Os=l,(Et=s)&&!f?er(t,i,(i.subtreeFlags&8772)!==0):Ws(t,i),Os=d,Et=f}break;case 30:break;default:Ws(t,i)}}function cy(t){var s=t.alternate;s!==null&&(t.alternate=null,cy(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Wu(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,pn=!1;function Ns(t,s,i){for(i=i.child;i!==null;)dy(t,s,i),i=i.sibling}function dy(t,s,i){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(J,i)}catch{}switch(i.tag){case 26:Et||hs(i,s),Ns(t,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Et||hs(i,s);var l=ft,d=pn;ir(i.type)&&(ft=i.stateNode,pn=!1),Ns(t,s,i),ll(i.stateNode),ft=l,pn=d;break;case 5:Et||hs(i,s);case 6:if(l=ft,d=pn,ft=null,Ns(t,s,i),ft=l,pn=d,ft!==null)if(pn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(i.stateNode)}catch(f){ot(i,s,f)}else try{ft.removeChild(i.stateNode)}catch(f){ot(i,s,f)}break;case 18:ft!==null&&(pn?(t=ft,Wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),pl(t)):Wy(ft,i.stateNode));break;case 4:l=ft,d=pn,ft=i.stateNode.containerInfo,pn=!0,Ns(t,s,i),ft=l,pn=d;break;case 0:case 11:case 14:case 15:Et||Js(2,i,s),Et||Js(4,i,s),Ns(t,s,i);break;case 1:Et||(hs(i,s),l=i.stateNode,typeof l.componentWillUnmount=="function"&&ry(i,s,l)),Ns(t,s,i);break;case 21:Ns(t,s,i);break;case 22:Et=(l=Et)||i.memoizedState!==null,Ns(t,s,i),Et=l;break;default:Ns(t,s,i)}}function hy(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pl(t)}catch(i){ot(s,s.return,i)}}function aw(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new oy),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new oy),s;default:throw Error(a(435,t.tag))}}function wd(t,s){var i=aw(t);s.forEach(function(l){var d=mw.bind(null,t,l);i.has(l)||(i.add(l),l.then(d,d))})}function wn(t,s){var i=s.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l],f=t,v=s,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(ir(b.type)){ft=b.stateNode,pn=!1;break e}break;case 5:ft=b.stateNode,pn=!1;break e;case 3:case 4:ft=b.stateNode.containerInfo,pn=!0;break e}b=b.return}if(ft===null)throw Error(a(160));dy(f,v,d),ft=null,pn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)fy(s,t),s=s.sibling}var Xn=null;function fy(t,s){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(s,t),xn(t),l&4&&(Js(3,t,t.return),Xi(3,t),Js(5,t,t.return));break;case 1:wn(s,t),xn(t),l&512&&(Et||i===null||hs(i,i.return)),l&64&&Os&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var d=Xn;if(wn(s,t),xn(t),l&512&&(Et||i===null||hs(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){e:{l=t.type,i=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[xi]||f[en]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Qt(f,l,i),f[en]=t,$t(f),l=f;break e;case"link":var v=lg("link","href",d).get(l+(i.href||""));if(v){for(var b=0;b<v.length;b++)if(f=v[b],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(b,1);break t}}f=d.createElement(l),Qt(f,l,i),d.head.appendChild(f);break;case"meta":if(v=lg("meta","content",d).get(l+(i.content||""))){for(b=0;b<v.length;b++)if(f=v[b],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(b,1);break t}}f=d.createElement(l),Qt(f,l,i),d.head.appendChild(f);break;default:throw Error(a(468,l))}f[en]=t,$t(f),l=f}t.stateNode=l}else og(d,t.type,t.stateNode);else t.stateNode=ig(d,l,t.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?og(d,t.type,t.stateNode):ig(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gd(t,t.memoizedProps,i.memoizedProps)}break;case 27:wn(s,t),xn(t),l&512&&(Et||i===null||hs(i,i.return)),i!==null&&l&4&&gd(t,t.memoizedProps,i.memoizedProps);break;case 5:if(wn(s,t),xn(t),l&512&&(Et||i===null||hs(i,i.return)),t.flags&32){d=t.stateNode;try{da(d,"")}catch(B){ot(t,t.return,B)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,gd(t,d,i!==null?i.memoizedProps:d)),l&1024&&(_d=!0);break;case 6:if(wn(s,t),xn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(B){ot(t,t.return,B)}}break;case 3:if(Xo=null,d=Xn,Xn=Zo(s.containerInfo),wn(s,t),Xn=d,xn(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{pl(s.containerInfo)}catch(B){ot(t,t.return,B)}_d&&(_d=!1,my(t));break;case 4:l=Xn,Xn=Zo(t.stateNode.containerInfo),wn(s,t),xn(t),Xn=l;break;case 12:wn(s,t),xn(t);break;case 13:wn(s,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ad=qn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wd(t,l)));break;case 22:d=t.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,M=Os,V=Et;if(Os=M||d,Et=V||S,wn(s,t),Et=V,Os=M,xn(t),l&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(i===null||S||Os||Et||qr(t)),i=null,s=t;;){if(s.tag===5||s.tag===26){if(i===null){S=i=s;try{if(f=S.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=S.stateNode;var I=S.memoizedProps.style,z=I!=null&&I.hasOwnProperty("display")?I.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){ot(S,S.return,B)}}}else if(s.tag===6){if(i===null){S=s;try{S.stateNode.nodeValue=d?"":S.memoizedProps}catch(B){ot(S,S.return,B)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,wd(t,i))));break;case 19:wn(s,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wd(t,l)));break;case 30:break;case 21:break;default:wn(s,t),xn(t)}}function xn(t){var s=t.flags;if(s&2){try{for(var i,l=t.return;l!==null;){if(iy(l)){i=l;break}l=l.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var d=i.stateNode,f=vd(t);qo(t,f,d);break;case 5:var v=i.stateNode;i.flags&32&&(da(v,""),i.flags&=-33);var b=vd(t);qo(t,b,v);break;case 3:case 4:var S=i.stateNode.containerInfo,M=vd(t);bd(t,M,S);break;default:throw Error(a(161))}}catch(V){ot(t,t.return,V)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function my(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;my(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Ws(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)uy(t,s.alternate,s),s=s.sibling}function qr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Js(4,s,s.return),qr(s);break;case 1:hs(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&ry(s,s.return,i),qr(s);break;case 27:ll(s.stateNode);case 26:case 5:hs(s,s.return),qr(s);break;case 22:s.memoizedState===null&&qr(s);break;case 30:qr(s);break;default:qr(s)}t=t.sibling}}function er(t,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=t,f=s,v=f.flags;switch(f.tag){case 0:case 11:case 15:er(d,f,i),Xi(4,f);break;case 1:if(er(d,f,i),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(M){ot(l,l.return,M)}if(l=f,d=l.updateQueue,d!==null){var b=l.stateNode;try{var S=d.shared.hiddenCallbacks;if(S!==null)for(d.shared.hiddenCallbacks=null,d=0;d<S.length;d++)Hm(S[d],b)}catch(M){ot(l,l.return,M)}}i&&v&64&&sy(f),Ji(f,f.return);break;case 27:ly(f);case 26:case 5:er(d,f,i),i&&l===null&&v&4&&ay(f),Ji(f,f.return);break;case 12:er(d,f,i);break;case 13:er(d,f,i),i&&v&4&&hy(d,f);break;case 22:f.memoizedState===null&&er(d,f,i),Ji(f,f.return);break;case 30:break;default:er(d,f,i)}s=s.sibling}}function xd(t,s){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Li(i))}function Sd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Li(t))}function fs(t,s,i,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)py(t,s,i,l),s=s.sibling}function py(t,s,i,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:fs(t,s,i,l),d&2048&&Xi(9,s);break;case 1:fs(t,s,i,l);break;case 3:fs(t,s,i,l),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Li(t)));break;case 12:if(d&2048){fs(t,s,i,l),t=s.stateNode;try{var f=s.memoizedProps,v=f.id,b=f.onPostCommit;typeof b=="function"&&b(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){ot(s,s.return,S)}}else fs(t,s,i,l);break;case 13:fs(t,s,i,l);break;case 23:break;case 22:f=s.stateNode,v=s.alternate,s.memoizedState!==null?f._visibility&2?fs(t,s,i,l):Wi(t,s):f._visibility&2?fs(t,s,i,l):(f._visibility|=2,Na(t,s,i,l,(s.subtreeFlags&10256)!==0)),d&2048&&xd(v,s);break;case 24:fs(t,s,i,l),d&2048&&Sd(s.alternate,s);break;default:fs(t,s,i,l)}}function Na(t,s,i,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var f=t,v=s,b=i,S=l,M=v.flags;switch(v.tag){case 0:case 11:case 15:Na(f,v,b,S,d),Xi(8,v);break;case 23:break;case 22:var V=v.stateNode;v.memoizedState!==null?V._visibility&2?Na(f,v,b,S,d):Wi(f,v):(V._visibility|=2,Na(f,v,b,S,d)),d&&M&2048&&xd(v.alternate,v);break;case 24:Na(f,v,b,S,d),d&&M&2048&&Sd(v.alternate,v);break;default:Na(f,v,b,S,d)}s=s.sibling}}function Wi(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=t,l=s,d=l.flags;switch(l.tag){case 22:Wi(i,l),d&2048&&xd(l.alternate,l);break;case 24:Wi(i,l),d&2048&&Sd(l.alternate,l);break;default:Wi(i,l)}s=s.sibling}}var el=8192;function ka(t){if(t.subtreeFlags&el)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 26:ka(t),t.flags&el&&t.memoizedState!==null&&Iw(Xn,t.memoizedState,t.memoizedProps);break;case 5:ka(t);break;case 3:case 4:var s=Xn;Xn=Zo(t.stateNode.containerInfo),ka(t),Xn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=el,el=16777216,ka(t),el=s):ka(t));break;default:ka(t)}}function gy(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function tl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var l=s[i];Ht=l,by(l,t)}gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vy(t),t=t.sibling}function vy(t){switch(t.tag){case 0:case 11:case 15:tl(t),t.flags&2048&&Js(9,t,t.return);break;case 3:tl(t);break;case 12:tl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Lo(t)):tl(t);break;default:tl(t)}}function Lo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var l=s[i];Ht=l,by(l,t)}gy(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Js(8,s,s.return),Lo(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,Lo(s));break;default:Lo(s)}t=t.sibling}}function by(t,s){for(;Ht!==null;){var i=Ht;switch(i.tag){case 0:case 11:case 15:Js(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Li(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,Ht=l;else e:for(i=t;Ht!==null;){l=Ht;var d=l.sibling,f=l.return;if(cy(l),l===i){Ht=null;break e}if(d!==null){d.return=f,Ht=d;break e}Ht=f}}}var iw={getCacheForType:function(t){var s=tn(Ut),i=s.data.get(t);return i===void 0&&(i=t(),s.data.set(t,i)),i}},lw=typeof WeakMap=="function"?WeakMap:Map,nt=0,dt=null,ze=null,Ke=0,st=0,Sn=null,tr=!1,Ca=!1,Ed=!1,ks=0,_t=0,nr=0,Lr=0,jd=0,In=0,Da=0,nl=null,yn=null,Td=!1,Ad=0,zo=1/0,Bo=null,sr=null,Ft=0,rr=null,Ua=null,Ma=0,Rd=0,Od=null,_y=null,sl=0,Nd=null;function En(){if((nt&2)!==0&&Ke!==0)return Ke&-Ke;if(P.T!==null){var t=xa;return t!==0?t:Ld()}return qf()}function wy(){In===0&&(In=(Ke&536870912)===0||tt?_i():536870912);var t=Hn.current;return t!==null&&(t.flags|=32),In}function jn(t,s,i){(t===dt&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(qa(t,0),ar(t,Ke,In,!1)),wi(t,i),((nt&2)===0||t!==dt)&&(t===dt&&((nt&2)===0&&(Lr|=i),_t===4&&ar(t,Ke,In,!1)),ms(t))}function xy(t,s,i){if((nt&6)!==0)throw Error(a(327));var l=!i&&(s&124)===0&&(s&t.expiredLanes)===0||Vs(t,s),d=l?cw(t,s):Dd(t,s,!0),f=l;do{if(d===0){Ca&&!l&&ar(t,s,0,!1);break}else{if(i=t.current.alternate,f&&!ow(i)){d=Dd(t,s,!1),f=!1;continue}if(d===2){if(f=s,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var b=t;d=nl;var S=b.current.memoizedState.isDehydrated;if(S&&(qa(b,v).flags|=256),v=Dd(b,v,!1),v!==2){if(Ed&&!S){b.errorRecoveryDisabledLanes|=f,Lr|=f,d=4;break e}f=yn,yn=d,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){qa(t,0),ar(t,s,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:ar(l,s,In,!tr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(d=Ad+300-qn(),10<d)){if(ar(l,s,In,!tr),sa(l,0,!0)!==0)break e;l.timeoutHandle=Xy(Sy.bind(null,l,i,yn,Bo,Td,s,In,Lr,Da,tr,f,2,-0,0),d);break e}Sy(l,i,yn,Bo,Td,s,In,Lr,Da,tr,f,0,-0,0)}}break}while(!0);ms(t)}function Sy(t,s,i,l,d,f,v,b,S,M,V,I,z,B){if(t.timeoutHandle=-1,I=s.subtreeFlags,(I&8192||(I&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:Hw},yy(s),I=Gw(),I!==null)){t.cancelPendingCommit=I(Ny.bind(null,t,s,f,i,l,d,v,b,S,V,1,z,B)),ar(t,f,v,!M);return}Ny(t,s,f,i,l,d,v,b,S)}function ow(t){for(var s=t;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var d=i[l],f=d.getSnapshot;d=d.value;try{if(!bn(f(),d))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ar(t,s,i,l){s&=~jd,s&=~Lr,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var d=s;0<d;){var f=31-Ne(d),v=1<<f;l[f]=-1,d&=~v}i!==0&&Uf(t,i,s)}function Po(){return(nt&6)===0?(rl(0),!1):!0}function kd(){if(ze!==null){if(st===0)var t=ze.return;else t=ze,Ss=kr=null,Qc(t),Ra=null,Qi=0,t=ze;for(;t!==null;)ny(t.alternate,t),t=t.return;ze=null}}function qa(t,s){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Tw(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),kd(),dt=t,ze=i=_s(t.current,null),Ke=s,st=0,Sn=null,tr=!1,Ca=Vs(t,s),Ed=!1,Da=In=jd=Lr=nr=_t=0,yn=nl=null,Td=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var d=31-Ne(l),f=1<<d;s|=t[d],l&=~f}return ks=s,lo(),i}function Ey(t,s){De=null,P.H=Ao,s===Bi||s===go?(s=$m(),st=3):s===zm?(s=$m(),st=4):st=s===Vp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sn=s,ze===null&&(_t=1,Co(t,Bn(s,t.current)))}function jy(){var t=P.H;return P.H=Ao,t===null?Ao:t}function Ty(){var t=P.A;return P.A=iw,t}function Cd(){_t=4,tr||(Ke&4194048)!==Ke&&Hn.current!==null||(Ca=!0),(nr&134217727)===0&&(Lr&134217727)===0||dt===null||ar(dt,Ke,In,!1)}function Dd(t,s,i){var l=nt;nt|=2;var d=jy(),f=Ty();(dt!==t||Ke!==s)&&(Bo=null,qa(t,s)),s=!1;var v=_t;e:do try{if(st!==0&&ze!==null){var b=ze,S=Sn;switch(st){case 8:kd(),v=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(s=!0);var M=st;if(st=0,Sn=null,La(t,b,S,M),i&&Ca){v=0;break e}break;default:M=st,st=0,Sn=null,La(t,b,S,M)}}uw(),v=_t;break}catch(V){Ey(t,V)}while(!0);return s&&t.shellSuspendCounter++,Ss=kr=null,nt=l,P.H=d,P.A=f,ze===null&&(dt=null,Ke=0,lo()),v}function uw(){for(;ze!==null;)Ay(ze)}function cw(t,s){var i=nt;nt|=2;var l=jy(),d=Ty();dt!==t||Ke!==s?(Bo=null,zo=qn()+500,qa(t,s)):Ca=Vs(t,s);e:do try{if(st!==0&&ze!==null){s=ze;var f=Sn;t:switch(st){case 1:st=0,Sn=null,La(t,s,f,1);break;case 2:case 9:if(Bm(f)){st=0,Sn=null,Ry(s);break}s=function(){st!==2&&st!==9||dt!==t||(st=7),ms(t)},f.then(s,s);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Bm(f)?(st=0,Sn=null,Ry(s)):(st=0,Sn=null,La(t,s,f,7));break;case 5:var v=null;switch(ze.tag){case 26:v=ze.memoizedState;case 5:case 27:var b=ze;if(!v||ug(v)){st=0,Sn=null;var S=b.sibling;if(S!==null)ze=S;else{var M=b.return;M!==null?(ze=M,$o(M)):ze=null}break t}}st=0,Sn=null,La(t,s,f,5);break;case 6:st=0,Sn=null,La(t,s,f,6);break;case 8:kd(),_t=6;break e;default:throw Error(a(462))}}dw();break}catch(V){Ey(t,V)}while(!0);return Ss=kr=null,P.H=l,P.A=d,nt=i,ze!==null?0:(dt=null,Ke=0,lo(),_t)}function dw(){for(;ze!==null&&!Ql();)Ay(ze)}function Ay(t){var s=ey(t.alternate,t,ks);t.memoizedProps=t.pendingProps,s===null?$o(t):ze=s}function Ry(t){var s=t,i=s.alternate;switch(s.tag){case 15:case 0:s=Qp(i,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=Qp(i,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:Qc(s);default:ny(i,s),s=ze=Om(s,ks),s=ey(i,s,ks)}t.memoizedProps=t.pendingProps,s===null?$o(t):ze=s}function La(t,s,i,l){Ss=kr=null,Qc(s),Ra=null,Qi=0;var d=s.return;try{if(ew(t,d,s,i,Ke)){_t=1,Co(t,Bn(i,t.current)),ze=null;return}}catch(f){if(d!==null)throw ze=d,f;_t=1,Co(t,Bn(i,t.current)),ze=null;return}s.flags&32768?(tt||l===1?t=!0:Ca||(Ke&536870912)!==0?t=!1:(tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Oy(s,t)):$o(s)}function $o(t){var s=t;do{if((s.flags&32768)!==0){Oy(s,tr);return}t=s.return;var i=nw(s.alternate,s,ks);if(i!==null){ze=i;return}if(s=s.sibling,s!==null){ze=s;return}ze=s=t}while(s!==null);_t===0&&(_t=5)}function Oy(t,s){do{var i=sw(t.alternate,t);if(i!==null){i.flags&=32767,ze=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(t=t.sibling,t!==null)){ze=t;return}ze=t=i}while(t!==null);_t=6,ze=null}function Ny(t,s,i,l,d,f,v,b,S){t.cancelPendingCommit=null;do Vo();while(Ft!==0);if((nt&6)!==0)throw Error(a(327));if(s!==null){if(s===t.current)throw Error(a(177));if(f=s.lanes|s.childLanes,f|=Sc,H_(t,i,f,v,b,S),t===dt&&(ze=dt=null,Ke=0),Ua=s,rr=t,Ma=i,Rd=f,Od=d,_y=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pw(j,function(){return My(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,d=X.p,X.p=2,v=nt,nt|=4;try{rw(t,s,i)}finally{nt=v,X.p=d,P.T=l}}Ft=1,ky(),Cy(),Dy()}}function ky(){if(Ft===1){Ft=0;var t=rr,s=Ua,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=P.T,P.T=null;var l=X.p;X.p=2;var d=nt;nt|=4;try{fy(s,t);var f=Gd,v=bm(t.containerInfo),b=f.focusedElem,S=f.selectionRange;if(v!==b&&b&&b.ownerDocument&&vm(b.ownerDocument.documentElement,b)){if(S!==null&&vc(b)){var M=S.start,V=S.end;if(V===void 0&&(V=M),"selectionStart"in b)b.selectionStart=M,b.selectionEnd=Math.min(V,b.value.length);else{var I=b.ownerDocument||document,z=I&&I.defaultView||window;if(z.getSelection){var B=z.getSelection(),je=b.textContent.length,_e=Math.min(S.start,je),it=S.end===void 0?_e:Math.min(S.end,je);!B.extend&&_e>it&&(v=it,it=_e,_e=v);var k=gm(b,_e),R=gm(b,it);if(k&&R&&(B.rangeCount!==1||B.anchorNode!==k.node||B.anchorOffset!==k.offset||B.focusNode!==R.node||B.focusOffset!==R.offset)){var U=I.createRange();U.setStart(k.node,k.offset),B.removeAllRanges(),_e>it?(B.addRange(U),B.extend(R.node,R.offset)):(U.setEnd(R.node,R.offset),B.addRange(U))}}}}for(I=[],B=b;B=B.parentNode;)B.nodeType===1&&I.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<I.length;b++){var H=I[b];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}eu=!!Id,Gd=Id=null}finally{nt=d,X.p=l,P.T=i}}t.current=s,Ft=2}}function Cy(){if(Ft===2){Ft=0;var t=rr,s=Ua,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=P.T,P.T=null;var l=X.p;X.p=2;var d=nt;nt|=4;try{uy(t,s.alternate,s)}finally{nt=d,X.p=l,P.T=i}}Ft=3}}function Dy(){if(Ft===4||Ft===3){Ft=0,Zl();var t=rr,s=Ua,i=Ma,l=_y;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ft=5:(Ft=0,Ua=rr=null,Uy(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(sr=null),Xu(i),s=s.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(J,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=P.T,d=X.p,X.p=2,P.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];f(b.value,{componentStack:b.stack})}}finally{P.T=s,X.p=d}}(Ma&3)!==0&&Vo(),ms(t),d=t.pendingLanes,(i&4194090)!==0&&(d&42)!==0?t===Nd?sl++:(sl=0,Nd=t):sl=0,rl(0)}}function Uy(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Li(s)))}function Vo(t){return ky(),Cy(),Dy(),My()}function My(){if(Ft!==5)return!1;var t=rr,s=Rd;Rd=0;var i=Xu(Ma),l=P.T,d=X.p;try{X.p=32>i?32:i,P.T=null,i=Od,Od=null;var f=rr,v=Ma;if(Ft=0,Ua=rr=null,Ma=0,(nt&6)!==0)throw Error(a(331));var b=nt;if(nt|=4,vy(f.current),py(f,f.current,v,i),nt=b,rl(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(J,f)}catch{}return!0}finally{X.p=d,P.T=l,Uy(t,s)}}function qy(t,s,i){s=Bn(i,s),s=od(t.stateNode,s,2),t=Qs(t,s,2),t!==null&&(wi(t,2),ms(t))}function ot(t,s,i){if(t.tag===3)qy(t,t,i);else for(;s!==null;){if(s.tag===3){qy(s,t,i);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(sr===null||!sr.has(l))){t=Bn(i,t),i=Pp(2),l=Qs(s,i,2),l!==null&&($p(i,l,s,t),wi(l,2),ms(l));break}}s=s.return}}function Ud(t,s,i){var l=t.pingCache;if(l===null){l=t.pingCache=new lw;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(i)||(Ed=!0,d.add(i),t=hw.bind(null,t,s,i),s.then(t,t))}function hw(t,s,i){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,dt===t&&(Ke&i)===i&&(_t===4||_t===3&&(Ke&62914560)===Ke&&300>qn()-Ad?(nt&2)===0&&qa(t,0):jd|=i,Da===Ke&&(Da=0)),ms(t)}function Ly(t,s){s===0&&(s=Df()),t=va(t,s),t!==null&&(wi(t,s),ms(t))}function fw(t){var s=t.memoizedState,i=0;s!==null&&(i=s.retryLane),Ly(t,i)}function mw(t,s){var i=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(s),Ly(t,i)}function pw(t,s){return ta(t,s)}var Ho=null,za=null,Md=!1,Io=!1,qd=!1,zr=0;function ms(t){t!==za&&t.next===null&&(za===null?Ho=za=t:za=za.next=t),Io=!0,Md||(Md=!0,gw())}function rl(t,s){if(!qd&&Io){qd=!0;do for(var i=!1,l=Ho;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-Ne(42|t)+1)-1,f&=d&~(v&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,$y(l,f))}else f=Ke,f=sa(l,l===dt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Vs(l,f)||(i=!0,$y(l,f));l=l.next}while(i);qd=!1}}function yw(){zy()}function zy(){Io=Md=!1;var t=0;zr!==0&&(jw()&&(t=zr),zr=0);for(var s=qn(),i=null,l=Ho;l!==null;){var d=l.next,f=By(l,s);f===0?(l.next=null,i===null?Ho=d:i.next=d,d===null&&(za=i)):(i=l,(t!==0||(f&3)!==0)&&(Io=!0)),l=d}rl(t)}function By(t,s){for(var i=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ne(f),b=1<<v,S=d[v];S===-1?((b&i)===0||(b&l)!==0)&&(d[v]=Qu(b,s)):S<=s&&(t.expiredLanes|=b),f&=~b}if(s=dt,i=Ke,i=sa(t,t===s?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===s&&(st===2||st===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vi(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Vs(t,i)){if(s=i&-i,s===t.callbackPriority)return s;switch(l!==null&&vi(l),Xu(i)){case 2:case 8:i=bi;break;case 32:i=j;break;case 268435456:i=$;break;default:i=j}return l=Py.bind(null,t),i=ta(i,l),t.callbackPriority=s,t.callbackNode=i,s}return l!==null&&l!==null&&vi(l),t.callbackPriority=2,t.callbackNode=null,2}function Py(t,s){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Vo()&&t.callbackNode!==i)return null;var l=Ke;return l=sa(t,t===dt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(xy(t,l,s),By(t,qn()),t.callbackNode!=null&&t.callbackNode===i?Py.bind(null,t):null)}function $y(t,s){if(Vo())return null;xy(t,s,!0)}function gw(){Aw(function(){(nt&6)!==0?ta(Fu,yw):zy()})}function Ld(){return zr===0&&(zr=_i()),zr}function Vy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:eo(""+t)}function Hy(t,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,t.id&&i.setAttribute("form",t.id),s.parentNode.insertBefore(i,s),t=new FormData(t),i.parentNode.removeChild(i),t}function vw(t,s,i,l,d){if(s==="submit"&&i&&i.stateNode===d){var f=Vy((d[hn]||null).action),v=l.submitter;v&&(s=(s=v[hn]||null)?Vy(s.formAction):v.getAttribute("formAction"),s!==null&&(f=s,v=null));var b=new ro("action","action",null,l,d);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zr!==0){var S=v?Hy(d,v):new FormData(d);sd(i,{pending:!0,data:S,method:d.method,action:f},null,S)}}else typeof f=="function"&&(b.preventDefault(),S=v?Hy(d,v):new FormData(d),sd(i,{pending:!0,data:S,method:d.method,action:f},f,S))},currentTarget:d}]})}}for(var zd=0;zd<xc.length;zd++){var Bd=xc[zd],bw=Bd.toLowerCase(),_w=Bd[0].toUpperCase()+Bd.slice(1);Yn(bw,"on"+_w)}Yn(xm,"onAnimationEnd"),Yn(Sm,"onAnimationIteration"),Yn(Em,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(L0,"onTransitionRun"),Yn(z0,"onTransitionStart"),Yn(B0,"onTransitionCancel"),Yn(jm,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Iy(t,s){s=(s&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],d=l.event;l=l.listeners;e:{var f=void 0;if(s)for(var v=l.length-1;0<=v;v--){var b=l[v],S=b.instance,M=b.currentTarget;if(b=b.listener,S!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=M;try{f(d)}catch(V){ko(V)}d.currentTarget=null,f=S}else for(v=0;v<l.length;v++){if(b=l[v],S=b.instance,M=b.currentTarget,b=b.listener,S!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=M;try{f(d)}catch(V){ko(V)}d.currentTarget=null,f=S}}}}function Be(t,s){var i=s[Ju];i===void 0&&(i=s[Ju]=new Set);var l=t+"__bubble";i.has(l)||(Gy(s,t,2,!1),i.add(l))}function Pd(t,s,i){var l=0;s&&(l|=4),Gy(i,t,l,s)}var Go="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[Go]){t[Go]=!0,zf.forEach(function(i){i!=="selectionchange"&&(ww.has(i)||Pd(i,!1,t),Pd(i,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Go]||(s[Go]=!0,Pd("selectionchange",!1,s))}}function Gy(t,s,i,l){switch(pg(s)){case 2:var d=Qw;break;case 8:d=Zw;break;default:d=th}i=d.bind(null,s,i,t),d=void 0,!uc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(s,i,{capture:!0,passive:d}):t.addEventListener(s,i,!0):d!==void 0?t.addEventListener(s,i,{passive:d}):t.addEventListener(s,i,!1)}function Vd(t,s,i,l,d){var f=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===d)break;if(v===4)for(v=l.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;b!==null;){if(v=aa(b),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){l=f=v;continue e}b=b.parentNode}}l=l.return}Jf(function(){var M=f,V=lc(i),I=[];e:{var z=Tm.get(t);if(z!==void 0){var B=ro,je=t;switch(t){case"keypress":if(no(i)===0)break e;case"keydown":case"keyup":B=p0;break;case"focusin":je="focus",B=fc;break;case"focusout":je="blur",B=fc;break;case"beforeblur":case"afterblur":B=fc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=s0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=v0;break;case xm:case Sm:case Em:B=i0;break;case jm:B=_0;break;case"scroll":case"scrollend":B=t0;break;case"wheel":B=x0;break;case"copy":case"cut":case"paste":B=o0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=sm;break;case"toggle":case"beforetoggle":B=E0}var _e=(s&4)!==0,it=!_e&&(t==="scroll"||t==="scrollend"),k=_e?z!==null?z+"Capture":null:z;_e=[];for(var R=M,U;R!==null;){var H=R;if(U=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||U===null||k===null||(H=Ei(R,k),H!=null&&_e.push(il(R,H,U))),it)break;R=R.return}0<_e.length&&(z=new B(z,je,null,i,V),I.push({event:z,listeners:_e}))}}if((s&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",z&&i!==ic&&(je=i.relatedTarget||i.fromElement)&&(aa(je)||je[ra]))break e;if((B||z)&&(z=V.window===V?V:(z=V.ownerDocument)?z.defaultView||z.parentWindow:window,B?(je=i.relatedTarget||i.toElement,B=M,je=je?aa(je):null,je!==null&&(it=u(je),_e=je.tag,je!==it||_e!==5&&_e!==27&&_e!==6)&&(je=null)):(B=null,je=M),B!==je)){if(_e=tm,H="onMouseLeave",k="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(_e=sm,H="onPointerLeave",k="onPointerEnter",R="pointer"),it=B==null?z:Si(B),U=je==null?z:Si(je),z=new _e(H,R+"leave",B,i,V),z.target=it,z.relatedTarget=U,H=null,aa(V)===M&&(_e=new _e(k,R+"enter",je,i,V),_e.target=U,_e.relatedTarget=it,H=_e),it=H,B&&je)t:{for(_e=B,k=je,R=0,U=_e;U;U=Ba(U))R++;for(U=0,H=k;H;H=Ba(H))U++;for(;0<R-U;)_e=Ba(_e),R--;for(;0<U-R;)k=Ba(k),U--;for(;R--;){if(_e===k||k!==null&&_e===k.alternate)break t;_e=Ba(_e),k=Ba(k)}_e=null}else _e=null;B!==null&&Ky(I,z,B,_e,!1),je!==null&&it!==null&&Ky(I,it,je,_e,!0)}}e:{if(z=M?Si(M):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var de=dm;else if(um(z))if(hm)de=U0;else{de=C0;var qe=k0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?M&&ac(M.elementType)&&(de=dm):de=D0;if(de&&(de=de(t,M))){cm(I,de,i,V);break e}qe&&qe(t,z,M),t==="focusout"&&M&&z.type==="number"&&M.memoizedProps.value!=null&&rc(z,"number",z.value)}switch(qe=M?Si(M):window,t){case"focusin":(um(qe)||qe.contentEditable==="true")&&(pa=qe,bc=M,Ci=null);break;case"focusout":Ci=bc=pa=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,_m(I,i,V);break;case"selectionchange":if(q0)break;case"keydown":case"keyup":_m(I,i,V)}var ve;if(pc)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else ma?lm(t,i)&&(xe="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(xe="onCompositionStart");xe&&(rm&&i.locale!=="ko"&&(ma||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&ma&&(ve=Wf()):(Is=V,cc="value"in Is?Is.value:Is.textContent,ma=!0)),qe=Ko(M,xe),0<qe.length&&(xe=new nm(xe,t,null,i,V),I.push({event:xe,listeners:qe}),ve?xe.data=ve:(ve=om(i),ve!==null&&(xe.data=ve)))),(ve=T0?A0(t,i):R0(t,i))&&(xe=Ko(M,"onBeforeInput"),0<xe.length&&(qe=new nm("onBeforeInput","beforeinput",null,i,V),I.push({event:qe,listeners:xe}),qe.data=ve)),vw(I,t,M,i,V)}Iy(I,s)})}function il(t,s,i){return{instance:t,listener:s,currentTarget:i}}function Ko(t,s){for(var i=s+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Ei(t,i),d!=null&&l.unshift(il(t,d,f)),d=Ei(t,s),d!=null&&l.push(il(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ky(t,s,i,l,d){for(var f=s._reactName,v=[];i!==null&&i!==l;){var b=i,S=b.alternate,M=b.stateNode;if(b=b.tag,S!==null&&S===l)break;b!==5&&b!==26&&b!==27||M===null||(S=M,d?(M=Ei(i,f),M!=null&&v.unshift(il(i,M,S))):d||(M=Ei(i,f),M!=null&&v.push(il(i,M,S)))),i=i.return}v.length!==0&&t.push({event:s,listeners:v})}var xw=/\r\n?/g,Sw=/\u0000|\uFFFD/g;function Fy(t){return(typeof t=="string"?t:""+t).replace(xw,`
`).replace(Sw,"")}function Qy(t,s){return s=Fy(s),Fy(t)===s}function Fo(){}function at(t,s,i,l,d,f){switch(i){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||da(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&da(t,""+l);break;case"className":Xl(t,"class",l);break;case"tabIndex":Xl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xl(t,i,l);break;case"style":Yf(t,l,f);break;case"data":if(s!=="object"){Xl(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=eo(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(s!=="input"&&at(t,s,"name",d.name,d,null),at(t,s,"formEncType",d.formEncType,d,null),at(t,s,"formMethod",d.formMethod,d,null),at(t,s,"formTarget",d.formTarget,d,null)):(at(t,s,"encType",d.encType,d,null),at(t,s,"method",d.method,d,null),at(t,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=eo(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=Fo);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=eo(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":Be("beforetoggle",t),Be("toggle",t),Yl(t,"popover",l);break;case"xlinkActuate":vs(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vs(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vs(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vs(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vs(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vs(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vs(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=W_.get(i)||i,Yl(t,i,l))}}function Hd(t,s,i,l,d,f){switch(i){case"style":Yf(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"children":typeof l=="string"?da(t,l):(typeof l=="number"||typeof l=="bigint")&&da(t,""+l);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),s=i.slice(2,d?i.length-7:void 0),f=t[hn]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(s,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(s,l,d);break e}i in t?t[i]=l:l===!0?t.setAttribute(i,""):Yl(t,i,l)}}}function Qt(t,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var l=!1,d=!1,f;for(f in i)if(i.hasOwnProperty(f)){var v=i[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:at(t,s,f,v,i,null)}}d&&at(t,s,"srcSet",i.srcSet,i,null),l&&at(t,s,"src",i.src,i,null);return;case"input":Be("invalid",t);var b=f=v=d=null,S=null,M=null;for(l in i)if(i.hasOwnProperty(l)){var V=i[l];if(V!=null)switch(l){case"name":d=V;break;case"type":v=V;break;case"checked":S=V;break;case"defaultChecked":M=V;break;case"value":f=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,s));break;default:at(t,s,l,V,i,null)}}Kf(t,f,b,S,M,v,d,!1),Jl(t);return;case"select":Be("invalid",t),l=v=f=null;for(d in i)if(i.hasOwnProperty(d)&&(b=i[d],b!=null))switch(d){case"value":f=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:at(t,s,d,b,i,null)}s=f,i=v,t.multiple=!!l,s!=null?ca(t,!!l,s,!1):i!=null&&ca(t,!!l,i,!0);return;case"textarea":Be("invalid",t),f=d=l=null;for(v in i)if(i.hasOwnProperty(v)&&(b=i[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":d=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:at(t,s,v,b,i,null)}Qf(t,l,d,f),Jl(t);return;case"option":for(S in i)i.hasOwnProperty(S)&&(l=i[S],l!=null)&&(S==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":at(t,s,S,l,i,null));return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(l=0;l<al.length;l++)Be(al[l],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in i)if(i.hasOwnProperty(M)&&(l=i[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:at(t,s,M,l,i,null)}return;default:if(ac(s)){for(V in i)i.hasOwnProperty(V)&&(l=i[V],l!==void 0&&Hd(t,s,V,l,i,void 0));return}}for(b in i)i.hasOwnProperty(b)&&(l=i[b],l!=null&&at(t,s,b,l,i,null))}function Ew(t,s,i,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,b=null,S=null,M=null,V=null;for(B in i){var I=i[B];if(i.hasOwnProperty(B)&&I!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":S=I;default:l.hasOwnProperty(B)||at(t,s,B,null,l,I)}}for(var z in l){var B=l[z];if(I=i[z],l.hasOwnProperty(z)&&(B!=null||I!=null))switch(z){case"type":f=B;break;case"name":d=B;break;case"checked":M=B;break;case"defaultChecked":V=B;break;case"value":v=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,s));break;default:B!==I&&at(t,s,z,B,l,I)}}sc(t,v,b,S,M,V,f,d);return;case"select":B=v=b=z=null;for(f in i)if(S=i[f],i.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":B=S;default:l.hasOwnProperty(f)||at(t,s,f,null,l,S)}for(d in l)if(f=l[d],S=i[d],l.hasOwnProperty(d)&&(f!=null||S!=null))switch(d){case"value":z=f;break;case"defaultValue":b=f;break;case"multiple":v=f;default:f!==S&&at(t,s,d,f,l,S)}s=b,i=v,l=B,z!=null?ca(t,!!i,z,!1):!!l!=!!i&&(s!=null?ca(t,!!i,s,!0):ca(t,!!i,i?[]:"",!1));return;case"textarea":B=z=null;for(b in i)if(d=i[b],i.hasOwnProperty(b)&&d!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:at(t,s,b,null,l,d)}for(v in l)if(d=l[v],f=i[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":z=d;break;case"defaultValue":B=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==f&&at(t,s,v,d,l,f)}Ff(t,z,B);return;case"option":for(var je in i)z=i[je],i.hasOwnProperty(je)&&z!=null&&!l.hasOwnProperty(je)&&(je==="selected"?t.selected=!1:at(t,s,je,null,l,z));for(S in l)z=l[S],B=i[S],l.hasOwnProperty(S)&&z!==B&&(z!=null||B!=null)&&(S==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":at(t,s,S,z,l,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in i)z=i[_e],i.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&at(t,s,_e,null,l,z);for(M in l)if(z=l[M],B=i[M],l.hasOwnProperty(M)&&z!==B&&(z!=null||B!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,s));break;default:at(t,s,M,z,l,B)}return;default:if(ac(s)){for(var it in i)z=i[it],i.hasOwnProperty(it)&&z!==void 0&&!l.hasOwnProperty(it)&&Hd(t,s,it,void 0,l,z);for(V in l)z=l[V],B=i[V],!l.hasOwnProperty(V)||z===B||z===void 0&&B===void 0||Hd(t,s,V,z,l,B);return}}for(var k in i)z=i[k],i.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&at(t,s,k,null,l,z);for(I in l)z=l[I],B=i[I],!l.hasOwnProperty(I)||z===B||z==null&&B==null||at(t,s,I,z,l,B)}var Id=null,Gd=null;function Qo(t){return t.nodeType===9?t:t.ownerDocument}function Zy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Kd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fd=null;function jw(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,Tw=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(Rw)}:Xy;function Rw(t){setTimeout(function(){throw t})}function ir(t){return t==="head"}function Wy(t,s){var i=s,l=0,d=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<l&&8>l){i=l;var v=t.ownerDocument;if(i&1&&ll(v.documentElement),i&2&&ll(v.body),i&4)for(i=v.head,ll(i),v=i.firstChild;v;){var b=v.nextSibling,S=v.nodeName;v[xi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||i.removeChild(v),v=b}}if(d===0){t.removeChild(f),pl(s);return}d--}else i==="$"||i==="$?"||i==="$!"?d++:l=i.charCodeAt(0)-48;else l=0;i=f}while(i);pl(s)}function Qd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Qd(i),Wu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function Ow(t,s,i,l){for(;t.nodeType===1;){var d=i;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xi])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function Nw(t,s,i){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Jn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kw(t,s){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")s();else{var l=function(){s(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Jn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Yd=null;function eg(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return t;s--}else i==="/$"&&s++}t=t.previousSibling}return null}function tg(t,s,i){switch(s=Qo(i),t){case"html":if(t=s.documentElement,!t)throw Error(a(452));return t;case"head":if(t=s.head,!t)throw Error(a(453));return t;case"body":if(t=s.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ll(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Wu(t)}var Gn=new Map,ng=new Set;function Zo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Cs=X.d;X.d={f:Cw,r:Dw,D:Uw,C:Mw,L:qw,m:Lw,X:Bw,S:zw,M:Pw};function Cw(){var t=Cs.f(),s=Po();return t||s}function Dw(t){var s=ia(t);s!==null&&s.tag===5&&s.type==="form"?xp(s):Cs.r(t)}var Pa=typeof document>"u"?null:document;function sg(t,s,i){var l=Pa;if(l&&typeof s=="string"&&s){var d=zn(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),ng.has(d)||(ng.add(d),t={rel:t,crossOrigin:i,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Qt(s,"link",t),$t(s),l.head.appendChild(s)))}}function Uw(t){Cs.D(t),sg("dns-prefetch",t,null)}function Mw(t,s){Cs.C(t,s),sg("preconnect",t,s)}function qw(t,s,i){Cs.L(t,s,i);var l=Pa;if(l&&t&&s){var d='link[rel="preload"][as="'+zn(s)+'"]';s==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+zn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+zn(i.imageSizes)+'"]')):d+='[href="'+zn(t)+'"]';var f=d;switch(s){case"style":f=$a(t);break;case"script":f=Va(t)}Gn.has(f)||(t=g({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:t,as:s},i),Gn.set(f,t),l.querySelector(d)!==null||s==="style"&&l.querySelector(ol(f))||s==="script"&&l.querySelector(ul(f))||(s=l.createElement("link"),Qt(s,"link",t),$t(s),l.head.appendChild(s)))}}function Lw(t,s){Cs.m(t,s);var i=Pa;if(i&&t){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+zn(l)+'"][href="'+zn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(t)}if(!Gn.has(f)&&(t=g({rel:"modulepreload",href:t},s),Gn.set(f,t),i.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ul(f)))return}l=i.createElement("link"),Qt(l,"link",t),$t(l),i.head.appendChild(l)}}}function zw(t,s,i){Cs.S(t,s,i);var l=Pa;if(l&&t){var d=la(l).hoistableStyles,f=$a(t);s=s||"default";var v=d.get(f);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(ol(f)))b.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":s},i),(i=Gn.get(f))&&Xd(t,i);var S=v=l.createElement("link");$t(S),Qt(S,"link",t),S._p=new Promise(function(M,V){S.onload=M,S.onerror=V}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Yo(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:b},d.set(f,v)}}}function Bw(t,s){Cs.X(t,s);var i=Pa;if(i&&t){var l=la(i).hoistableScripts,d=Va(t),f=l.get(d);f||(f=i.querySelector(ul(d)),f||(t=g({src:t,async:!0},s),(s=Gn.get(d))&&Jd(t,s),f=i.createElement("script"),$t(f),Qt(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Pw(t,s){Cs.M(t,s);var i=Pa;if(i&&t){var l=la(i).hoistableScripts,d=Va(t),f=l.get(d);f||(f=i.querySelector(ul(d)),f||(t=g({src:t,async:!0,type:"module"},s),(s=Gn.get(d))&&Jd(t,s),f=i.createElement("script"),$t(f),Qt(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function rg(t,s,i,l){var d=(d=we.current)?Zo(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=$a(i.href),i=la(d).hoistableStyles,l=i.get(s),l||(l={type:"style",instance:null,count:0,state:null},i.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=$a(i.href);var f=la(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(ol(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Gn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Gn.set(t,i),f||$w(d,t,i,v.state))),s&&l===null)throw Error(a(528,""));return v}if(s&&l!==null)throw Error(a(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Va(i),i=la(d).hoistableScripts,l=i.get(s),l||(l={type:"script",instance:null,count:0,state:null},i.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function $a(t){return'href="'+zn(t)+'"'}function ol(t){return'link[rel="stylesheet"]['+t+"]"}function ag(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function $w(t,s,i,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Qt(s,"link",i),$t(s),t.head.appendChild(s))}function Va(t){return'[src="'+zn(t)+'"]'}function ul(t){return"script[async]"+t}function ig(t,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+zn(i.href)+'"]');if(l)return s.instance=l,$t(l),l;var d=g({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$t(l),Qt(l,"style",d),Yo(l,i.precedence,t),s.instance=l;case"stylesheet":d=$a(i.href);var f=t.querySelector(ol(d));if(f)return s.state.loading|=4,s.instance=f,$t(f),f;l=ag(i),(d=Gn.get(d))&&Xd(l,d),f=(t.ownerDocument||t).createElement("link"),$t(f);var v=f;return v._p=new Promise(function(b,S){v.onload=b,v.onerror=S}),Qt(f,"link",l),s.state.loading|=4,Yo(f,i.precedence,t),s.instance=f;case"script":return f=Va(i.src),(d=t.querySelector(ul(f)))?(s.instance=d,$t(d),d):(l=i,(d=Gn.get(f))&&(l=g({},i),Jd(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),$t(d),Qt(d,"link",l),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Yo(l,i.precedence,t));return s.instance}function Yo(t,s,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===s)f=b;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(t,s.firstChild))}function Xd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Jd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Xo=null;function lg(t,s,i){if(Xo===null){var l=new Map,d=Xo=new Map;d.set(i,l)}else d=Xo,l=d.get(i),l||(l=new Map,d.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),d=0;d<i.length;d++){var f=i[d];if(!(f[xi]||f[en]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(s)||"";v=t+v;var b=l.get(v);b?b.push(f):l.set(v,[f])}}return l}function og(t,s,i){t=t.ownerDocument||t,t.head.insertBefore(i,s==="title"?t.querySelector("head > title"):null)}function Vw(t,s,i){if(i===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ug(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var cl=null;function Hw(){}function Iw(t,s,i){if(cl===null)throw Error(a(475));var l=cl;if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=$a(i.href),f=t.querySelector(ol(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Jo.bind(l),t.then(l,l)),s.state.loading|=4,s.instance=f,$t(f);return}f=t.ownerDocument||t,i=ag(i),(d=Gn.get(d))&&Xd(i,d),f=f.createElement("link"),$t(f);var v=f;v._p=new Promise(function(b,S){v.onload=b,v.onerror=S}),Qt(f,"link",i),s.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=Jo.bind(l),t.addEventListener("load",s),t.addEventListener("error",s))}}function Gw(){if(cl===null)throw Error(a(475));var t=cl;return t.stylesheets&&t.count===0&&Wd(t,t.stylesheets),0<t.count?function(s){var i=setTimeout(function(){if(t.stylesheets&&Wd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Jo(){if(this.count--,this.count===0){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wo=null;function Wd(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wo=new Map,s.forEach(Kw,t),Wo=null,Jo.call(t))}function Kw(t,s){if(!(s.state.loading&4)){var i=Wo.get(t);if(i)var l=i.get(null);else{i=new Map,Wo.set(t,i);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),l=v)}l&&i.set(null,l)}d=s.instance,v=d.getAttribute("data-precedence"),f=i.get(v)||l,f===l&&i.set(null,d),i.set(v,d),this.count++,l=Jo.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var dl={$$typeof:D,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Fw(t,s,i,l,d,f,v,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.hiddenUpdates=Zu(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function cg(t,s,i,l,d,f,v,b,S,M,V,I){return t=new Fw(t,s,i,v,b,S,M,I),s=1,f===!0&&(s|=24),f=_n(3,null,null,s),t.current=f,f.stateNode=t,s=Uc(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:s},zc(f),t}function dg(t){return t?(t=ba,t):ba}function hg(t,s,i,l,d,f){d=dg(d),l.context===null?l.context=d:l.pendingContext=d,l=Fs(s),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=Qs(t,l,s),i!==null&&(jn(i,t,s),$i(i,t,s))}function fg(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<s?i:s}}function eh(t,s){fg(t,s),(t=t.alternate)&&fg(t,s)}function mg(t){if(t.tag===13){var s=va(t,67108864);s!==null&&jn(s,t,67108864),eh(t,67108864)}}var eu=!0;function Qw(t,s,i,l){var d=P.T;P.T=null;var f=X.p;try{X.p=2,th(t,s,i,l)}finally{X.p=f,P.T=d}}function Zw(t,s,i,l){var d=P.T;P.T=null;var f=X.p;try{X.p=8,th(t,s,i,l)}finally{X.p=f,P.T=d}}function th(t,s,i,l){if(eu){var d=nh(l);if(d===null)Vd(t,s,l,tu,i),yg(t,l);else if(Xw(d,t,s,i,l))l.stopPropagation();else if(yg(t,l),s&4&&-1<Yw.indexOf(t)){for(;d!==null;){var f=ia(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Zn(f.pendingLanes);if(v!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var S=1<<31-Ne(v);b.entanglements[1]|=S,v&=~S}ms(f),(nt&6)===0&&(zo=qn()+500,rl(0))}}break;case 13:b=va(f,2),b!==null&&jn(b,f,2),Po(),eh(f,2)}if(f=nh(l),f===null&&Vd(t,s,l,tu,i),f===d)break;d=f}d!==null&&l.stopPropagation()}else Vd(t,s,l,null,i)}}function nh(t){return t=lc(t),sh(t)}var tu=null;function sh(t){if(tu=null,t=aa(t),t!==null){var s=u(t);if(s===null)t=null;else{var i=s.tag;if(i===13){if(t=c(s),t!==null)return t;t=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return tu=t,null}function pg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ku()){case Fu:return 2;case bi:return 8;case j:case q:return 32;case $:return 268435456;default:return 32}default:return 32}}var rh=!1,lr=null,or=null,ur=null,hl=new Map,fl=new Map,cr=[],Yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yg(t,s){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":hl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(s.pointerId)}}function ml(t,s,i,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},s!==null&&(s=ia(s),s!==null&&mg(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function Xw(t,s,i,l,d){switch(s){case"focusin":return lr=ml(lr,t,s,i,l,d),!0;case"dragenter":return or=ml(or,t,s,i,l,d),!0;case"mouseover":return ur=ml(ur,t,s,i,l,d),!0;case"pointerover":var f=d.pointerId;return hl.set(f,ml(hl.get(f)||null,t,s,i,l,d)),!0;case"gotpointercapture":return f=d.pointerId,fl.set(f,ml(fl.get(f)||null,t,s,i,l,d)),!0}return!1}function gg(t){var s=aa(t.target);if(s!==null){var i=u(s);if(i!==null){if(s=i.tag,s===13){if(s=c(i),s!==null){t.blockedOn=s,I_(t.priority,function(){if(i.tag===13){var l=En();l=Yu(l);var d=va(i,l);d!==null&&jn(d,i,l),eh(i,l)}});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nu(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var i=nh(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);ic=l,i.target.dispatchEvent(l),ic=null}else return s=ia(i),s!==null&&mg(s),t.blockedOn=i,!1;s.shift()}return!0}function vg(t,s,i){nu(t)&&i.delete(s)}function Jw(){rh=!1,lr!==null&&nu(lr)&&(lr=null),or!==null&&nu(or)&&(or=null),ur!==null&&nu(ur)&&(ur=null),hl.forEach(vg),fl.forEach(vg)}function su(t,s){t.blockedOn===s&&(t.blockedOn=null,rh||(rh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Jw)))}var ru=null;function bg(t){ru!==t&&(ru=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ru===t&&(ru=null);for(var s=0;s<t.length;s+=3){var i=t[s],l=t[s+1],d=t[s+2];if(typeof l!="function"){if(sh(l||i)===null)continue;break}var f=ia(i);f!==null&&(t.splice(s,3),s-=3,sd(f,{pending:!0,data:d,method:i.method,action:l},l,d))}}))}function pl(t){function s(S){return su(S,t)}lr!==null&&su(lr,t),or!==null&&su(or,t),ur!==null&&su(ur,t),hl.forEach(s),fl.forEach(s);for(var i=0;i<cr.length;i++){var l=cr[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cr.length&&(i=cr[0],i.blockedOn===null);)gg(i),i.blockedOn===null&&cr.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var d=i[l],f=i[l+1],v=d[hn]||null;if(typeof f=="function")v||bg(i);else if(v){var b=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[hn]||null)b=v.formAction;else if(sh(d)!==null)continue}else b=v.action;typeof b=="function"?i[l+1]=b:(i.splice(l,3),l-=3),bg(i)}}}function ah(t){this._internalRoot=t}au.prototype.render=ah.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(a(409));var i=s.current,l=En();hg(i,l,t,s,null,null)},au.prototype.unmount=ah.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;hg(t.current,2,null,t,null,null),Po(),s[ra]=null}};function au(t){this._internalRoot=t}au.prototype.unstable_scheduleHydration=function(t){if(t){var s=qf();t={blockedOn:null,target:t,priority:s};for(var i=0;i<cr.length&&s!==0&&s<cr[i].priority;i++);cr.splice(i,0,t),i===0&&gg(t)}};var _g=e.version;if(_g!=="19.1.0")throw Error(a(527,_g,"19.1.0"));X.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(s),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Ww={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{J=iu.inject(Ww),oe=iu}catch{}}return gl.createRoot=function(t,s){if(!o(t))throw Error(a(299));var i=!1,l="",d=qp,f=Lp,v=zp,b=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=cg(t,1,!1,null,null,i,l,d,f,v,b,null),t[ra]=s.current,$d(t),new ah(s)},gl.hydrateRoot=function(t,s,i){if(!o(t))throw Error(a(299));var l=!1,d="",f=qp,v=Lp,b=zp,S=null,M=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks),i.formState!==void 0&&(M=i.formState)),s=cg(t,1,!0,s,i??null,l,d,f,v,b,S,M),s.context=dg(null),i=s.current,l=En(),l=Yu(l),d=Fs(l),d.callback=null,Qs(i,d,l),i=l,s.current.lanes=i,wi(s,i),ms(s),t[ra]=s.current,$d(t),new au(s)},gl.version="19.1.0",gl}var Ng;function cx(){if(Ng)return oh.exports;Ng=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),oh.exports=ux(),oh.exports}var dx=cx(),ui=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hx={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},fx=class{#e=hx;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},Gr=new fx;function mx(n){setTimeout(n,0)}var Qr=typeof window>"u"||"Deno"in globalThis;function dn(){}function px(n,e){return typeof n=="function"?n(e):n}function Th(n){return typeof n=="number"&&n>=0&&n!==1/0}function lb(n,e){return Math.max(n+(e||0)-Date.now(),0)}function gr(n,e){return typeof n=="function"?n(e):n}function Kn(n,e){return typeof n=="function"?n(e):n}function kg(n,e){const{type:r="all",exact:a,fetchStatus:o,predicate:u,queryKey:c,stale:h}=n;if(c){if(a){if(e.queryHash!==nf(c,e.options))return!1}else if(!Ol(e.queryKey,c))return!1}if(r!=="all"){const p=e.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||o&&o!==e.state.fetchStatus||u&&!u(e))}function Cg(n,e){const{exact:r,status:a,predicate:o,mutationKey:u}=n;if(u){if(!e.options.mutationKey)return!1;if(r){if(Zr(e.options.mutationKey)!==Zr(u))return!1}else if(!Ol(e.options.mutationKey,u))return!1}return!(a&&e.state.status!==a||o&&!o(e))}function nf(n,e){return(e?.queryKeyHashFn||Zr)(n)}function Zr(n){return JSON.stringify(n,(e,r)=>Ah(r)?Object.keys(r).sort().reduce((a,o)=>(a[o]=r[o],a),{}):r)}function Ol(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(r=>Ol(n[r],e[r])):!1}var yx=Object.prototype.hasOwnProperty;function ob(n,e,r=0){if(n===e)return n;if(r>500)return e;const a=Dg(n)&&Dg(e);if(!a&&!(Ah(n)&&Ah(e)))return e;const u=(a?n:Object.keys(n)).length,c=a?e:Object.keys(e),h=c.length,p=a?new Array(h):{};let y=0;for(let g=0;g<h;g++){const _=a?g:c[g],w=n[_],x=e[_];if(w===x){p[_]=w,(a?g<u:yx.call(n,_))&&y++;continue}if(w===null||x===null||typeof w!="object"||typeof x!="object"){p[_]=x;continue}const A=ob(w,x,r+1);p[_]=A,A===w&&y++}return u===h&&y===u?n:p}function wu(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const r in n)if(n[r]!==e[r])return!1;return!0}function Dg(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Ah(n){if(!Ug(n))return!1;const e=n.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Ug(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Ug(n){return Object.prototype.toString.call(n)==="[object Object]"}function gx(n){return new Promise(e=>{Gr.setTimeout(e,n)})}function Rh(n,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(n,e):r.structuralSharing!==!1?ob(n,e):e}function vx(n,e,r=0){const a=[...n,e];return r&&a.length>r?a.slice(1):a}function bx(n,e,r=0){const a=[e,...n];return r&&a.length>r?a.slice(0,-1):a}var sf=Symbol();function ub(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===sf?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function rf(n,e){return typeof n=="function"?n(...e):!!n}function _x(n,e,r){let a=!1,o;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(o??=e(),a||(a=!0,o.aborted?r():o.addEventListener("abort",r,{once:!0})),o)}),n}var wx=class extends ui{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!Qr&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},af=new wx;function Oh(){let n,e;const r=new Promise((o,u)=>{n=o,e=u});r.status="pending",r.catch(()=>{});function a(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{a({status:"fulfilled",value:o}),n(o)},r.reject=o=>{a({status:"rejected",reason:o}),e(o)},r}var xx=mx;function Sx(){let n=[],e=0,r=h=>{h()},a=h=>{h()},o=xx;const u=h=>{e?n.push(h):o(()=>{r(h)})},c=()=>{const h=n;n=[],h.length&&o(()=>{a(()=>{h.forEach(p=>{r(p)})})})};return{batch:h=>{let p;e++;try{p=h()}finally{e--,e||c()}return p},batchCalls:h=>(...p)=>{u(()=>{h(...p)})},schedule:u,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{a=h},setScheduler:h=>{o=h}}}var Bt=Sx(),Ex=class extends ui{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!Qr&&window.addEventListener){const e=()=>n(!0),r=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(r=>{r(n)}))}isOnline(){return this.#e}},xu=new Ex;function jx(n){return Math.min(1e3*2**n,3e4)}function cb(n){return(n??"online")==="online"?xu.isOnline():!0}var Nh=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function db(n){let e=!1,r=0,a;const o=Oh(),u=()=>o.status!=="pending",c=E=>{if(!u()){const O=new Nh(E);w(O),n.onCancel?.(O)}},h=()=>{e=!0},p=()=>{e=!1},y=()=>af.isFocused()&&(n.networkMode==="always"||xu.isOnline())&&n.canRun(),g=()=>cb(n.networkMode)&&n.canRun(),_=E=>{u()||(a?.(),o.resolve(E))},w=E=>{u()||(a?.(),o.reject(E))},x=()=>new Promise(E=>{a=O=>{(u()||y())&&E(O)},n.onPause?.()}).then(()=>{a=void 0,u()||n.onContinue?.()}),A=()=>{if(u())return;let E;const O=r===0?n.initialPromise:void 0;try{E=O??n.fn()}catch(L){E=Promise.reject(L)}Promise.resolve(E).then(_).catch(L=>{if(u())return;const C=n.retry??(Qr?0:3),D=n.retryDelay??jx,Z=typeof D=="function"?D(r,L):D,K=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,L);if(e||!K){w(L);return}r++,n.onFail?.(r,L),gx(Z).then(()=>y()?void 0:x()).then(()=>{e?w(L):A()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(a?.(),o),cancelRetry:h,continueRetry:p,canStart:g,start:()=>(g()?A():x().then(A),o)}}var hb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Th(this.gcTime)&&(this.#e=Gr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Qr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Gr.clearTimeout(this.#e),this.#e=void 0)}},Tx=class extends hb{#e;#t;#n;#r;#s;#i;#l;constructor(n){super(),this.#l=!1,this.#i=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#r=n.client,this.#n=this.#r.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=qg(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(n){if(this.options={...this.#i,...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=qg(this.options);e.data!==void 0&&(this.setState(Mg(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(n,e){const r=Rh(this.state.data,n,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(n,e){this.#a({type:"setState",state:n,setStateOptions:e})}cancel(n){const e=this.#s?.promise;return this.#s?.cancel(n),e?e.then(dn).catch(dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>Kn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>gr(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!lb(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(e=>e!==n),this.observers.length||(this.#s&&(this.#l?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(n,e){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},o=()=>{const h=ub(this.options,e),y=(()=>{const g={client:this.#r,queryKey:this.queryKey,meta:this.meta};return a(g),g})();return this.#l=!1,this.options.persister?this.options.persister(h,y,this):h(y)},c=(()=>{const h={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:o};return a(h),h})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#a({type:"fetch",meta:c.fetchOptions?.meta}),this.#s=db({initialPromise:e?.initialPromise,fn:c.fetchFn,onCancel:h=>{h instanceof Nh&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(h,p)=>{this.#a({type:"failed",failureCount:h,error:p})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const h=await this.#s.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof Nh){if(h.silent)return this.#s.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#a({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#a(n){const e=r=>{switch(n.type){case"failed":return{...r,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...fb(r.data,this.options),fetchMeta:n.meta??null};case"success":const a={...r,...Mg(n.data,n.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=n.manual?a:void 0,a;case"error":const o=n.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...n.state}}};this.state=e(this.state),Bt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:n})})}};function fb(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cb(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Mg(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function qg(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,r=e!==void 0,a=r?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ax=class extends ui{constructor(n,e){super(),this.options=e,this.#e=n,this.#a=null,this.#l=Oh(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#i;#l;#a;#p;#h;#f;#u;#c;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Lg(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kh(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kh(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#w(),this.#t.removeObserver(this)}setOptions(n){const e=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),e._defaulted&&!wu(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&zg(this.#t,r,this.options,e)&&this.#d(),this.updateResult(),a&&(this.#t!==r||Kn(this.options.enabled,this.#t)!==Kn(e.enabled,this.#t)||gr(this.options.staleTime,this.#t)!==gr(e.staleTime,this.#t))&&this.#y();const o=this.#g();a&&(this.#t!==r||Kn(this.options.enabled,this.#t)!==Kn(e.enabled,this.#t)||o!==this.#o)&&this.#v(o)}getOptimisticResult(n){const e=this.#e.getQueryCache().build(this.#e,n),r=this.createResult(e,n);return Ox(this,r)&&(this.#r=r,this.#i=this.options,this.#s=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(n,e){return new Proxy(n,{get:(r,a)=>(this.trackProp(a),e?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(n){this.#m.add(n)}getCurrentQuery(){return this.#t}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#e.defaultQueryOptions(n),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(n){return this.#d({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(n){this.#x();let e=this.#t.fetch(this.options,n);return n?.throwOnError||(e=e.catch(dn)),e}#y(){this.#_();const n=gr(this.options.staleTime,this.#t);if(Qr||this.#r.isStale||!Th(n))return;const r=lb(this.#r.dataUpdatedAt,n)+1;this.#u=Gr.setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(n){this.#w(),this.#o=n,!(Qr||Kn(this.options.enabled,this.#t)===!1||!Th(this.#o)||this.#o===0)&&(this.#c=Gr.setInterval(()=>{(this.options.refetchIntervalInBackground||af.isFocused())&&this.#d()},this.#o))}#b(){this.#y(),this.#v(this.#g())}#_(){this.#u&&(Gr.clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(Gr.clearInterval(this.#c),this.#c=void 0)}createResult(n,e){const r=this.#t,a=this.options,o=this.#r,u=this.#s,c=this.#i,p=n!==r?n.state:this.#n,{state:y}=n;let g={...y},_=!1,w;if(e._optimisticResults){const F=this.hasListeners(),be=!F&&Lg(n,e),$e=F&&zg(n,r,e,a);(be||$e)&&(g={...g,...fb(y.data,n.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:x,errorUpdatedAt:A,status:E}=g;w=g.data;let O=!1;if(e.placeholderData!==void 0&&w===void 0&&E==="pending"){let F;o?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(F=o.data,O=!0):F=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,F!==void 0&&(E="success",w=Rh(o?.data,F,e),_=!0)}if(e.select&&w!==void 0&&!O)if(o&&w===u?.data&&e.select===this.#p)w=this.#h;else try{this.#p=e.select,w=e.select(w),w=Rh(o?.data,w,e),this.#h=w,this.#a=null}catch(F){this.#a=F}this.#a&&(x=this.#a,w=this.#h,A=Date.now(),E="error");const L=g.fetchStatus==="fetching",C=E==="pending",D=E==="error",Z=C&&L,K=w!==void 0,ce={status:E,fetchStatus:g.fetchStatus,isPending:C,isSuccess:E==="success",isError:D,isInitialLoading:Z,isLoading:Z,data:w,dataUpdatedAt:g.dataUpdatedAt,error:x,errorUpdatedAt:A,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:L,isRefetching:L&&!C,isLoadingError:D&&!K,isPaused:g.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:D&&K,isStale:lf(n,e),refetch:this.refetch,promise:this.#l,isEnabled:Kn(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const F=ce.data!==void 0,be=ce.status==="error"&&!F,$e=te=>{be?te.reject(ce.error):F&&te.resolve(ce.data)},vt=()=>{const te=this.#l=ce.promise=Oh();$e(te)},ue=this.#l;switch(ue.status){case"pending":n.queryHash===r.queryHash&&$e(ue);break;case"fulfilled":(be||ce.data!==ue.value)&&vt();break;case"rejected":(!be||ce.error!==ue.reason)&&vt();break}}return ce}updateResult(){const n=this.#r,e=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#f=this.#t),wu(e,n))return;this.#r=e;const r=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!this.#m.size)return!0;const u=new Set(o??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#r).some(c=>{const h=c;return this.#r[h]!==n[h]&&u.has(h)})};this.#S({listeners:r()})}#x(){const n=this.#e.getQueryCache().build(this.#e,this.options);if(n===this.#t)return;const e=this.#t;this.#t=n,this.#n=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(n){Bt.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Rx(n,e){return Kn(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Lg(n,e){return Rx(n,e)||n.state.data!==void 0&&kh(n,e,e.refetchOnMount)}function kh(n,e,r){if(Kn(e.enabled,n)!==!1&&gr(e.staleTime,n)!=="static"){const a=typeof r=="function"?r(n):r;return a==="always"||a!==!1&&lf(n,e)}return!1}function zg(n,e,r,a){return(n!==e||Kn(a.enabled,n)===!1)&&(!r.suspense||n.state.status!=="error")&&lf(n,r)}function lf(n,e){return Kn(e.enabled,n)!==!1&&n.isStaleByTime(gr(e.staleTime,n))}function Ox(n,e){return!wu(n.getCurrentResult(),e)}function Bg(n){return{onFetch:(e,r)=>{const a=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,u=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},p=0;const y=async()=>{let g=!1;const _=A=>{_x(A,()=>e.signal,()=>g=!0)},w=ub(e.options,e.fetchOptions),x=async(A,E,O)=>{if(g)return Promise.reject();if(E==null&&A.pages.length)return Promise.resolve(A);const C=(()=>{const ie={client:e.client,queryKey:e.queryKey,pageParam:E,direction:O?"backward":"forward",meta:e.options.meta};return _(ie),ie})(),D=await w(C),{maxPages:Z}=e.options,K=O?bx:vx;return{pages:K(A.pages,D,Z),pageParams:K(A.pageParams,E,Z)}};if(o&&u.length){const A=o==="backward",E=A?Nx:Pg,O={pages:u,pageParams:c},L=E(a,O);h=await x(O,L,A)}else{const A=n??u.length;do{const E=p===0?c[0]??a.initialPageParam:Pg(a,h);if(p>0&&E==null)break;h=await x(h,E),p++}while(p<A)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(y,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=y}}}function Pg(n,{pages:e,pageParams:r}){const a=e.length-1;return e.length>0?n.getNextPageParam(e[a],e,r[a],r):void 0}function Nx(n,{pages:e,pageParams:r}){return e.length>0?n.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var kx=class extends hb{#e;#t;#n;#r;constructor(n){super(),this.#e=n.client,this.mutationId=n.mutationId,this.#n=n.mutationCache,this.#t=[],this.state=n.state||mb(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#t.includes(n)||(this.#t.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#t=this.#t.filter(e=>e!==n),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(n){const e=()=>{this.#s({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=db({fn:()=>this.options.mutationFn?this.options.mutationFn(n,r):Promise.reject(new Error("No mutationFn found")),onFail:(u,c)=>{this.#s({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#r.canStart();try{if(a)e();else{this.#s({type:"pending",variables:n,isPaused:o}),this.#n.config.onMutate&&await this.#n.config.onMutate(n,this,r);const c=await this.options.onMutate?.(n,r);c!==this.state.context&&this.#s({type:"pending",context:c,variables:n,isPaused:o})}const u=await this.#r.start();return await this.#n.config.onSuccess?.(u,n,this.state.context,this,r),await this.options.onSuccess?.(u,n,this.state.context,r),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(u,null,n,this.state.context,r),this.#s({type:"success",data:u}),u}catch(u){try{await this.#n.config.onError?.(u,n,this.state.context,this,r)}catch(c){Promise.reject(c)}try{await this.options.onError?.(u,n,this.state.context,r)}catch(c){Promise.reject(c)}try{await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,r)}catch(c){Promise.reject(c)}try{await this.options.onSettled?.(void 0,u,n,this.state.context,r)}catch(c){Promise.reject(c)}throw this.#s({type:"error",error:u}),u}finally{this.#n.runNext(this)}}#s(n){const e=r=>{switch(n.type){case"failed":return{...r,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...r,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:n.error,failureCount:r.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Bt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(n)}),this.#n.notify({mutation:this,type:"updated",action:n})})}};function mb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cx=class extends ui{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,r){const a=new kx({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:r});return this.add(a),a}add(n){this.#e.add(n);const e=lu(n);if(typeof e=="string"){const r=this.#t.get(e);r?r.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=lu(n);if(typeof e=="string"){const r=this.#t.get(e);if(r)if(r.length>1){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}else r[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=lu(n);if(typeof e=="string"){const a=this.#t.get(e)?.find(o=>o.state.status==="pending");return!a||a===n}else return!0}runNext(n){const e=lu(n);return typeof e=="string"?this.#t.get(e)?.find(a=>a!==n&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Bt.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(r=>Cg(e,r))}findAll(n={}){return this.getAll().filter(e=>Cg(n,e))}notify(n){Bt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return Bt.batch(()=>Promise.all(n.map(e=>e.continue().catch(dn))))}};function lu(n){return n.options.scope?.id}var Dx=class extends ui{#e;#t=void 0;#n;#r;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),wu(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Zr(r.mutationKey)!==Zr(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(e,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??mb();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){Bt.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,a=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#r.onSuccess?.(e.data,r,a,o)}catch(u){Promise.reject(u)}try{this.#r.onSettled?.(e.data,null,r,a,o)}catch(u){Promise.reject(u)}}else if(e?.type==="error"){try{this.#r.onError?.(e.error,r,a,o)}catch(u){Promise.reject(u)}try{this.#r.onSettled?.(void 0,e.error,r,a,o)}catch(u){Promise.reject(u)}}}this.listeners.forEach(r=>{r(this.#t)})})}},Ux=class extends ui{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,r){const a=e.queryKey,o=e.queryHash??nf(a,e);let u=this.get(o);return u||(u=new Tx({client:n,queryKey:a,queryHash:o,options:n.defaultQueryOptions(e),state:r,defaultOptions:n.getQueryDefaults(a)}),this.add(u)),u}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Bt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(r=>kg(e,r))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(r=>kg(n,r)):e}notify(n){Bt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){Bt.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Bt.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},Mx=class{#e;#t;#n;#r;#s;#i;#l;#a;constructor(n={}){this.#e=n.queryCache||new Ux,this.#t=n.mutationCache||new Cx,this.#n=n.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=af.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=xu.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#a?.(),this.#a=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),r=this.#e.build(this,e),a=r.state.data;return a===void 0?this.fetchQuery(n):(n.revalidateIfStale&&r.isStaleByTime(gr(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:r})=>{const a=r.data;return[e,a]})}setQueryData(n,e,r){const a=this.defaultQueryOptions({queryKey:n}),u=this.#e.get(a.queryHash)?.state.data,c=px(e,u);if(c!==void 0)return this.#e.build(this,a).setData(c,{...r,manual:!0})}setQueriesData(n,e,r){return Bt.batch(()=>this.#e.findAll(n).map(({queryKey:a})=>[a,this.setQueryData(a,e,r)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;Bt.batch(()=>{e.findAll(n).forEach(r=>{e.remove(r)})})}resetQueries(n,e){const r=this.#e;return Bt.batch(()=>(r.findAll(n).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const r={revert:!0,...e},a=Bt.batch(()=>this.#e.findAll(n).map(o=>o.cancel(r)));return Promise.all(a).then(dn).catch(dn)}invalidateQueries(n,e={}){return Bt.batch(()=>(this.#e.findAll(n).forEach(r=>{r.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},a=Bt.batch(()=>this.#e.findAll(n).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,r);return r.throwOnError||(u=u.catch(dn)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(dn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(gr(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(dn).catch(dn)}fetchInfiniteQuery(n){return n.behavior=Bg(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(dn).catch(dn)}ensureInfiniteQueryData(n){return n.behavior=Bg(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return xu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#r.set(Zr(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#r.values()],r={};return e.forEach(a=>{Ol(n,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(n,e){this.#s.set(Zr(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#s.values()],r={};return e.forEach(a=>{Ol(n,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=nf(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===sf&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},pb=N.createContext(void 0),Pt=n=>{const e=N.useContext(pb);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},qx=({client:n,children:e})=>(N.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),m.jsx(pb.Provider,{value:n,children:e})),yb=N.createContext(!1),Lx=()=>N.useContext(yb);yb.Provider;function zx(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Bx=N.createContext(zx()),Px=()=>N.useContext(Bx),$x=(n,e,r)=>{const a=r?.state.error&&typeof n.throwOnError=="function"?rf(n.throwOnError,[r.state.error,r]):n.throwOnError;(n.suspense||n.experimental_prefetchInRender||a)&&(e.isReset()||(n.retryOnMount=!1))},Vx=n=>{N.useEffect(()=>{n.clearReset()},[n])},Hx=({result:n,errorResetBoundary:e,throwOnError:r,query:a,suspense:o})=>n.isError&&!e.isReset()&&!n.isFetching&&a&&(o&&n.data===void 0||rf(r,[n.error,a])),Ix=n=>{if(n.suspense){const r=o=>o==="static"?o:Math.max(o??1e3,1e3),a=n.staleTime;n.staleTime=typeof a=="function"?(...o)=>r(a(...o)):r(a),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},Gx=(n,e)=>n.isLoading&&n.isFetching&&!e,Kx=(n,e)=>n?.suspense&&e.isPending,$g=(n,e,r)=>e.fetchOptimistic(n).catch(()=>{r.clearReset()});function Fx(n,e,r){const a=Lx(),o=Px(),u=Pt(),c=u.defaultQueryOptions(n);u.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const h=u.getQueryCache().get(c.queryHash);c._optimisticResults=a?"isRestoring":"optimistic",Ix(c),$x(c,o,h),Vx(o);const p=!u.getQueryCache().get(c.queryHash),[y]=N.useState(()=>new e(u,c)),g=y.getOptimisticResult(c),_=!a&&n.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(w=>{const x=_?y.subscribe(Bt.batchCalls(w)):dn;return y.updateResult(),x},[y,_]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),N.useEffect(()=>{y.setOptions(c)},[c,y]),Kx(c,g))throw $g(c,y,o);if(Hx({result:g,errorResetBoundary:o,throwOnError:c.throwOnError,query:h,suspense:c.suspense}))throw g.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(c,g),c.experimental_prefetchInRender&&!Qr&&Gx(g,a)&&(p?$g(c,y,o):h?.promise)?.catch(dn).finally(()=>{y.updateResult()}),c.notifyOnChangeProps?g:y.trackResult(g)}function as(n,e){return Fx(n,Ax)}function ln(n,e){const r=Pt(),[a]=N.useState(()=>new Dx(r,n));N.useEffect(()=>{a.setOptions(n)},[a,n]);const o=N.useSyncExternalStore(N.useCallback(c=>a.subscribe(Bt.batchCalls(c)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),u=N.useCallback((c,h)=>{a.mutate(c,h).catch(dn)},[a]);if(o.error&&rf(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}var We;(function(n){n.assertEqual=o=>{};function e(o){}n.assertIs=e;function r(o){throw new Error}n.assertNever=r,n.arrayToEnum=o=>{const u={};for(const c of o)u[c]=c;return u},n.getValidEnumValues=o=>{const u=n.objectKeys(o).filter(h=>typeof o[o[h]]!="number"),c={};for(const h of u)c[h]=o[h];return n.objectValues(c)},n.objectValues=o=>n.objectKeys(o).map(function(u){return o[u]}),n.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const u=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&u.push(c);return u},n.find=(o,u)=>{for(const c of o)if(u(c))return c},n.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function a(o,u=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(u)}n.joinValues=a,n.jsonStringifyReplacer=(o,u)=>typeof u=="bigint"?u.toString():u})(We||(We={}));var Vg;(function(n){n.mergeShapes=(e,r)=>({...e,...r})})(Vg||(Vg={}));const pe=We.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fr=n=>{switch(typeof n){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return Number.isNaN(n)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(n)?pe.array:n===null?pe.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?pe.promise:typeof Map<"u"&&n instanceof Map?pe.map:typeof Set<"u"&&n instanceof Set?pe.set:typeof Date<"u"&&n instanceof Date?pe.date:pe.object;default:return pe.unknown}},Y=We.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class zs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(u){return u.message},a={_errors:[]},o=u=>{for(const c of u.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)a._errors.push(r(c));else{let h=a,p=0;for(;p<c.path.length;){const y=c.path[p];p===c.path.length-1?(h[y]=h[y]||{_errors:[]},h[y]._errors.push(r(c))):h[y]=h[y]||{_errors:[]},h=h[y],p++}}};return o(this),a}static assert(e){if(!(e instanceof zs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,We.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},a=[];for(const o of this.issues)if(o.path.length>0){const u=o.path[0];r[u]=r[u]||[],r[u].push(e(o))}else a.push(e(o));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}zs.create=n=>new zs(n);const Ch=(n,e)=>{let r;switch(n.code){case Y.invalid_type:n.received===pe.undefined?r="Required":r=`Expected ${n.expected}, received ${n.received}`;break;case Y.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(n.expected,We.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:r=`Unrecognized key(s) in object: ${We.joinValues(n.keys,", ")}`;break;case Y.invalid_union:r="Invalid input";break;case Y.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${We.joinValues(n.options)}`;break;case Y.invalid_enum_value:r=`Invalid enum value. Expected ${We.joinValues(n.options)}, received '${n.received}'`;break;case Y.invalid_arguments:r="Invalid function arguments";break;case Y.invalid_return_type:r="Invalid function return type";break;case Y.invalid_date:r="Invalid date";break;case Y.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(r=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?r=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?r=`Invalid input: must end with "${n.validation.endsWith}"`:We.assertNever(n.validation):n.validation!=="regex"?r=`Invalid ${n.validation}`:r="Invalid";break;case Y.too_small:n.type==="array"?r=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?r=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?r=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?r=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?r=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:r="Invalid input";break;case Y.too_big:n.type==="array"?r=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?r=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?r=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?r=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?r=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:r="Invalid input";break;case Y.custom:r="Invalid input";break;case Y.invalid_intersection_types:r="Intersection results could not be merged";break;case Y.not_multiple_of:r=`Number must be a multiple of ${n.multipleOf}`;break;case Y.not_finite:r="Number must be finite";break;default:r=e.defaultError,We.assertNever(n)}return{message:r}};let Qx=Ch;function Zx(){return Qx}const Yx=n=>{const{data:e,path:r,errorMaps:a,issueData:o}=n,u=[...r,...o.path||[]],c={...o,path:u};if(o.message!==void 0)return{...o,path:u,message:o.message};let h="";const p=a.filter(y=>!!y).slice().reverse();for(const y of p)h=y(c,{data:e,defaultError:h}).message;return{...o,path:u,message:h}};function ae(n,e){const r=Zx(),a=Yx({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,r,r===Ch?void 0:Ch].filter(o=>!!o)});n.common.issues.push(a)}class On{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const a=[];for(const o of r){if(o.status==="aborted")return Ae;o.status==="dirty"&&e.dirty(),a.push(o.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,r){const a=[];for(const o of r){const u=await o.key,c=await o.value;a.push({key:u,value:c})}return On.mergeObjectSync(e,a)}static mergeObjectSync(e,r){const a={};for(const o of r){const{key:u,value:c}=o;if(u.status==="aborted"||c.status==="aborted")return Ae;u.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),u.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(a[u.value]=c.value)}return{status:e.value,value:a}}}const Ae=Object.freeze({status:"aborted"}),Sl=n=>({status:"dirty",value:n}),Fn=n=>({status:"valid",value:n}),Hg=n=>n.status==="aborted",Ig=n=>n.status==="dirty",ri=n=>n.status==="valid",Su=n=>typeof Promise<"u"&&n instanceof Promise;var ye;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e?.message})(ye||(ye={}));class br{constructor(e,r,a,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=a,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Gg=(n,e)=>{if(ri(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new zs(n.common.issues);return this._error=r,this._error}}};function Le(n){if(!n)return{};const{errorMap:e,invalid_type_error:r,required_error:a,description:o}=n;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(c,h)=>{const{message:p}=n;return c.code==="invalid_enum_value"?{message:p??h.defaultError}:typeof h.data>"u"?{message:p??a??h.defaultError}:c.code!=="invalid_type"?{message:h.defaultError}:{message:p??r??h.defaultError}},description:o}}class Ze{get description(){return this._def.description}_getType(e){return fr(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:fr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new On,ctx:{common:e.parent.common,data:e.data,parsedType:fr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Su(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const a=this.safeParse(e,r);if(a.success)return a.data;throw a.error}safeParse(e,r){const a={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fr(e)},o=this._parseSync({data:e,path:a.path,parent:a});return Gg(a,o)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fr(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return ri(a)?{value:a.value}:{issues:r.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>ri(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const a=await this.safeParseAsync(e,r);if(a.success)return a.data;throw a.error}async safeParseAsync(e,r){const a={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fr(e)},o=this._parse({data:e,path:a.path,parent:a}),u=await(Su(o)?o:Promise.resolve(o));return Gg(a,u)}refine(e,r){const a=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,u)=>{const c=e(o),h=()=>u.addIssue({code:Y.custom,...a(o)});return typeof Promise<"u"&&c instanceof Promise?c.then(p=>p?!0:(h(),!1)):c?!0:(h(),!1)})}refinement(e,r){return this._refinement((a,o)=>e(a)?!0:(o.addIssue(typeof r=="function"?r(a,o):r),!1))}_refinement(e){return new li({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return vr.create(this,this._def)}nullable(){return oi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ys.create(this)}promise(){return Au.create(this,this._def)}or(e){return ju.create([this,e],this._def)}and(e){return Tu.create(this,e,this._def)}transform(e){return new li({...Le(this._def),schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Uh({...Le(this._def),innerType:this,defaultValue:r,typeName:Re.ZodDefault})}brand(){return new bS({typeName:Re.ZodBranded,type:this,...Le(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Mh({...Le(this._def),innerType:this,catchValue:r,typeName:Re.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return of.create(this,e)}readonly(){return qh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Xx=/^c[^\s-]{8,}$/i,Jx=/^[0-9a-z]+$/,Wx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tS=/^[a-z0-9_-]{21}$/i,nS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,sS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hh;const iS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,uS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,gb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hS=new RegExp(`^${gb}$`);function vb(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const r=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function fS(n){return new RegExp(`^${vb(n)}$`)}function mS(n){let e=`${gb}T${vb(n)}`;const r=[];return r.push(n.local?"Z?":"Z"),n.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function pS(n,e){return!!((e==="v4"||!e)&&iS.test(n)||(e==="v6"||!e)&&oS.test(n))}function yS(n,e){if(!nS.test(n))return!1;try{const[r]=n.split(".");if(!r)return!1;const a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(a));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function gS(n,e){return!!((e==="v4"||!e)&&lS.test(n)||(e==="v6"||!e)&&uS.test(n))}class qs extends Ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){const u=this._getOrReturnCtx(e);return ae(u,{code:Y.invalid_type,expected:pe.string,received:u.parsedType}),Ae}const a=new On;let o;for(const u of this._def.checks)if(u.kind==="min")e.data.length<u.value&&(o=this._getOrReturnCtx(e,o),ae(o,{code:Y.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),a.dirty());else if(u.kind==="max")e.data.length>u.value&&(o=this._getOrReturnCtx(e,o),ae(o,{code:Y.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),a.dirty());else if(u.kind==="length"){const c=e.data.length>u.value,h=e.data.length<u.value;(c||h)&&(o=this._getOrReturnCtx(e,o),c?ae(o,{code:Y.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):h&&ae(o,{code:Y.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),a.dirty())}else if(u.kind==="email")rS.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"email",code:Y.invalid_string,message:u.message}),a.dirty());else if(u.kind==="emoji")hh||(hh=new RegExp(aS,"u")),hh.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"emoji",code:Y.invalid_string,message:u.message}),a.dirty());else if(u.kind==="uuid")eS.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"uuid",code:Y.invalid_string,message:u.message}),a.dirty());else if(u.kind==="nanoid")tS.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"nanoid",code:Y.invalid_string,message:u.message}),a.dirty());else if(u.kind==="cuid")Xx.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"cuid",code:Y.invalid_string,message:u.message}),a.dirty());else if(u.kind==="cuid2")Jx.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"cuid2",code:Y.invalid_string,message:u.message}),a.dirty());else if(u.kind==="ulid")Wx.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"ulid",code:Y.invalid_string,message:u.message}),a.dirty());else if(u.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ae(o,{validation:"url",code:Y.invalid_string,message:u.message}),a.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"regex",code:Y.invalid_string,message:u.message}),a.dirty())):u.kind==="trim"?e.data=e.data.trim():u.kind==="includes"?e.data.includes(u.value,u.position)||(o=this._getOrReturnCtx(e,o),ae(o,{code:Y.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),a.dirty()):u.kind==="toLowerCase"?e.data=e.data.toLowerCase():u.kind==="toUpperCase"?e.data=e.data.toUpperCase():u.kind==="startsWith"?e.data.startsWith(u.value)||(o=this._getOrReturnCtx(e,o),ae(o,{code:Y.invalid_string,validation:{startsWith:u.value},message:u.message}),a.dirty()):u.kind==="endsWith"?e.data.endsWith(u.value)||(o=this._getOrReturnCtx(e,o),ae(o,{code:Y.invalid_string,validation:{endsWith:u.value},message:u.message}),a.dirty()):u.kind==="datetime"?mS(u).test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{code:Y.invalid_string,validation:"datetime",message:u.message}),a.dirty()):u.kind==="date"?hS.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{code:Y.invalid_string,validation:"date",message:u.message}),a.dirty()):u.kind==="time"?fS(u).test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{code:Y.invalid_string,validation:"time",message:u.message}),a.dirty()):u.kind==="duration"?sS.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"duration",code:Y.invalid_string,message:u.message}),a.dirty()):u.kind==="ip"?pS(e.data,u.version)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"ip",code:Y.invalid_string,message:u.message}),a.dirty()):u.kind==="jwt"?yS(e.data,u.alg)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"jwt",code:Y.invalid_string,message:u.message}),a.dirty()):u.kind==="cidr"?gS(e.data,u.version)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"cidr",code:Y.invalid_string,message:u.message}),a.dirty()):u.kind==="base64"?cS.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"base64",code:Y.invalid_string,message:u.message}),a.dirty()):u.kind==="base64url"?dS.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"base64url",code:Y.invalid_string,message:u.message}),a.dirty()):We.assertNever(u);return{status:a.value,value:e.data}}_regex(e,r,a){return this.refinement(o=>e.test(o),{validation:r,code:Y.invalid_string,...ye.errToObj(a)})}_addCheck(e){return new qs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ye.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ye.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ye.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ye.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ye.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ye.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ye.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ye.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ye.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ye.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ye.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ye.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ye.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...ye.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...ye.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ye.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ye.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...ye.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ye.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ye.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ye.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ye.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ye.errToObj(r)})}nonempty(e){return this.min(1,ye.errToObj(e))}trim(){return new qs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}qs.create=n=>new qs({checks:[],typeName:Re.ZodString,coerce:n?.coerce??!1,...Le(n)});function vS(n,e){const r=(n.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,o=r>a?r:a,u=Number.parseInt(n.toFixed(o).replace(".","")),c=Number.parseInt(e.toFixed(o).replace(".",""));return u%c/10**o}class Yr extends Ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){const u=this._getOrReturnCtx(e);return ae(u,{code:Y.invalid_type,expected:pe.number,received:u.parsedType}),Ae}let a;const o=new On;for(const u of this._def.checks)u.kind==="int"?We.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),ae(a,{code:Y.invalid_type,expected:"integer",received:"float",message:u.message}),o.dirty()):u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(a=this._getOrReturnCtx(e,a),ae(a,{code:Y.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(a=this._getOrReturnCtx(e,a),ae(a,{code:Y.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="multipleOf"?vS(e.data,u.value)!==0&&(a=this._getOrReturnCtx(e,a),ae(a,{code:Y.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):u.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),ae(a,{code:Y.not_finite,message:u.message}),o.dirty()):We.assertNever(u);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ye.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ye.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ye.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ye.toString(r))}setLimit(e,r,a,o){return new Yr({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:ye.toString(o)}]})}_addCheck(e){return new Yr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ye.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ye.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ye.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ye.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ye.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&We.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Yr.create=n=>new Yr({checks:[],typeName:Re.ZodNumber,coerce:n?.coerce||!1,...Le(n)});class Xr extends Ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==pe.bigint)return this._getInvalidInput(e);let a;const o=new On;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(a=this._getOrReturnCtx(e,a),ae(a,{code:Y.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(a=this._getOrReturnCtx(e,a),ae(a,{code:Y.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="multipleOf"?e.data%u.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),ae(a,{code:Y.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):We.assertNever(u);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return ae(r,{code:Y.invalid_type,expected:pe.bigint,received:r.parsedType}),Ae}gte(e,r){return this.setLimit("min",e,!0,ye.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ye.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ye.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ye.toString(r))}setLimit(e,r,a,o){return new Xr({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:ye.toString(o)}]})}_addCheck(e){return new Xr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Xr.create=n=>new Xr({checks:[],typeName:Re.ZodBigInt,coerce:n?.coerce??!1,...Le(n)});class Eu extends Ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){const a=this._getOrReturnCtx(e);return ae(a,{code:Y.invalid_type,expected:pe.boolean,received:a.parsedType}),Ae}return Fn(e.data)}}Eu.create=n=>new Eu({typeName:Re.ZodBoolean,coerce:n?.coerce||!1,...Le(n)});class ai extends Ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){const u=this._getOrReturnCtx(e);return ae(u,{code:Y.invalid_type,expected:pe.date,received:u.parsedType}),Ae}if(Number.isNaN(e.data.getTime())){const u=this._getOrReturnCtx(e);return ae(u,{code:Y.invalid_date}),Ae}const a=new On;let o;for(const u of this._def.checks)u.kind==="min"?e.data.getTime()<u.value&&(o=this._getOrReturnCtx(e,o),ae(o,{code:Y.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),a.dirty()):u.kind==="max"?e.data.getTime()>u.value&&(o=this._getOrReturnCtx(e,o),ae(o,{code:Y.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),a.dirty()):We.assertNever(u);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ai({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ye.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ye.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}ai.create=n=>new ai({checks:[],coerce:n?.coerce||!1,typeName:Re.ZodDate,...Le(n)});class Kg extends Ze{_parse(e){if(this._getType(e)!==pe.symbol){const a=this._getOrReturnCtx(e);return ae(a,{code:Y.invalid_type,expected:pe.symbol,received:a.parsedType}),Ae}return Fn(e.data)}}Kg.create=n=>new Kg({typeName:Re.ZodSymbol,...Le(n)});class Fg extends Ze{_parse(e){if(this._getType(e)!==pe.undefined){const a=this._getOrReturnCtx(e);return ae(a,{code:Y.invalid_type,expected:pe.undefined,received:a.parsedType}),Ae}return Fn(e.data)}}Fg.create=n=>new Fg({typeName:Re.ZodUndefined,...Le(n)});class Qg extends Ze{_parse(e){if(this._getType(e)!==pe.null){const a=this._getOrReturnCtx(e);return ae(a,{code:Y.invalid_type,expected:pe.null,received:a.parsedType}),Ae}return Fn(e.data)}}Qg.create=n=>new Qg({typeName:Re.ZodNull,...Le(n)});class Zg extends Ze{constructor(){super(...arguments),this._any=!0}_parse(e){return Fn(e.data)}}Zg.create=n=>new Zg({typeName:Re.ZodAny,...Le(n)});class Yg extends Ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Fn(e.data)}}Yg.create=n=>new Yg({typeName:Re.ZodUnknown,...Le(n)});class _r extends Ze{_parse(e){const r=this._getOrReturnCtx(e);return ae(r,{code:Y.invalid_type,expected:pe.never,received:r.parsedType}),Ae}}_r.create=n=>new _r({typeName:Re.ZodNever,...Le(n)});class Xg extends Ze{_parse(e){if(this._getType(e)!==pe.undefined){const a=this._getOrReturnCtx(e);return ae(a,{code:Y.invalid_type,expected:pe.void,received:a.parsedType}),Ae}return Fn(e.data)}}Xg.create=n=>new Xg({typeName:Re.ZodVoid,...Le(n)});class ys extends Ze{_parse(e){const{ctx:r,status:a}=this._processInputParams(e),o=this._def;if(r.parsedType!==pe.array)return ae(r,{code:Y.invalid_type,expected:pe.array,received:r.parsedType}),Ae;if(o.exactLength!==null){const c=r.data.length>o.exactLength.value,h=r.data.length<o.exactLength.value;(c||h)&&(ae(r,{code:c?Y.too_big:Y.too_small,minimum:h?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),a.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(ae(r,{code:Y.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),a.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(ae(r,{code:Y.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((c,h)=>o.type._parseAsync(new br(r,c,r.path,h)))).then(c=>On.mergeArray(a,c));const u=[...r.data].map((c,h)=>o.type._parseSync(new br(r,c,r.path,h)));return On.mergeArray(a,u)}get element(){return this._def.type}min(e,r){return new ys({...this._def,minLength:{value:e,message:ye.toString(r)}})}max(e,r){return new ys({...this._def,maxLength:{value:e,message:ye.toString(r)}})}length(e,r){return new ys({...this._def,exactLength:{value:e,message:ye.toString(r)}})}nonempty(e){return this.min(1,e)}}ys.create=(n,e)=>new ys({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray,...Le(e)});function Xa(n){if(n instanceof kt){const e={};for(const r in n.shape){const a=n.shape[r];e[r]=vr.create(Xa(a))}return new kt({...n._def,shape:()=>e})}else return n instanceof ys?new ys({...n._def,type:Xa(n.element)}):n instanceof vr?vr.create(Xa(n.unwrap())):n instanceof oi?oi.create(Xa(n.unwrap())):n instanceof Jr?Jr.create(n.items.map(e=>Xa(e))):n}class kt extends Ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=We.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==pe.object){const y=this._getOrReturnCtx(e);return ae(y,{code:Y.invalid_type,expected:pe.object,received:y.parsedType}),Ae}const{status:a,ctx:o}=this._processInputParams(e),{shape:u,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof _r&&this._def.unknownKeys==="strip"))for(const y in o.data)c.includes(y)||h.push(y);const p=[];for(const y of c){const g=u[y],_=o.data[y];p.push({key:{status:"valid",value:y},value:g._parse(new br(o,_,o.path,y)),alwaysSet:y in o.data})}if(this._def.catchall instanceof _r){const y=this._def.unknownKeys;if(y==="passthrough")for(const g of h)p.push({key:{status:"valid",value:g},value:{status:"valid",value:o.data[g]}});else if(y==="strict")h.length>0&&(ae(o,{code:Y.unrecognized_keys,keys:h}),a.dirty());else if(y!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const y=this._def.catchall;for(const g of h){const _=o.data[g];p.push({key:{status:"valid",value:g},value:y._parse(new br(o,_,o.path,g)),alwaysSet:g in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const y=[];for(const g of p){const _=await g.key,w=await g.value;y.push({key:_,value:w,alwaysSet:g.alwaysSet})}return y}).then(y=>On.mergeObjectSync(a,y)):On.mergeObjectSync(a,p)}get shape(){return this._def.shape()}strict(e){return ye.errToObj,new kt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,a)=>{const o=this._def.errorMap?.(r,a).message??a.defaultError;return r.code==="unrecognized_keys"?{message:ye.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new kt({...this._def,unknownKeys:"strip"})}passthrough(){return new kt({...this._def,unknownKeys:"passthrough"})}extend(e){return new kt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Re.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new kt({...this._def,catchall:e})}pick(e){const r={};for(const a of We.objectKeys(e))e[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new kt({...this._def,shape:()=>r})}omit(e){const r={};for(const a of We.objectKeys(this.shape))e[a]||(r[a]=this.shape[a]);return new kt({...this._def,shape:()=>r})}deepPartial(){return Xa(this)}partial(e){const r={};for(const a of We.objectKeys(this.shape)){const o=this.shape[a];e&&!e[a]?r[a]=o:r[a]=o.optional()}return new kt({...this._def,shape:()=>r})}required(e){const r={};for(const a of We.objectKeys(this.shape))if(e&&!e[a])r[a]=this.shape[a];else{let u=this.shape[a];for(;u instanceof vr;)u=u._def.innerType;r[a]=u}return new kt({...this._def,shape:()=>r})}keyof(){return bb(We.objectKeys(this.shape))}}kt.create=(n,e)=>new kt({shape:()=>n,unknownKeys:"strip",catchall:_r.create(),typeName:Re.ZodObject,...Le(e)});kt.strictCreate=(n,e)=>new kt({shape:()=>n,unknownKeys:"strict",catchall:_r.create(),typeName:Re.ZodObject,...Le(e)});kt.lazycreate=(n,e)=>new kt({shape:n,unknownKeys:"strip",catchall:_r.create(),typeName:Re.ZodObject,...Le(e)});class ju extends Ze{_parse(e){const{ctx:r}=this._processInputParams(e),a=this._def.options;function o(u){for(const h of u)if(h.result.status==="valid")return h.result;for(const h of u)if(h.result.status==="dirty")return r.common.issues.push(...h.ctx.common.issues),h.result;const c=u.map(h=>new zs(h.ctx.common.issues));return ae(r,{code:Y.invalid_union,unionErrors:c}),Ae}if(r.common.async)return Promise.all(a.map(async u=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await u._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(o);{let u;const c=[];for(const p of a){const y={...r,common:{...r.common,issues:[]},parent:null},g=p._parseSync({data:r.data,path:r.path,parent:y});if(g.status==="valid")return g;g.status==="dirty"&&!u&&(u={result:g,ctx:y}),y.common.issues.length&&c.push(y.common.issues)}if(u)return r.common.issues.push(...u.ctx.common.issues),u.result;const h=c.map(p=>new zs(p));return ae(r,{code:Y.invalid_union,unionErrors:h}),Ae}}get options(){return this._def.options}}ju.create=(n,e)=>new ju({options:n,typeName:Re.ZodUnion,...Le(e)});function Dh(n,e){const r=fr(n),a=fr(e);if(n===e)return{valid:!0,data:n};if(r===pe.object&&a===pe.object){const o=We.objectKeys(e),u=We.objectKeys(n).filter(h=>o.indexOf(h)!==-1),c={...n,...e};for(const h of u){const p=Dh(n[h],e[h]);if(!p.valid)return{valid:!1};c[h]=p.data}return{valid:!0,data:c}}else if(r===pe.array&&a===pe.array){if(n.length!==e.length)return{valid:!1};const o=[];for(let u=0;u<n.length;u++){const c=n[u],h=e[u],p=Dh(c,h);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return r===pe.date&&a===pe.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Tu extends Ze{_parse(e){const{status:r,ctx:a}=this._processInputParams(e),o=(u,c)=>{if(Hg(u)||Hg(c))return Ae;const h=Dh(u.value,c.value);return h.valid?((Ig(u)||Ig(c))&&r.dirty(),{status:r.value,value:h.data}):(ae(a,{code:Y.invalid_intersection_types}),Ae)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([u,c])=>o(u,c)):o(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Tu.create=(n,e,r)=>new Tu({left:n,right:e,typeName:Re.ZodIntersection,...Le(r)});class Jr extends Ze{_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==pe.array)return ae(a,{code:Y.invalid_type,expected:pe.array,received:a.parsedType}),Ae;if(a.data.length<this._def.items.length)return ae(a,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&a.data.length>this._def.items.length&&(ae(a,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const u=[...a.data].map((c,h)=>{const p=this._def.items[h]||this._def.rest;return p?p._parse(new br(a,c,a.path,h)):null}).filter(c=>!!c);return a.common.async?Promise.all(u).then(c=>On.mergeArray(r,c)):On.mergeArray(r,u)}get items(){return this._def.items}rest(e){return new Jr({...this._def,rest:e})}}Jr.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Jr({items:n,typeName:Re.ZodTuple,rest:null,...Le(e)})};class Jg extends Ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==pe.map)return ae(a,{code:Y.invalid_type,expected:pe.map,received:a.parsedType}),Ae;const o=this._def.keyType,u=this._def.valueType,c=[...a.data.entries()].map(([h,p],y)=>({key:o._parse(new br(a,h,a.path,[y,"key"])),value:u._parse(new br(a,p,a.path,[y,"value"]))}));if(a.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const p of c){const y=await p.key,g=await p.value;if(y.status==="aborted"||g.status==="aborted")return Ae;(y.status==="dirty"||g.status==="dirty")&&r.dirty(),h.set(y.value,g.value)}return{status:r.value,value:h}})}else{const h=new Map;for(const p of c){const y=p.key,g=p.value;if(y.status==="aborted"||g.status==="aborted")return Ae;(y.status==="dirty"||g.status==="dirty")&&r.dirty(),h.set(y.value,g.value)}return{status:r.value,value:h}}}}Jg.create=(n,e,r)=>new Jg({valueType:e,keyType:n,typeName:Re.ZodMap,...Le(r)});class Nl extends Ze{_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==pe.set)return ae(a,{code:Y.invalid_type,expected:pe.set,received:a.parsedType}),Ae;const o=this._def;o.minSize!==null&&a.data.size<o.minSize.value&&(ae(a,{code:Y.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&a.data.size>o.maxSize.value&&(ae(a,{code:Y.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const u=this._def.valueType;function c(p){const y=new Set;for(const g of p){if(g.status==="aborted")return Ae;g.status==="dirty"&&r.dirty(),y.add(g.value)}return{status:r.value,value:y}}const h=[...a.data.values()].map((p,y)=>u._parse(new br(a,p,a.path,y)));return a.common.async?Promise.all(h).then(p=>c(p)):c(h)}min(e,r){return new Nl({...this._def,minSize:{value:e,message:ye.toString(r)}})}max(e,r){return new Nl({...this._def,maxSize:{value:e,message:ye.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Nl.create=(n,e)=>new Nl({valueType:n,minSize:null,maxSize:null,typeName:Re.ZodSet,...Le(e)});class Wg extends Ze{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Wg.create=(n,e)=>new Wg({getter:n,typeName:Re.ZodLazy,...Le(e)});class ev extends Ze{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ae(r,{received:r.data,code:Y.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:e.data}}get value(){return this._def.value}}ev.create=(n,e)=>new ev({value:n,typeName:Re.ZodLiteral,...Le(e)});function bb(n,e){return new ii({values:n,typeName:Re.ZodEnum,...Le(e)})}class ii extends Ze{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),a=this._def.values;return ae(r,{expected:We.joinValues(a),received:r.parsedType,code:Y.invalid_type}),Ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),a=this._def.values;return ae(r,{received:r.data,code:Y.invalid_enum_value,options:a}),Ae}return Fn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ii.create(e,{...this._def,...r})}exclude(e,r=this._def){return ii.create(this.options.filter(a=>!e.includes(a)),{...this._def,...r})}}ii.create=bb;class tv extends Ze{_parse(e){const r=We.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==pe.string&&a.parsedType!==pe.number){const o=We.objectValues(r);return ae(a,{expected:We.joinValues(o),received:a.parsedType,code:Y.invalid_type}),Ae}if(this._cache||(this._cache=new Set(We.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=We.objectValues(r);return ae(a,{received:a.data,code:Y.invalid_enum_value,options:o}),Ae}return Fn(e.data)}get enum(){return this._def.values}}tv.create=(n,e)=>new tv({values:n,typeName:Re.ZodNativeEnum,...Le(e)});class Au extends Ze{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.promise&&r.common.async===!1)return ae(r,{code:Y.invalid_type,expected:pe.promise,received:r.parsedType}),Ae;const a=r.parsedType===pe.promise?r.data:Promise.resolve(r.data);return Fn(a.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Au.create=(n,e)=>new Au({type:n,typeName:Re.ZodPromise,...Le(e)});class li extends Ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:a}=this._processInputParams(e),o=this._def.effect||null,u={addIssue:c=>{ae(a,c),c.fatal?r.abort():r.dirty()},get path(){return a.path}};if(u.addIssue=u.addIssue.bind(u),o.type==="preprocess"){const c=o.transform(a.data,u);if(a.common.async)return Promise.resolve(c).then(async h=>{if(r.value==="aborted")return Ae;const p=await this._def.schema._parseAsync({data:h,path:a.path,parent:a});return p.status==="aborted"?Ae:p.status==="dirty"||r.value==="dirty"?Sl(p.value):p});{if(r.value==="aborted")return Ae;const h=this._def.schema._parseSync({data:c,path:a.path,parent:a});return h.status==="aborted"?Ae:h.status==="dirty"||r.value==="dirty"?Sl(h.value):h}}if(o.type==="refinement"){const c=h=>{const p=o.refinement(h,u);if(a.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(a.common.async===!1){const h=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return h.status==="aborted"?Ae:(h.status==="dirty"&&r.dirty(),c(h.value),{status:r.value,value:h.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(h=>h.status==="aborted"?Ae:(h.status==="dirty"&&r.dirty(),c(h.value).then(()=>({status:r.value,value:h.value}))))}if(o.type==="transform")if(a.common.async===!1){const c=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!ri(c))return Ae;const h=o.transform(c.value,u);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:h}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(c=>ri(c)?Promise.resolve(o.transform(c.value,u)).then(h=>({status:r.value,value:h})):Ae);We.assertNever(o)}}li.create=(n,e,r)=>new li({schema:n,typeName:Re.ZodEffects,effect:e,...Le(r)});li.createWithPreprocess=(n,e,r)=>new li({schema:e,effect:{type:"preprocess",transform:n},typeName:Re.ZodEffects,...Le(r)});class vr extends Ze{_parse(e){return this._getType(e)===pe.undefined?Fn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vr.create=(n,e)=>new vr({innerType:n,typeName:Re.ZodOptional,...Le(e)});class oi extends Ze{_parse(e){return this._getType(e)===pe.null?Fn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oi.create=(n,e)=>new oi({innerType:n,typeName:Re.ZodNullable,...Le(e)});class Uh extends Ze{_parse(e){const{ctx:r}=this._processInputParams(e);let a=r.data;return r.parsedType===pe.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Uh.create=(n,e)=>new Uh({innerType:n,typeName:Re.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Le(e)});class Mh extends Ze{_parse(e){const{ctx:r}=this._processInputParams(e),a={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Su(o)?o.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new zs(a.common.issues)},input:a.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new zs(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}Mh.create=(n,e)=>new Mh({innerType:n,typeName:Re.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Le(e)});class nv extends Ze{_parse(e){if(this._getType(e)!==pe.nan){const a=this._getOrReturnCtx(e);return ae(a,{code:Y.invalid_type,expected:pe.nan,received:a.parsedType}),Ae}return{status:"valid",value:e.data}}}nv.create=n=>new nv({typeName:Re.ZodNaN,...Le(n)});class bS extends Ze{_parse(e){const{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class of extends Ze{_parse(e){const{status:r,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return u.status==="aborted"?Ae:u.status==="dirty"?(r.dirty(),Sl(u.value)):this._def.out._parseAsync({data:u.value,path:a.path,parent:a})})();{const o=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?Ae:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:a.path,parent:a})}}static create(e,r){return new of({in:e,out:r,typeName:Re.ZodPipeline})}}class qh extends Ze{_parse(e){const r=this._def.innerType._parse(e),a=o=>(ri(o)&&(o.value=Object.freeze(o.value)),o);return Su(r)?r.then(o=>a(o)):a(r)}unwrap(){return this._def.innerType}}qh.create=(n,e)=>new qh({innerType:n,typeName:Re.ZodReadonly,...Le(e)});var Re;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Re||(Re={}));const Qe=qs.create;Yr.create;Xr.create;Eu.create;ai.create;_r.create;ys.create;const Nn=kt.create;ju.create;Tu.create;Jr.create;const Lh=ii.create;Au.create;vr.create;oi.create;const Ru={string:(n=>qs.create({...n,coerce:!0})),number:(n=>Yr.create({...n,coerce:!0})),boolean:(n=>Eu.create({...n,coerce:!0})),bigint:(n=>Xr.create({...n,coerce:!0})),date:(n=>ai.create({...n,coerce:!0}))},_S=Nn({SUPABASE_URL:Qe().url("SUPABASE_URL must be a valid URL"),SUPABASE_ANON_KEY:Qe().min(1,"SUPABASE_ANON_KEY is required")});let zh=null;function wS(n){const e=_S.parse(n);return zh=e,e}function xS(){if(!zh)throw new Error("[config] Environment not initialised. Call initEnv({ SUPABASE_URL, SUPABASE_ANON_KEY }) from your app entry point.");return zh}function Lu(n,e){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(r[a[o]]=n[a[o]]);return r}function SS(n,e,r,a){function o(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function h(g){try{y(a.next(g))}catch(_){c(_)}}function p(g){try{y(a.throw(g))}catch(_){c(_)}}function y(g){g.done?u(g.value):o(g.value).then(h,p)}y((a=a.apply(n,e||[])).next())})}const ES=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class uf extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}}class jS extends uf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sv extends uf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class rv extends uf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bh;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Bh||(Bh={}));class TS{constructor(e,{headers:r={},customFetch:a,region:o=Bh.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=ES(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return SS(this,arguments,void 0,function*(r,a={}){var o;let u,c;try{const{headers:h,method:p,body:y,signal:g,timeout:_}=a;let w={},{region:x}=a;x||(x=this.region);const A=new URL(`${this.url}/${r}`);x&&x!=="any"&&(w["x-region"]=x,A.searchParams.set("forceFunctionRegion",x));let E;y&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",E=y):typeof y=="string"?(w["Content-Type"]="text/plain",E=y):typeof FormData<"u"&&y instanceof FormData?E=y:(w["Content-Type"]="application/json",E=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?E=JSON.stringify(y):E=y;let O=g;_&&(c=new AbortController,u=setTimeout(()=>c.abort(),_),g?(O=c.signal,g.addEventListener("abort",()=>c.abort())):O=c.signal);const L=yield this.fetch(A.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),h),body:E,signal:O}).catch(K=>{throw new jS(K)}),C=L.headers.get("x-relay-error");if(C&&C==="true")throw new sv(L);if(!L.ok)throw new rv(L);let D=((o=L.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),Z;return D==="application/json"?Z=yield L.json():D==="application/octet-stream"||D==="application/pdf"?Z=yield L.blob():D==="text/event-stream"?Z=L:D==="multipart/form-data"?Z=yield L.formData():Z=yield L.text(),{data:Z,error:null,response:L}}catch(h){return{data:null,error:h,response:h instanceof rv||h instanceof sv?h.context:void 0}}finally{u&&clearTimeout(u)}})}}var AS=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},RS=class{constructor(n){var e,r,a;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(a=n.urlLengthLimit)!==null&&a!==void 0?a:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,h=null,p=null,y=u.status,g=u.statusText;if(u.ok){var _,w;if(r.method!=="HEAD"){var x;const L=await u.text();L===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?h=L:h=JSON.parse(L))}const E=(_=r.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),O=(w=u.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");E&&O&&O.length>1&&(p=parseInt(O[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,y=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var A;const E=await u.text();try{c=JSON.parse(E),Array.isArray(c)&&u.status===404&&(h=[],c=null,y=200,g="OK")}catch{u.status===404&&E===""?(y=204,g="No Content"):c={message:E}}if(c&&r.isMaybeSingle&&(!(c==null||(A=c.details)===null||A===void 0)&&A.includes("0 rows"))&&(c=null,y=200,g="OK"),c&&r.shouldThrowOnError)throw new AS(c)}return{error:c,data:h,count:p,status:y,statusText:g}});return this.shouldThrowOnError||(o=o.catch(u=>{var c;let h="",p="",y="";const g=u?.cause;if(g){var _,w,x,A;const L=(_=g?.message)!==null&&_!==void 0?_:"",C=(w=g?.code)!==null&&w!==void 0?w:"";h=`${(x=u?.name)!==null&&x!==void 0?x:"FetchError"}: ${u?.message}`,h+=`

Caused by: ${(A=g?.name)!==null&&A!==void 0?A:"Error"}: ${L}`,C&&(h+=` (${C})`),g?.stack&&(h+=`
${g.stack}`)}else{var E;h=(E=u?.stack)!==null&&E!==void 0?E:""}const O=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(y="",p="Request was aborted (timeout or manual cancellation)",O>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${O} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(y="",p="HTTP headers exceeded server limits (typically 16KB)",O>this.urlLengthLimit&&(p+=`. Your request URL is ${O} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:h,hint:p,code:y},data:null,count:null,status:0,statusText:""}})),o.then(n,e)}returns(){return this}overrideTypes(){return this}},OS=class extends RS{select(n){let e=!1;const r=(n??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:r,foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:r=e}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,e,{foreignTable:r,referencedTable:a=r}={}){const o=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(u,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:r=!1,buffers:a=!1,wal:o=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,e?"verbose":null,r?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const av=new RegExp("[,()]");var Ja=class extends OS{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const r=Array.from(new Set(e)).map(a=>typeof a=="string"&&av.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}notIn(n,e){const r=Array.from(new Set(e)).map(a=>typeof a=="string"&&av.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`not.in.(${r})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:r,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${u}.${e}`),this}match(n){return Object.entries(n).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(n,e,r){return this.url.searchParams.append(n,`not.${e}.${r}`),this}or(n,{foreignTable:e,referencedTable:r=e}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,e,r){return this.url.searchParams.append(n,`${e}.${r}`),this}},NS=class{constructor(n,{headers:e={},schema:r,fetch:a,urlLengthLimit:o=8e3}){this.url=n,this.headers=new Headers(e),this.schema=r,this.fetch=a,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:r=!1,count:a}=e??{},o=r?"HEAD":"GET";let u=!1;const c=(n??"*").split("").map(y=>/\s/.test(y)&&!u?"":(y==='"'&&(u=!u),y)).join(""),{url:h,headers:p}=this.cloneRequestState();return h.searchParams.set("select",c),a&&p.append("Prefer",`count=${a}`),new Ja({method:o,url:h,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:e,defaultToNull:r=!0}={}){var a;const o="POST",{url:u,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),r||c.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(h.length>0){const p=[...new Set(h)].map(y=>`"${y}"`);u.searchParams.set("columns",p.join(","))}}return new Ja({method:o,url:u,headers:c,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:e,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}={}){var u;const c="POST",{url:h,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),a&&p.append("Prefer",`count=${a}`),o||p.append("Prefer","missing=default"),Array.isArray(n)){const y=n.reduce((g,_)=>g.concat(Object.keys(_)),[]);if(y.length>0){const g=[...new Set(y)].map(_=>`"${_}"`);h.searchParams.set("columns",g.join(","))}}return new Ja({method:c,url:h,headers:p,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:e}={}){var r;const a="PATCH",{url:o,headers:u}=this.cloneRequestState();return e&&u.append("Prefer",`count=${e}`),new Ja({method:a,url:o,headers:u,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var e;const r="DELETE",{url:a,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new Ja({method:r,url:a,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function kl(n){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(n)}function kS(n,e){if(kl(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,e);if(kl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CS(n){var e=kS(n,"string");return kl(e)=="symbol"?e:e+""}function DS(n,e,r){return(e=CS(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function iv(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,a)}return r}function ou(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iv(Object(r),!0).forEach(function(a){DS(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):iv(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}var US=class _b{constructor(e,{headers:r={},schema:a,fetch:o,timeout:u,urlLengthLimit:c=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=a,this.urlLengthLimit=c;const h=o??globalThis.fetch;u!==void 0&&u>0?this.fetch=(p,y)=>{const g=new AbortController,_=setTimeout(()=>g.abort(),u),w=y?.signal;if(w){if(w.aborted)return clearTimeout(_),h(p,y);const x=()=>{clearTimeout(_),g.abort()};return w.addEventListener("abort",x,{once:!0}),h(p,ou(ou({},y),{},{signal:g.signal})).finally(()=>{clearTimeout(_),w.removeEventListener("abort",x)})}return h(p,ou(ou({},y),{},{signal:g.signal})).finally(()=>clearTimeout(_))}:this.fetch=h}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new NS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new _b(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:a=!1,get:o=!1,count:u}={}){var c;let h;const p=new URL(`${this.url}/rpc/${e}`);let y;const g=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(g)),_=a&&Object.values(r).some(g);_?(h="POST",y=r):a||o?(h=a?"HEAD":"GET",Object.entries(r).filter(([x,A])=>A!==void 0).map(([x,A])=>[x,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([x,A])=>{p.searchParams.append(x,A)})):(h="POST",y=r);const w=new Headers(this.headers);return _?w.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&w.set("Prefer",`count=${u}`),new Ja({method:h,url:p,headers:w,schema:this.schemaName,body:y,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}};class MS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const a=r.versions;if(a&&a.node){const o=a.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qS="2.95.3",LS=`realtime-js/${qS}`,zS="1.0.0",wb="2.0.0",lv=wb,Ph=1e4,BS=1e3,PS=100;var mr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(mr||(mr={}));var zt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(zt||(zt={}));var ts;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ts||(ts={}));var $h;(function(n){n.websocket="websocket"})($h||($h={}));var Hr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Hr||(Hr={}));class $S{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const o=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,a;const o=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,a){var o,u;const c=e.topic,h=(o=e.ref)!==null&&o!==void 0?o:"",p=(u=e.join_ref)!==null&&u!==void 0?u:"",y=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(g).length===0?"":JSON.stringify(g);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+c.length+y.length+_.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let A=new DataView(x),E=0;A.setUint8(E++,this.KINDS.userBroadcastPush),A.setUint8(E++,p.length),A.setUint8(E++,h.length),A.setUint8(E++,c.length),A.setUint8(E++,y.length),A.setUint8(E++,_.length),A.setUint8(E++,r),Array.from(p,L=>A.setUint8(E++,L.charCodeAt(0))),Array.from(h,L=>A.setUint8(E++,L.charCodeAt(0))),Array.from(c,L=>A.setUint8(E++,L.charCodeAt(0))),Array.from(y,L=>A.setUint8(E++,L.charCodeAt(0))),Array.from(_,L=>A.setUint8(E++,L.charCodeAt(0)));var O=new Uint8Array(x.byteLength+a.byteLength);return O.set(new Uint8Array(x),0),O.set(new Uint8Array(a),x.byteLength),O.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[o,u,c,h,p]=a;return r({join_ref:o,ref:u,topic:c,event:h,payload:p})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),o=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,o)}_decodeUserBroadcast(e,r,a){const o=r.getUint8(1),u=r.getUint8(2),c=r.getUint8(3),h=r.getUint8(4);let p=this.HEADER_LENGTH+4;const y=a.decode(e.slice(p,p+o));p=p+o;const g=a.decode(e.slice(p,p+u));p=p+u;const _=a.decode(e.slice(p,p+c));p=p+c;const w=e.slice(p,e.byteLength),x=h===this.JSON_ENCODING?JSON.parse(a.decode(w)):w,A={type:this.BROADCAST_EVENT,event:g,payload:x};return c>0&&(A.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class xb{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(ht||(ht={}));const ov=(n,e,r={})=>{var a;const o=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((u,c)=>(u[c]=VS(c,n,e,o),u),{}):{}},VS=(n,e,r,a)=>{const o=e.find(h=>h.name===n),u=o?.type,c=r[n];return u&&!a.includes(u)?Sb(u,c):Vh(c)},Sb=(n,e)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return KS(e,r)}switch(n){case ht.bool:return HS(e);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return IS(e);case ht.json:case ht.jsonb:return GS(e);case ht.timestamp:return FS(e);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return Vh(e);default:return Vh(e)}},Vh=n=>n,HS=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},IS=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},GS=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},KS=(n,e)=>{if(typeof n!="string")return n;const r=n.length-1,a=n[r];if(n[0]==="{"&&a==="}"){let u;const c=n.slice(1,r);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(h=>Sb(e,h))}return n},FS=n=>typeof n=="string"?n.replace(" ","T"):n,Eb=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class fh{constructor(e,r,a={},o=Ph){this.channel=e,this.event=r,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var uv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(uv||(uv={}));class jl{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jl.syncState(this.state,o,u,c),this.pendingDiffs.forEach(p=>{this.state=jl.syncDiff(this.state,p,u,c)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=jl.syncDiff(this.state,o,u,c),h())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,o){const u=this.cloneDeep(e),c=this.transformState(r),h={},p={};return this.map(u,(y,g)=>{c[y]||(p[y]=g)}),this.map(c,(y,g)=>{const _=u[y];if(_){const w=g.map(O=>O.presence_ref),x=_.map(O=>O.presence_ref),A=g.filter(O=>x.indexOf(O.presence_ref)<0),E=_.filter(O=>w.indexOf(O.presence_ref)<0);A.length>0&&(h[y]=A),E.length>0&&(p[y]=E)}else h[y]=g}),this.syncDiff(u,{joins:h,leaves:p},a,o)}static syncDiff(e,r,a,o){const{joins:u,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(u,(h,p)=>{var y;const g=(y=e[h])!==null&&y!==void 0?y:[];if(e[h]=this.cloneDeep(p),g.length>0){const _=e[h].map(x=>x.presence_ref),w=g.filter(x=>_.indexOf(x.presence_ref)<0);e[h].unshift(...w)}a(h,g,p)}),this.map(c,(h,p)=>{let y=e[h];if(!y)return;const g=p.map(_=>_.presence_ref);y=y.filter(_=>g.indexOf(_.presence_ref)<0),e[h]=y,o(h,y,p),y.length===0&&delete e[h]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const o=e[a];return"metas"in o?r[a]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[a]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(cv||(cv={}));var Tl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Tl||(Tl={}));var Ms;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Ms||(Ms={}));class ni{constructor(e,r={config:{}},a){var o,u;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fh(this,ts.join,this.params,this.timeout),this.rejoinTimer=new xb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ts.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new jl(this),this.broadcastEndpointURL=Eb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:c,presence:h,private:p}}=this.params,y=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(x=>x.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Tl.PRESENCE]&&this.bindings[Tl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,_={},w={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(Ms.CHANNEL_ERROR,x)),this._onClose(()=>e?.(Ms.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e?.(Ms.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(A=E?.length)!==null&&A!==void 0?A:0,L=[];for(let C=0;C<O;C++){const D=E[C],{filter:{event:Z,schema:K,table:ie,filter:ce}}=D,F=x&&x[C];if(F&&F.event===Z&&ni.isFilterValueEqual(F.schema,K)&&ni.isFilterValueEqual(F.table,ie)&&ni.isFilterValueEqual(F.filter,ce))L.push(Object.assign(Object.assign({},D),{id:F.id}));else{this.unsubscribe(),this.state=zt.errored,e?.(Ms.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,e&&e(Ms.SUBSCRIBED);return}}).receive("error",x=>{this.state=zt.errored,e?.(Ms.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ms.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===zt.joined&&e===Tl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const y=await h.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(e,r={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=y.body)===null||o===void 0?void 0:o.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,h,p;const y=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ts.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new fh(this,ts.leave,{},e),a.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const o=new AbortController,u=setTimeout(()=>o.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(u),c}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new fh(this,e,r,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>PS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var o,u;const c=e.toLocaleLowerCase(),{close:h,error:p,leave:y,join:g}=ts;if(a&&[h,p,y,g].indexOf(c)>=0&&a!==this._joinRef())return;let w=this._onMessage(c,r,a);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var A,E,O;return((A=x.filter)===null||A===void 0?void 0:A.event)==="*"||((O=(E=x.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===c}).map(x=>x.callback(w,a)):(u=this.bindings[c])===null||u===void 0||u.filter(x=>{var A,E,O,L,C,D;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const Z=x.id,K=(A=x.filter)===null||A===void 0?void 0:A.event;return Z&&((E=r.ids)===null||E===void 0?void 0:E.includes(Z))&&(K==="*"||K?.toLocaleLowerCase()===((O=r.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const Z=(C=(L=x?.filter)===null||L===void 0?void 0:L.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return Z==="*"||Z===((D=r?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:E,table:O,commit_timestamp:L,type:C,errors:D}=A;w=Object.assign(Object.assign({},{schema:E,table:O,commit_timestamp:L,eventType:C,new:{},old:{},errors:D}),this._getPayloadRecords(A))}x.callback(w,a)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const o=e.toLocaleLowerCase(),u={type:o,filter:r,callback:a};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&ni.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ts.close,{},e)}_onError(e){this._on(ts.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ov(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ov(e.columns,e.old_record)),r}}const mh=()=>{},uu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},QS=[1e3,2e3,5e3,1e4],ZS=1e4,YS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XS{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ph,this.transport=null,this.heartbeatIntervalMs=uu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mh,this.ref=0,this.reconnectTimer=null,this.vsn=lv,this.logger=mh,this.conn=null,this.sendBuffer=[],this.serializer=new $S,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${$h.websocket}`,this.httpEndpoint=Eb(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=MS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case mr.connecting:return Hr.Connecting;case mr.open:return Hr.Open;case mr.closing:return Hr.Closing;default:return Hr.Closed}}isConnected(){return this.connectionState()===Hr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(u=>u.topic===a);if(o)return o;{const u=new ni(`realtime:${e}`,r,this);return this.channels.push(u),u}}push(e){const{topic:r,event:a,payload:o,ref:u}=e,c=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${r} ${a} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(BS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},uu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",y)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:o,payload:u,ref:c}=r,h=c?`(${c})`:"",p=u.status||"";this.log("receive",`${p} ${a} ${o} ${h}`.trim(),u),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(o,u,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===mr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===mr.open||this.conn.readyState===mr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(ts.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${a}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([YS],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,a=!1;if(e)r=e,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const u={access_token:r,version:LS};r&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(ts.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new xb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,o,u,c,h,p,y,g,_,w,x;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:Ph,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:uu.HEARTBEAT_INTERVAL,this.worker=(u=e?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:mh,this.vsn=(p=e?.vsn)!==null&&p!==void 0?p:lv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=e?.reconnectAfterMs)!==null&&y!==void 0?y:(A=>QS[A-1]||ZS),this.vsn){case zS:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((A,E)=>E(JSON.stringify(A))),this.decode=(_=e?.decode)!==null&&_!==void 0?_:((A,E)=>E(JSON.parse(A)));break;case wb:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Cl=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function JS(n,e,r){const a=new URL(e,n);if(r)for(const[o,u]of Object.entries(r))u!==void 0&&a.searchParams.set(o,u);return a.toString()}async function WS(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function eE(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:o,body:u,headers:c}){const h=JS(n.baseUrl,a,o),p=await WS(n.auth),y=await e(h,{method:r,headers:{...u?{"Content-Type":"application/json"}:{},...p,...c},body:u?JSON.stringify(u):void 0}),g=await y.text(),_=(y.headers.get("content-type")||"").includes("application/json"),w=_&&g?JSON.parse(g):g;if(!y.ok){const x=_?w:void 0,A=x?.error;throw new Cl(A?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:A?.type,icebergCode:A?.code,details:x})}return{status:y.status,headers:y.headers,data:w}}}}function cu(n){return n.join("")}var tE=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:cu(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(n,e){const r={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cu(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cu(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cu(n.namespace)}`}),!0}catch(e){if(e instanceof Cl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(r){if(r instanceof Cl&&r.status===409)return;throw r}}};function Ha(n){return n.join("")}var nE=class{constructor(n,e="",r){this.client=n,this.prefix=e,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ha(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ha(n.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(n,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ha(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ha(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ha(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ha(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(r){if(r instanceof Cl&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(r){if(r instanceof Cl&&r.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw r}}},sE=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=eE({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new tE(this.client,e),this.tableOps=new nE(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},zu=class extends Error{constructor(n,e="storage",r,a){super(n),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=a}};function Bu(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var du=class extends zu{constructor(n,e,r,a="storage"){super(n,a,e,r),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},jb=class extends zu{constructor(n,e,r="storage"){super(n,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const rE=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),aE=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Hh=n=>{if(Array.isArray(n))return n.map(r=>Hh(r));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([r,a])=>{const o=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));e[o]=Hh(a)}),e},iE=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Dl(n){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(n)}function lE(n,e){if(Dl(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,e);if(Dl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function oE(n){var e=lE(n,"string");return Dl(e)=="symbol"?e:e+""}function uE(n,e,r){return(e=oE(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function dv(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,a)}return r}function Ee(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dv(Object(r),!0).forEach(function(a){uE(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):dv(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}const hv=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},cE=async(n,e,r,a)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!r?.noResolveJson){const o=n,u=o.status||500;if(typeof o.json=="function")o.json().then(c=>{const h=c?.statusCode||c?.code||u+"";e(new du(hv(c),u,h,a))}).catch(()=>{if(a==="vectors"){const c=u+"";e(new du(o.statusText||`HTTP ${u} error`,u,c,a))}else{const c=u+"";e(new du(o.statusText||`HTTP ${u} error`,u,c,a))}});else{const c=u+"";e(new du(o.statusText||`HTTP ${u} error`,u,c,a))}}else e(new jb(hv(n),n,a))},dE=(n,e,r,a)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"||n==="HEAD"||!a?Ee(Ee({},o),r):(aE(a)?(o.headers=Ee({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,e?.duplex&&(o.duplex=e.duplex),Ee(Ee({},o),r))};async function vl(n,e,r,a,o,u,c){return new Promise((h,p)=>{n(r,dE(e,a,o,u)).then(y=>{if(!y.ok)throw y;if(a?.noResolveJson)return y;if(c==="vectors"){const g=y.headers.get("content-type");if(y.headers.get("content-length")==="0"||y.status===204)return{};if(!g||!g.includes("application/json"))return{}}return y.json()}).then(y=>h(y)).catch(y=>cE(y,p,a,c))})}function Tb(n="storage"){return{get:async(e,r,a,o)=>vl(e,"GET",r,a,o,void 0,n),post:async(e,r,a,o,u)=>vl(e,"POST",r,o,u,a,n),put:async(e,r,a,o,u)=>vl(e,"PUT",r,o,u,a,n),head:async(e,r,a,o)=>vl(e,"HEAD",r,Ee(Ee({},a),{},{noResolveJson:!0}),o,void 0,n),remove:async(e,r,a,o,u)=>vl(e,"DELETE",r,o,u,a,n)}}const hE=Tb("storage"),{get:Ul,post:es,put:Ih,head:fE,remove:cf}=hE,An=Tb("vectors");var ci=class{constructor(n,e={},r,a="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.fetch=rE(r),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var e=this;try{return{data:await n(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bu(r))return{data:null,error:r};throw r}}},mE=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Bu(e))return{data:null,error:e};throw e}}};let Ab;Ab=Symbol.toStringTag;var pE=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[Ab]="BlobDownloadBuilder",this.promise=null}asStream(){return new mE(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Bu(e))return{data:null,error:e};throw e}}};const yE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var gE=class extends ci{constructor(n,e={},r,a){super(n,e,a,"storage"),this.bucketId=r}async uploadOrUpdate(n,e,r,a){var o=this;return o.handleOperation(async()=>{let u;const c=Ee(Ee({},fv),a);let h=Ee(Ee({},o.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",o.encodeMetadata(p)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),p&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(p))):(u=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(h=Ee(Ee({},h),a.headers));const y=o._removeEmptyFolders(e),g=o._getFinalPath(y),_=await(n=="PUT"?Ih:es)(o.fetch,`${o.url}/object/${g}`,u,Ee({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{path:y,id:_.Id,fullPath:_.Key}})}async upload(n,e,r){return this.uploadOrUpdate("POST",n,e,r)}async uploadToSignedUrl(n,e,r,a){var o=this;const u=o._removeEmptyFolders(n),c=o._getFinalPath(u),h=new URL(o.url+`/object/upload/sign/${c}`);return h.searchParams.set("token",e),o.handleOperation(async()=>{let p;const y=Ee({upsert:fv.upsert},a),g=Ee(Ee({},o.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",y.cacheControl)):(p=r,g["cache-control"]=`max-age=${y.cacheControl}`,g["content-type"]=y.contentType),{path:u,fullPath:(await Ih(o.fetch,h.toString(),p,{headers:g})).Key}})}async createSignedUploadUrl(n,e){var r=this;return r.handleOperation(async()=>{let a=r._getFinalPath(n);const o=Ee({},r.headers);e?.upsert&&(o["x-upsert"]="true");const u=await es(r.fetch,`${r.url}/object/upload/sign/${a}`,{},{headers:o}),c=new URL(r.url+u.url),h=c.searchParams.get("token");if(!h)throw new zu("No token returned by API");return{signedUrl:c.toString(),path:n,token:h}})}async update(n,e,r){return this.uploadOrUpdate("PUT",n,e,r)}async move(n,e,r){var a=this;return a.handleOperation(async()=>await es(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:a.headers}))}async copy(n,e,r){var a=this;return a.handleOperation(async()=>({path:(await es(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:n,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(n,e,r){var a=this;return a.handleOperation(async()=>{let o=a._getFinalPath(n),u=await es(a.fetch,`${a.url}/object/sign/${o}`,Ee({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:a.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${a.url}${u.signedURL}${c}`)}})}async createSignedUrls(n,e,r){var a=this;return a.handleOperation(async()=>{const o=await es(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:n},{headers:a.headers}),u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o.map(c=>Ee(Ee({},c),{},{signedUrl:c.signedURL?encodeURI(`${a.url}${c.signedURL}${u}`):null}))})}download(n,e,r){const a=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),u=o?`?${o}`:"",c=this._getFinalPath(n),h=()=>Ul(this.fetch,`${this.url}/${a}/${c}${u}`,{headers:this.headers,noResolveJson:!0},r);return new pE(h,this.shouldThrowOnError)}async info(n){var e=this;const r=e._getFinalPath(n);return e.handleOperation(async()=>Hh(await Ul(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(n){var e=this;const r=e._getFinalPath(n);try{return await fE(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(Bu(a)&&a instanceof jb){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}}getPublicUrl(n,e){const r=this._getFinalPath(n),a=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&a.push(o);const u=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&a.push(c);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}async remove(n){var e=this;return e.handleOperation(async()=>await cf(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}))}async list(n,e,r){var a=this;return a.handleOperation(async()=>{const o=Ee(Ee(Ee({},yE),e),{},{prefix:n||""});return await es(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},r)})}async listV2(n,e){var r=this;return r.handleOperation(async()=>{const a=Ee({},n);return await es(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,a,{headers:r.headers},e)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const vE="2.95.3",Pl={"X-Client-Info":`storage-js/${vE}`};var bE=class extends ci{constructor(n,e={},r,a){const o=new URL(n);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const u=o.href.replace(/\/$/,""),c=Ee(Ee({},Pl),e);super(u,c,r,"storage")}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(n);return await Ul(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(n){var e=this;return e.handleOperation(async()=>await Ul(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}))}async createBucket(n,e={public:!1}){var r=this;return r.handleOperation(async()=>await es(r.fetch,`${r.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(n,e){var r=this;return r.handleOperation(async()=>await Ih(r.fetch,`${r.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(n){var e=this;return e.handleOperation(async()=>await es(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await cf(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},_E=class extends ci{constructor(n,e={},r){const a=n.replace(/\/$/,""),o=Ee(Ee({},Pl),e);super(a,o,r,"storage")}async createBucket(n){var e=this;return e.handleOperation(async()=>await es(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}))}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;n?.limit!==void 0&&r.set("limit",n.limit.toString()),n?.offset!==void 0&&r.set("offset",n.offset.toString()),n?.sortColumn&&r.set("sortColumn",n.sortColumn),n?.sortOrder&&r.set("sortOrder",n.sortOrder),n?.search&&r.set("search",n.search);const a=r.toString(),o=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return await Ul(e.fetch,o,{headers:e.headers})})}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await cf(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}from(n){var e=this;if(!iE(n))throw new zu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new sE({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(o,u){const c=o[u];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(o,h),error:null}}catch(p){if(a)throw p;return{data:null,error:p}}}}})}},wE=class extends ci{constructor(n,e={},r){const a=n.replace(/\/$/,""),o=Ee(Ee({},Pl),{},{"Content-Type":"application/json"},e);super(a,o,r,"vectors")}async createIndex(n){var e=this;return e.handleOperation(async()=>await An.post(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{})}async getIndex(n,e){var r=this;return r.handleOperation(async()=>await An.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:r.headers}))}async listIndexes(n){var e=this;return e.handleOperation(async()=>await An.post(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}))}async deleteIndex(n,e){var r=this;return r.handleOperation(async()=>await An.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:r.headers})||{})}},xE=class extends ci{constructor(n,e={},r){const a=n.replace(/\/$/,""),o=Ee(Ee({},Pl),{},{"Content-Type":"application/json"},e);super(a,o,r,"vectors")}async putVectors(n){var e=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await An.post(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{})}async getVectors(n){var e=this;return e.handleOperation(async()=>await An.post(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}))}async listVectors(n){var e=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return e.handleOperation(async()=>await An.post(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}))}async queryVectors(n){var e=this;return e.handleOperation(async()=>await An.post(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}))}async deleteVectors(n){var e=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await An.post(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{})}},SE=class extends ci{constructor(n,e={},r){const a=n.replace(/\/$/,""),o=Ee(Ee({},Pl),{},{"Content-Type":"application/json"},e);super(a,o,r,"vectors")}async createBucket(n){var e=this;return e.handleOperation(async()=>await An.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}async getBucket(n){var e=this;return e.handleOperation(async()=>await An.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}))}async listBuckets(n={}){var e=this;return e.handleOperation(async()=>await An.post(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await An.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}},EE=class extends SE{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new jE(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,r=this;return e().call(r,n)}async getBucket(n){var e=()=>super.getBucket,r=this;return e().call(r,n)}async listBuckets(n={}){var e=()=>super.listBuckets,r=this;return e().call(r,n)}async deleteBucket(n){var e=()=>super.deleteBucket,r=this;return e().call(r,n)}},jE=class extends wE{constructor(n,e,r,a){super(n,e,a),this.vectorBucketName=r}async createIndex(n){var e=()=>super.createIndex,r=this;return e().call(r,Ee(Ee({},n),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ee(Ee({},n),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,n)}index(n){return new TE(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},TE=class extends xE{constructor(n,e,r,a,o){super(n,e,o),this.vectorBucketName=r,this.indexName=a}async putVectors(n){var e=()=>super.putVectors,r=this;return e().call(r,Ee(Ee({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(n){var e=()=>super.getVectors,r=this;return e().call(r,Ee(Ee({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,r=this;return e().call(r,Ee(Ee({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,r=this;return e().call(r,Ee(Ee({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,r=this;return e().call(r,Ee(Ee({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},AE=class extends bE{constructor(n,e={},r,a){super(n,e,r,a)}from(n){return new gE(this.url,this.headers,n,this.fetch)}get vectors(){return new EE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _E(this.url+"/iceberg",this.headers,this.fetch)}};const Rb="2.95.3",Wa=30*1e3,Gh=3,ph=Gh*Wa,RE="http://localhost:9999",OE="supabase.auth.token",NE={"X-Client-Info":`gotrue-js/${Rb}`},Kh="X-Supabase-Api-Version",Ob={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CE=600*1e3;class Ml extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function ge(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class DE extends Ml{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function UE(n){return ge(n)&&n.name==="AuthApiError"}class Ir extends Ml{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ps extends Ml{constructor(e,r,a,o){super(e,a,o),this.name=r,this.status=a}}class Tn extends Ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yh(n){return ge(n)&&n.name==="AuthSessionMissingError"}class Ia extends Ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hu extends Ps{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fu extends Ps{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ME(n){return ge(n)&&n.name==="AuthImplicitGrantRedirectError"}class mv extends Ps{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qE extends Ps{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fh extends Ps{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function gh(n){return ge(n)&&n.name==="AuthRetryableFetchError"}class pv extends Ps{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class Qh extends Ps{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yv=` 	
\r=`.split(""),LE=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<yv.length;e+=1)n[yv[e].charCodeAt(0)]=-2;for(let e=0;e<Ou.length;e+=1)n[Ou[e].charCodeAt(0)]=e;return n})();function gv(n,e,r){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Ou[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(Ou[a]),e.queuedBits-=6}}function Nb(n,e,r){const a=LE[n];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function vv(n){const e=[],r=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{PE(c,a,r)};for(let c=0;c<n.length;c+=1)Nb(n.charCodeAt(c),o,u);return e.join("")}function zE(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function BE(n,e){for(let r=0;r<n.length;r+=1){let a=n.charCodeAt(r);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(n.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}zE(a,e)}}function PE(n,e,r){if(e.utf8seq===0){if(n<=127){r(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function si(n){const e=[],r={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)Nb(n.charCodeAt(o),r,a);return new Uint8Array(e)}function $E(n){const e=[];return BE(n,r=>e.push(r)),new Uint8Array(e)}function Kr(n){const e=[],r={queue:0,queuedBits:0},a=o=>{e.push(o)};return n.forEach(o=>gv(o,r,a)),gv(null,r,a),e.join("")}function VE(n){return Math.round(Date.now()/1e3)+n}function HE(){return Symbol("auth-callback")}const Yt=()=>typeof window<"u"&&typeof document<"u",Br={tested:!1,writable:!1},kb=()=>{if(!Yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Br.tested)return Br.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Br.tested=!0,Br.writable=!0}catch{Br.tested=!0,Br.writable=!1}return Br.writable};function IE(n){const e={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,u)=>{e[u]=o})}catch{}return r.searchParams.forEach((a,o)=>{e[o]=a}),e}const Cb=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),GE=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ei=async(n,e,r)=>{await n.setItem(e,JSON.stringify(r))},Pr=async(n,e)=>{const r=await n.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zt=async(n,e)=>{await n.removeItem(e)};class Pu{constructor(){this.promise=new Pu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Pu.promiseConstructor=Promise;function mu(n){const e=n.split(".");if(e.length!==3)throw new Qh("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!kE.test(e[a]))throw new Qh("JWT not in base64url format");return{header:JSON.parse(vv(e[0])),payload:JSON.parse(vv(e[1])),signature:si(e[2]),raw:{header:e[0],payload:e[1]}}}async function KE(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function FE(n,e){return new Promise((a,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await n(u);if(!e(u,null,c)){a(c);return}}catch(c){if(!e(u,c)){o(c);return}}})()})}function QE(n){return("0"+n.toString(16)).substr(-2)}function ZE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let o="";for(let u=0;u<56;u++)o+=r.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,QE).join("")}async function YE(n){const r=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(a);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function XE(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await YE(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ga(n,e,r=!1){const a=ZE();let o=a;r&&(o+="/PASSWORD_RECOVERY"),await ei(n,`${e}-code-verifier`,o);const u=await XE(a);return[u,a===u?"plain":"s256"]}const JE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function WE(n){const e=n.headers.get(Kh);if(!e||!e.match(JE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ej(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function tj(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ka(n){if(!nj.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vh(){const n={};return new Proxy(n,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sj(n,e){return new Proxy(n,{get:(r,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const u=a.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,o)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,o)}})}function bv(n){return JSON.parse(JSON.stringify(n))}const Vr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),rj=[502,503,504];async function _v(n){var e;if(!GE(n))throw new Fh(Vr(n),0);if(rj.includes(n.status))throw new Fh(Vr(n),n.status);let r;try{r=await n.json()}catch(u){throw new Ir(Vr(u),u)}let a;const o=WE(n);if(o&&o.getTime()>=Ob["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new pv(Vr(r),n.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new Tn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new pv(Vr(r),n.status,r.weak_password.reasons);throw new DE(Vr(r),n.status||500,a)}const aj=(n,e,r,a)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),r))};async function Se(n,e,r,a){var o;const u=Object.assign({},a?.headers);u[Kh]||(u[Kh]=Ob["2024-01-01"].name),a?.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const c=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await ij(n,e,r+h,{headers:u,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(p):{data:Object.assign({},p),error:null}}async function ij(n,e,r,a,o,u){const c=aj(e,a,o,u);let h;try{h=await n(r,Object.assign({},c))}catch(p){throw console.error(p),new Fh(Vr(p),0)}if(h.ok||await _v(h),a?.noResolveJson)return h;try{return await h.json()}catch(p){await _v(p)}}function Wn(n){var e;let r=null;uj(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=VE(n.expires_in)));const a=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:r,user:a},error:null}}function wv(n){const e=Wn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=n.weak_password),e}function pr(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function lj(n){return{data:n,error:null}}function oj(n){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:o,verification_type:u}=n,c=Lu(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:r,hashed_token:a,redirect_to:o,verification_type:u},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function xv(n){return n}function uj(n){return n.access_token&&n.refresh_token&&n.expires_in}const bh=["global","local","others"];class cj{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=Cb(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=bh[0]){if(bh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bh.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pr})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=Lu(e,["options"]),o=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:oj,redirectTo:r?.redirectTo})}catch(r){if(ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:pr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,o,u,c,h,p;try{const y={nextPage:null,lastPage:0,total:0},g=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:xv});if(g.error)throw g.error;const _=await g.json(),w=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return x.length>0&&(x.forEach(A=>{const E=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(A.split(";")[1].split("=")[1]);y[`${O}Page`]=E}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(ge(y))return{data:{users:[]},error:y};throw y}}async getUserById(e){Ka(e);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:pr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ka(e);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:pr})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){Ka(e);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:pr})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Ka(e.userId);try{const{data:r,error:a}=await Se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:a}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ka(e.userId),Ka(e.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,o,u,c,h,p;try{const y={nextPage:null,lastPage:0,total:0},g=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:xv});if(g.error)throw g.error;const _=await g.json(),w=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return x.length>0&&(x.forEach(A=>{const E=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(A.split(";")[1].split("=")[1]);y[`${O}Page`]=E}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(ge(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ge(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}}function Sv(n={}){return{getItem:e=>n[e]||null,setItem:(e,r)=>{n[e]=r},removeItem:e=>{delete n[e]}}}const Fa={debug:!!(globalThis&&kb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Db extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dj extends Db{}async function hj(n,e,r){Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await r()}finally{Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new dj(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Fa.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function fj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ub(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function mj(n){return parseInt(n,16)}function pj(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function yj(n){var e;const{chainId:r,domain:a,expirationTime:o,issuedAt:u=new Date,nonce:c,notBefore:h,requestId:p,resources:y,scheme:g,uri:_,version:w}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const x=Ub(n.address),A=g?`${g}://${a}`:a,E=n.statement?`${n.statement}
`:"",O=`${A} wants you to sign in with your Ethereum account:
${x}

${E}`;let L=`URI: ${_}
Version: ${w}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(o&&(L+=`
Expiration Time: ${o.toISOString()}`),h&&(L+=`
Not Before: ${h.toISOString()}`),p&&(L+=`
Request ID: ${p}`),y){let C=`
Resources:`;for(const D of y){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);C+=`
- ${D}`}L+=C}return`${O}
${L}`}class Nt extends Error{constructor({message:e,code:r,cause:a,name:o}){var u;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(u=o??(a instanceof Error?a.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class Nu extends Nt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function gj({error:n,options:e}){var r,a,o;const{publicKey:u}=e;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Nt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(Mb(c)){if(u.rp.id!==c)return new Nt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function vj({error:n,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Nt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(Mb(a)){if(r.rpId!==a)return new Nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class bj{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const _j=new bj;function wj(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:r,excludeCredentials:a}=n,o=Lu(n,["challenge","user","excludeCredentials"]),u=si(e).buffer,c=Object.assign(Object.assign({},r),{id:si(r.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:u,user:c});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const y=a[p];h.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:si(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return h}function xj(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:r}=n,a=Lu(n,["challenge","allowCredentials"]),o=si(e).buffer,u=Object.assign(Object.assign({},a),{challenge:o});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const h=r[c];u.allowCredentials[c]=Object.assign(Object.assign({},h),{id:si(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function Sj(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:Kr(new Uint8Array(n.response.attestationObject)),clientDataJSON:Kr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ej(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,a=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Kr(new Uint8Array(o.authenticatorData)),clientDataJSON:Kr(new Uint8Array(o.clientDataJSON)),signature:Kr(new Uint8Array(o.signature)),userHandle:o.userHandle?Kr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mb(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Ev(){var n,e;return!!(Yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function jj(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nu("Browser returned unexpected credential type",e)}:{data:null,error:new Nu("Empty credential response",e)}}catch(e){return{data:null,error:gj({error:e,options:n})}}}async function Tj(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nu("Browser returned unexpected credential type",e)}:{data:null,error:new Nu("Empty credential response",e)}}catch(e){return{data:null,error:vj({error:e,options:n})}}}const Aj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Rj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ku(...n){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of n)if(o)for(const u in o){const c=o[u];if(c!==void 0)if(Array.isArray(c))a[u]=c;else if(r(c))a[u]=c;else if(e(c)){const h=a[u];e(h)?a[u]=ku(h,c):a[u]=ku(c)}else a[u]=c}return a}function Oj(n,e){return ku(Aj,n,e||{})}function Nj(n,e){return ku(Rj,n,e||{})}class kj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:o},u){var c;try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!h)return{data:null,error:p};const y=o??_j.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:g}=h.webauthn.credential_options.publicKey;if(!g.name){const _=a;if(_)g.name=`${g.id}:${_}`;else{const x=(await this.client.getUser()).data.user,A=((c=x?.user_metadata)===null||c===void 0?void 0:c.name)||x?.email||x?.id||"User";g.name=`${g.id}:${A}`}}g.displayName||(g.displayName=g.name)}switch(h.webauthn.type){case"create":{const g=Oj(h.webauthn.credential_options.publicKey,u?.create),{data:_,error:w}=await jj({publicKey:g,signal:y});return _?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}case"request":{const g=Nj(h.webauthn.credential_options.publicKey,u?.request),{data:_,error:w}=await Tj(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:g,signal:y}));return _?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}}}catch(h){return ge(h)?{data:null,error:h}:{data:null,error:new Ir("Unexpected error in challenge",h)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new Ml("rpId is required for WebAuthn authentication")};try{if(!Ev())return{data:null,error:new Ir("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:o},{request:u});if(!c)return{data:null,error:h};const{webauthn:p}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:a,credential_response:p.credential_response}})}catch(c){return ge(c)?{data:null,error:c}:{data:null,error:new Ir("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new Ml("rpId is required for WebAuthn registration")};try{if(!Ev())return{data:null,error:new Ir("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(g=>{var _;return(_=g.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:h};const{data:p,error:y}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:o},{create:u});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:a,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(c){return ge(c)?{data:null,error:c}:{data:null,error:new Ir("Unexpected error in register",c)}}}}fj();const Cj={url:RE,storageKey:OE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function jv(n,e,r){return await r()}const Qa={};class ql{get jwks(){var e,r;return(r=(e=Qa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Qa[this.storageKey]=Object.assign(Object.assign({},Qa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Qa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qa[this.storageKey]=Object.assign(Object.assign({},Qa[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},Cj),e);if(this.storageKey=u.storageKey,this.instanceID=(r=ql.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ql.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Yt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new cj({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Cb(u.fetch),this.lock=u.lock||jv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Yt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=hj:this.lock=jv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:kb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sv(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Sv(this.memoryStorage)),Yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Rb}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(Yt()&&(r=IE(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),Yt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:u}=await this._getSessionFromURL(r,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),ME(u)){const p=(e=u.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ge(r)?this._returnResult({error:r}):this._returnResult({error:new Ir("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,o;try{const u=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Wn}),{data:c,error:h}=u;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const p=c.session,y=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(u){if(ge(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(e){var r,a,o;try{let u;if("email"in e){const{email:g,password:_,options:w}=e;let x=null,A=null;this.flowType==="pkce"&&([x,A]=await Ga(this.storage,this.storageKey)),u=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:_,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:A},xform:Wn})}else if("phone"in e){const{phone:g,password:_,options:w}=e;u=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:_,data:(a=w?.data)!==null&&a!==void 0?a:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Wn})}else throw new hu("You must provide either an email or phone number and a password");const{data:c,error:h}=u;if(h||!c)return await Zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=c.session,y=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(u){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),ge(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(e){try{let r;if("email"in e){const{email:u,password:c,options:h}=e;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:wv})}else if("phone"in e){const{phone:u,password:c,options:h}=e;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:wv})}else throw new hu("You must provide either an email or phone number and a password");const{data:a,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const u=new Ia;return this._returnResult({data:{user:null,session:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,o,u;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,o,u,c,h,p,y,g,_,w;let x,A;if("message"in e)x=e.message,A=e.signature;else{const{chain:E,wallet:O,statement:L,options:C}=e;let D;if(Yt())if(typeof O=="object")D=O;else{const be=window;if("ethereum"in be&&typeof be.ethereum=="object"&&"request"in be.ethereum&&typeof be.ethereum.request=="function")D=be.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=O}const Z=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),K=await D.request({method:"eth_requestAccounts"}).then(be=>be).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ie=Ub(K[0]);let ce=(a=C?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!ce){const be=await D.request({method:"eth_chainId"});ce=mj(be)}const F={domain:Z.host,address:ie,statement:L,uri:Z.href,version:"1",chainId:ce,nonce:(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=C?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(g=C?.signInWithEthereum)===null||g===void 0?void 0:g.resources};x=yj(F),A=await D.request({method:"personal_sign",params:[pj(x),ie]})}try{const{data:E,error:O}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:A},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Wn});if(O)throw O;if(!E||!E.session||!E.user){const L=new Ia;return this._returnResult({data:{user:null,session:null},error:L})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:O})}catch(E){if(ge(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var r,a,o,u,c,h,p,y,g,_,w,x;let A,E;if("message"in e)A=e.message,E=e.signature;else{const{chain:O,wallet:L,statement:C,options:D}=e;let Z;if(Yt())if(typeof L=="object")Z=L;else{const ie=window;if("solana"in ie&&typeof ie.solana=="object"&&("signIn"in ie.solana&&typeof ie.solana.signIn=="function"||"signMessage"in ie.solana&&typeof ie.solana.signMessage=="function"))Z=ie.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=L}const K=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Z&&Z.signIn){const ie=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),C?{statement:C}:null));let ce;if(Array.isArray(ie)&&ie[0]&&typeof ie[0]=="object")ce=ie[0];else if(ie&&typeof ie=="object"&&"signedMessage"in ie&&"signature"in ie)ce=ie;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ce&&"signature"in ce&&(typeof ce.signedMessage=="string"||ce.signedMessage instanceof Uint8Array)&&ce.signature instanceof Uint8Array)A=typeof ce.signedMessage=="string"?ce.signedMessage:new TextDecoder().decode(ce.signedMessage),E=ce.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${K.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(o=(a=D?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=D?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((y=D?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((_=(g=D?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||_===void 0)&&_.length?["Resources",...D.signInWithSolana.resources.map(ce=>`- ${ce}`)]:[]].join(`
`);const ie=await Z.signMessage(new TextEncoder().encode(A),"utf8");if(!ie||!(ie instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=ie}}try{const{data:O,error:L}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Kr(E)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Wn});if(L)throw L;if(!O||!O.session||!O.user){const C=new Ia;return this._returnResult({data:{user:null,session:null},error:C})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:L})}catch(O){if(ge(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(e){const r=await Pr(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(r??"").split("/");try{if(!a&&this.flowType==="pkce")throw new qE;const{data:u,error:c}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Wn});if(await Zt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const h=new Ia;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),ge(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(e){try{const{options:r,provider:a,token:o,access_token:u,nonce:c}=e,h=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Wn}),{data:p,error:y}=h;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const g=new Ia;return this._returnResult({data:{user:null,session:null},error:g})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,o,u,c;try{if("email"in e){const{email:h,options:p}=e;let y=null,g=null;this.flowType==="pkce"&&([y,g]=await Ga(this.storage,this.storageKey));const{error:_}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(a=p?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:g},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:h,options:p}=e,{data:y,error:g}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:g})}throw new hu("You must provide either an email or phone number.")}catch(h){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),ge(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var r,a;try{let o,u;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,u=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:h}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Wn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,y=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(o){if(ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,a,o,u,c;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Ga(this.storage,this.storageKey));const y=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:lj});return!((u=y.data)===null||u===void 0)&&u.url&&Yt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(h){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),ge(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new Tn;const{error:o}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ge(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:u}=e,{error:c}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:a,type:o,options:u}=e,{data:c,error:h}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new hu("You must provide either an email or phone number and a type")}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<ph:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await Pr(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=vh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=sj(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:u}=await this._callRefreshToken(e.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:pr}):await this._useSession(async r=>{var a,o,u;const{data:c,error:h}=r;if(h)throw h;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tn}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:pr})})}catch(r){if(ge(r))return yh(r)&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:o,error:u}=a;if(u)throw u;if(!o.session)throw new Tn;const c=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await Ga(this.storage,this.storageKey));const{data:y,error:g}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:pr});if(g)throw g;return c.user=y.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),ge(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Tn;const r=Date.now()/1e3;let a=r,o=!0,u=null;const{payload:c}=mu(e.access_token);if(c.exp&&(a=c.exp,o=a<=r),o){const{data:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});u={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:c,error:h}=r;if(h)throw h;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new Tn;const{data:o,error:u}=await this._callRefreshToken(e.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Yt())throw new fu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mv("No code detected.");const{data:C,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:h,expires_at:p,token_type:y}=e;if(!u||!h||!c||!y)throw new fu("No session defined in URL");const g=Math.round(Date.now()/1e3),_=parseInt(h);let w=g+_;p&&(w=parseInt(p));const x=w-g;x*1e3<=Wa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${_}s`);const A=w-_;g-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,w,g):g-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,w,g);const{data:E,error:O}=await this._getUser(u);if(O)throw O;const L={provider_token:a,provider_refresh_token:o,access_token:u,expires_in:_,expires_at:w,refresh_token:c,token_type:y,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:e.type},error:null})}catch(a){if(ge(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:o,error:u}=r;if(u&&!yh(u))return this._returnResult({error:u});const c=(a=o.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(UE(h)&&(h.status===404||h.status===401||h.status===403)||yh(h)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=HE(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,o;try{const{data:{session:u},error:c}=r;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,r={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await Ga(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),ge(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:o}=await this._useSession(async u=>{var c,h,p,y,g;const{data:_,error:w}=u;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return Yt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(ge(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:o,data:{session:u}}=r;if(o)throw o;const{options:c,provider:h,token:p,access_token:y,nonce:g}=e,_=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=u?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:p,access_token:y,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Wn}),{data:w,error:x}=_;return x?this._returnResult({data:{user:null,session:null},error:x}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new Ia}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:x}))}catch(o){if(await Zt(this.storage,`${this.storageKey}-code-verifier`),ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,o;const{data:u,error:c}=r;if(c)throw c;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await FE(async o=>(o>0&&await KE(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wn})),(o,u)=>{const c=200*Math.pow(2,o);return u&&gh(u)&&Date.now()+c-a<Wa})}catch(a){if(this._debug(r,"error",a),ge(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),Yt()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Pr(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await ei(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:vh()}else if(o&&!o.user&&!o.user){const c=await Pr(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await Zt(this.storage,this.storageKey+"-user"),await ei(this.storage,this.storageKey,o)):o.user=vh()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const u=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ph;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${ph}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),gh(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(o.access_token);!h&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new Tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Pu;const{data:u,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!u.session)throw new Tn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(o,"error",u),ge(u)){const c={data:null,error:u};return gh(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,r)}catch(p){u.push(p)}});if(await Promise.all(c),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Zt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await ei(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const u=bv(o);await ei(this.storage,this.storageKey,u)}else{const o=bv(r);await ei(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Zt(this.storage,this.storageKey),await Zt(this.storage,this.storageKey+"-code-verifier"),await Zt(this.storage,this.storageKey+"-user"),this.userStorage&&await Zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Yt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/Wa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Wa}ms, refresh threshold is ${Gh} ticks`),o<=Gh&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Db)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const o=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,c]=await Ga(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(a?.queryParams){const u=new URLSearchParams(a.queryParams);o.push(u.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:o,error:u}=r;return u?this._returnResult({data:null,error:u}):await Se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,o;const{data:u,error:c}=r;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:y}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return y?this._returnResult({data:null,error:y}):(e.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Sj(e.webauthn.credential_response):Ej(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:p}=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const c=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:wj(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:xj(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,a,o,u;if(e)try{const{payload:x}=mu(e);let A=null;x.aal&&(A=x.aal);let E=A;const{data:{user:O},error:L}=await this.getUser(e);if(L)return this._returnResult({data:null,error:L});((a=(r=O?.factors)===null||r===void 0?void 0:r.filter(Z=>Z.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(E="aal2");const D=x.amr||[];return{data:{currentLevel:A,nextLevel:E,currentAuthenticationMethods:D},error:null}}catch(x){if(ge(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:c},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=mu(c.access_token);let y=null;p.aal&&(y=p.aal);let g=y;((u=(o=c.user.factors)===null||o===void 0?void 0:o.filter(x=>x.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(g="aal2");const w=p.amr||[];return{data:{currentLevel:y,nextLevel:g,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Tn})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Tn});const c=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Yt()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Tn});const c=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Yt()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await Se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Tn})})}catch(e){if(ge(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?(await Se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Tn})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(h=>h.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(h=>h.kid===e),a&&this.jwks_cached_at+CE>o)return a;const{data:u,error:c}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,a=u.keys.find(h=>h.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:x,error:A}=await this.getSession();if(A||!x.session)return this._returnResult({data:null,error:A});a=x.session.access_token}const{header:o,payload:u,signature:c,raw:{header:h,payload:p}}=mu(a);r?.allowExpired||ej(u.exp);const y=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!y){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:u,header:o,signature:c},error:null}}const g=tj(o.alg),_=await crypto.subtle.importKey("jwk",y,g,!0,["verify"]);if(!await crypto.subtle.verify(g,_,c,$E(`${h}.${p}`)))throw new Qh("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}}ql.nextInstanceID={};const Dj=ql,Uj="2.95.3";let El="";typeof Deno<"u"?El="deno":typeof document<"u"?El="web":typeof navigator<"u"&&navigator.product==="ReactNative"?El="react-native":El="node";const Mj={"X-Client-Info":`supabase-js-${El}/${Uj}`},qj={headers:Mj},Lj={schema:"public"},zj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bj={};function Ll(n){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(n)}function Pj(n,e){if(Ll(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,e);if(Ll(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $j(n){var e=Pj(n,"string");return Ll(e)=="symbol"?e:e+""}function Vj(n,e,r){return(e=$j(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Tv(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,a)}return r}function wt(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tv(Object(r),!0).forEach(function(a){Vj(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Tv(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}const Hj=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Ij=()=>Headers,Gj=(n,e,r)=>{const a=Hj(r),o=Ij();return async(u,c)=>{var h;const p=(h=await e())!==null&&h!==void 0?h:n;let y=new o(c?.headers);return y.has("apikey")||y.set("apikey",n),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),a(u,wt(wt({},c),{},{headers:y}))}};function Kj(n){return n.endsWith("/")?n:n+"/"}function Fj(n,e){var r,a;const{db:o,auth:u,realtime:c,global:h}=n,{db:p,auth:y,realtime:g,global:_}=e,w={db:wt(wt({},p),o),auth:wt(wt({},y),u),realtime:wt(wt({},g),c),storage:{},global:wt(wt(wt({},_),h),{},{headers:wt(wt({},(r=_?.headers)!==null&&r!==void 0?r:{}),(a=h?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return n.accessToken?w.accessToken=n.accessToken:delete w.accessToken,w}function Qj(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Kj(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Zj=class extends Dj{constructor(n){super(n)}},Yj=class{constructor(n,e,r){var a,o;this.supabaseUrl=n,this.supabaseKey=e;const u=Qj(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:Lj,realtime:Bj,auth:wt(wt({},zj),{},{storageKey:c}),global:qj},p=Fj(r??{},h);if(this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=Gj(e,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(wt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new US(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new AE(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new TS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,r)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,r;if(n.accessToken)return await n.accessToken();const{data:a}=await n.auth.getSession();return(e=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:a,userStorage:o,storageKey:u,flowType:c,lock:h,debug:p,throwOnError:y},g,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zj({url:this.authUrl.href,headers:wt(wt({},w),g),storageKey:u,autoRefreshToken:n,persistSession:e,detectSessionInUrl:r,storage:a,userStorage:o,flowType:c,lock:h,debug:p,throwOnError:y,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new XS(this.realtimeUrl.href,wt(wt({},n),{},{params:wt(wt({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e?.access_token)})}_handleTokenChanged(n,e,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Xj=(n,e,r)=>new Yj(n,e,r);function Jj(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Jj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Cu=null;function Wj(){const n=xS();return Cu=Xj(n.SUPABASE_URL,n.SUPABASE_ANON_KEY),Cu}function Ve(){if(!Cu)throw new Error("[api-client] Supabase not initialised. Call initApi() from your app entry point first.");return Cu}function e1(n){wS(n),Wj()}function t1(){return new Mx({defaultOptions:{queries:{staleTime:6e4,retry:2}}})}const ct={auth:{session:["auth","session"]},profile:{me:["profile","me"]},companies:{all:["companies"]},equipment:{all:n=>["equipment",n],detail:n=>["equipment","detail",n],partners:n=>["equipment",n,"partners"],types:n=>["equipment-types",n]},suppliers:{all:n=>["suppliers",n],detail:n=>["suppliers","detail",n]},partners:{all:n=>["partners",n],detail:n=>["partners","detail",n]}},qb=Nn({email:Qe().email("Invalid email address"),password:Qe().min(8,"Password must be at least 8 characters"),full_name:Qe().min(1,"Full name is required"),phone:Qe().optional(),company_name:Qe().min(1,"Company name is required")}),Lb=Nn({email:Qe().email("Invalid email address"),password:Qe().min(1,"Password is required")}),n1=Nn({full_name:Qe().min(1,"Full name cannot be empty").optional(),phone:Qe().nullable().optional(),avatar_url:Qe().url("Must be a valid URL").nullable().optional()}),s1=Nn({email:Qe().email("Invalid email address")});function bl(n){return{code:n.code??"AUTH_ERROR",message:n.message,status:n.status}}function Xe(n){return n.code==="23505"?{code:"DUPLICATE",message:r1(n.message,n.details),status:409}:{code:n.code??"DB_ERROR",message:n.message,status:void 0,details:n.details??n.hint}}function r1(n,e){const r=`${n} ${e??""}`.toLowerCase();return r.includes("serial_number")?"An equipment record with this serial number already exists.":r.includes("suppliers")&&r.includes("name")?"A supplier with this name already exists.":r.includes("partners")&&r.includes("name")?"A partner with this name already exists.":"A record with these details already exists."}function Fe(n){return n instanceof Error?{code:"UNKNOWN",message:n.message}:{code:"UNKNOWN",message:String(n)}}function ne(n){return{data:null,error:n}}function He(n){return{data:n,error:null}}const zl={async signUp(n){try{const e=qb.parse(n),r=Ve(),{data:a,error:o}=await r.auth.signUp({email:e.email,password:e.password,options:{data:{full_name:e.full_name,phone:e.phone??"",company_name:e.company_name}}});return o?ne(bl(o)):a.user?He({userId:a.user.id}):ne({code:"SIGNUP_NO_USER",message:"Signup succeeded but no user returned"})}catch(e){return ne(Fe(e))}},async signIn(n){try{const e=Lb.parse(n),r=Ve(),{data:a,error:o}=await r.auth.signInWithPassword({email:e.email,password:e.password});return o?ne(bl(o)):He(a.session)}catch(e){return ne(Fe(e))}},async signOut(){try{const n=Ve(),{error:e}=await n.auth.signOut();return e?ne(bl(e)):He(null)}catch(n){return ne(Fe(n))}},async getSession(){try{const n=Ve(),{data:e,error:r}=await n.auth.getSession();return r?ne(bl(r)):He(e.session)}catch(n){return ne(Fe(n))}},async resetPassword(n){try{const e=s1.parse({email:n}),r=Ve(),{error:a}=await r.auth.resetPasswordForEmail(e.email);return a?ne(bl(a)):He(null)}catch(e){return ne(Fe(e))}},onAuthStateChange(n){const e=Ve(),{data:r}=e.auth.onAuthStateChange((a,o)=>{n(a,o)});return()=>r.subscription.unsubscribe()}};function $u(){const n=Pt(),e=as({queryKey:ct.auth.session,queryFn:()=>zl.getSession(),staleTime:1/0,retry:!1});N.useEffect(()=>zl.onAuthStateChange(()=>{n.invalidateQueries({queryKey:ct.auth.session})}),[n]);const r=e.data?.data??null,a=r?.user??null;return{...e,session:r,user:a,isAuthenticated:!!a}}function a1(){const n=Pt();return ln({mutationFn:e=>zl.signUp(e),onSuccess:e=>{e.data&&n.invalidateQueries({queryKey:ct.auth.session})}})}function i1(){const n=Pt();return ln({mutationFn:e=>zl.signIn(e),onSuccess:e=>{e.data&&(n.invalidateQueries({queryKey:ct.auth.session}),n.invalidateQueries({queryKey:ct.profile.me}),n.invalidateQueries({queryKey:ct.companies.all}))}})}function zb(){const n=Pt();return ln({mutationFn:()=>zl.signOut(),onSuccess:()=>{n.clear()}})}const l1={async getMyProfile(){try{const n=Ve(),{data:{user:e}}=await n.auth.getUser();if(!e)return ne({code:"NOT_AUTHENTICATED",message:"No authenticated user"});const{data:r,error:a}=await n.from("profiles").select("id, full_name, phone, avatar_url, created_at, updated_at").eq("id",e.id).single();return a?ne(Xe(a)):He(r)}catch(n){return ne(Fe(n))}},async updateMyProfile(n){try{const e=n1.parse(n),r=Ve(),{data:{user:a}}=await r.auth.getUser();if(!a)return ne({code:"NOT_AUTHENTICATED",message:"No authenticated user"});const{data:o,error:u}=await r.from("profiles").update(e).eq("id",a.id).select("id, full_name, phone, avatar_url, created_at, updated_at").single();return u?ne(Xe(u)):He(o)}catch(e){return ne(Fe(e))}}};function Bb(n=!0){return as({queryKey:ct.profile.me,queryFn:()=>l1.getMyProfile(),enabled:n})}const Av=Nn({name:Qe().min(1,"Company name is required")}),o1={async onboard(n){try{const e=Av.parse(n),r=Ve(),{data:{user:a}}=await r.auth.getUser();if(!a)return ne({code:"NOT_AUTHENTICATED",message:"No authenticated user"});const{data:o,error:u}=await r.rpc("create_company_with_owner",{company_name:e.name});if(!u&&o)return He(o);const{data:c,error:h}=await r.from("companies").insert({name:e.name}).select("id").single();if(h)return ne(Xe(h));const{data:p,error:y}=await r.from("company_members").insert({user_id:a.id,company_id:c.id,role:"owner"}).select("id").single();return y?ne(Xe(y)):He({company_id:c.id,membership_id:p.id})}catch(e){return ne(Fe(e))}},async getMyCompanies(){try{const n=Ve(),{data:{user:e}}=await n.auth.getUser();if(!e)return ne({code:"NOT_AUTHENTICATED",message:"No authenticated user"});const{data:r,error:a}=await n.from("company_members").select(`
          id, user_id, company_id, role, created_at,
          company:companies ( id, name, created_at, updated_at )
        `).eq("user_id",e.id);return a?ne(Xe(a)):He(r)}catch(n){return ne(Fe(n))}},async getCompanyById(n){try{const e=Ve(),{data:r,error:a}=await e.from("companies").select("id, name, created_at, updated_at").eq("id",n).single();return a?ne(Xe(a)):He(r)}catch(e){return ne(Fe(e))}},async updateCompany(n,e){try{const r=Av.parse(e),a=Ve(),{data:o,error:u}=await a.from("companies").update({name:r.name}).eq("id",n).select("id, name, created_at, updated_at").single();return u?ne(Xe(u)):He(o)}catch(r){return ne(Fe(r))}}};function ea(n=!0){return as({queryKey:ct.companies.all,queryFn:()=>o1.getMyCompanies(),enabled:n})}const Pb=Nn({name:Qe().min(1,"Equipment name is required"),serial_number:Qe().min(1,"Serial number is required"),equipment_type_id:Qe().min(1,"Equipment type is required"),model:Qe().optional(),ownership_type:Lh(["owned","rented"]),supplier_id:Qe().optional(),monthly_rent:Ru.number().positive("Must be positive").optional(),daily_rent:Ru.number().positive("Must be positive").optional()}).superRefine((n,e)=>{n.ownership_type==="rented"&&(n.supplier_id||e.addIssue({code:Y.custom,message:"Supplier is required for rented equipment",path:["supplier_id"]}),n.monthly_rent==null&&e.addIssue({code:Y.custom,message:"Monthly rent is required for rented equipment",path:["monthly_rent"]}),n.daily_rent==null&&e.addIssue({code:Y.custom,message:"Daily rent is required for rented equipment",path:["daily_rent"]}))}),u1=Nn({name:Qe().min(1,"Equipment name is required").optional(),serial_number:Qe().min(1,"Serial number is required").optional(),equipment_type_id:Qe().min(1).optional(),model:Qe().nullable().optional(),ownership_type:Lh(["owned","rented"]).optional(),status:Lh(["active","inactive"]).optional(),supplier_id:Qe().nullable().optional(),monthly_rent:Ru.number().positive().nullable().optional(),daily_rent:Ru.number().positive().nullable().optional()}).superRefine((n,e)=>{n.ownership_type==="rented"&&(n.supplier_id||e.addIssue({code:Y.custom,message:"Supplier is required for rented equipment",path:["supplier_id"]}),n.monthly_rent==null&&e.addIssue({code:Y.custom,message:"Monthly rent is required for rented equipment",path:["monthly_rent"]}),n.daily_rent==null&&e.addIssue({code:Y.custom,message:"Daily rent is required for rented equipment",path:["daily_rent"]}))}),c1=Nn({name:Qe().min(1,"Type name is required")}),is={async list(n,e){try{let a=Ve().from("equipment").select(`
          id, company_id, name, serial_number, equipment_type_id, model,
          ownership_type, status, supplier_id, monthly_rent, daily_rent,
          created_at, updated_at,
          equipment_type:equipment_types ( id, company_id, name, created_at )
        `).eq("company_id",n).order("created_at",{ascending:!1});e?.status&&(a=a.eq("status",e.status)),e?.ownership_type&&(a=a.eq("ownership_type",e.ownership_type)),e?.equipment_type_id&&(a=a.eq("equipment_type_id",e.equipment_type_id)),e?.search&&(a=a.ilike("name",`%${e.search}%`));const o=e?.limit??50,u=e?.offset??0;a=a.range(u,u+o-1);const{data:c,error:h}=await a;return h?ne(Xe(h)):He(c)}catch(r){return ne(Fe(r))}},async getById(n){try{const e=Ve(),{data:r,error:a}=await e.from("equipment").select(`
          id, company_id, name, serial_number, equipment_type_id, model,
          ownership_type, status, supplier_id, monthly_rent, daily_rent,
          created_at, updated_at,
          equipment_type:equipment_types ( id, company_id, name, created_at ),
          supplier:suppliers ( id, company_id, name, phone, created_at, updated_at )
        `).eq("id",n).single();return a?ne(Xe(a)):He(r)}catch(e){return ne(Fe(e))}},async create(n,e){try{const r=Pb.parse(e),a=Ve(),o={company_id:n,name:r.name,serial_number:r.serial_number,equipment_type_id:r.equipment_type_id,model:r.model??null,ownership_type:r.ownership_type};r.ownership_type==="rented"&&(o.supplier_id=r.supplier_id,o.monthly_rent=r.monthly_rent,o.daily_rent=r.daily_rent);const{data:u,error:c}=await a.from("equipment").insert(o).select().single();return c?ne(Xe(c)):He(u)}catch(r){return ne(Fe(r))}},async update(n,e){try{const r=u1.parse(e),a=Ve(),o={...r};r.ownership_type==="owned"&&(o.supplier_id=null,o.monthly_rent=null,o.daily_rent=null);const{data:u,error:c}=await a.from("equipment").update(o).eq("id",n).select().single();return c?ne(Xe(c)):He(u)}catch(r){return ne(Fe(r))}},async archive(n){try{const e=Ve(),{data:r,error:a}=await e.from("equipment").update({status:"inactive"}).eq("id",n).select().single();return a?ne(Xe(a)):He(r)}catch(e){return ne(Fe(e))}},async reactivate(n){try{const e=Ve(),{data:r,error:a}=await e.from("equipment").update({status:"active"}).eq("id",n).select().single();return a?ne(Xe(a)):He(r)}catch(e){return ne(Fe(e))}},async listPartners(n){try{const e=Ve(),{data:r,error:a}=await e.from("equipment_partners").select(`
          id, equipment_id, partner_id, percentage, created_at,
          partner:partners ( id, company_id, name, phone, created_at, updated_at )
        `).eq("equipment_id",n).order("created_at",{ascending:!0});return a?ne(Xe(a)):He(r)}catch(e){return ne(Fe(e))}},async addPartner(n,e){try{const r=Ve(),{data:a,error:o}=await r.from("equipment_partners").insert({equipment_id:n,partner_id:e.partner_id,percentage:e.percentage}).select("id").single();return o?ne(Xe(o)):He(a)}catch(r){return ne(Fe(r))}},async updatePartnerPercentage(n,e){try{const r=Ve(),{data:a,error:o}=await r.from("equipment_partners").update({percentage:e.percentage}).eq("id",n).select("id").single();return o?ne(Xe(o)):He(a)}catch(r){return ne(Fe(r))}},async removePartner(n){try{const e=Ve(),{error:r}=await e.from("equipment_partners").delete().eq("id",n);return r?ne(Xe(r)):He(void 0)}catch(e){return ne(Fe(e))}},async listTypes(n){try{const e=Ve(),{data:r,error:a}=await e.from("equipment_types").select("id, company_id, name, created_at").or(`company_id.is.null,company_id.eq.${n}`).order("name",{ascending:!0});return a?ne(Xe(a)):He(r)}catch(e){return ne(Fe(e))}},async createType(n,e){try{const r=c1.parse(e),a=Ve(),{data:o,error:u}=await a.from("equipment_types").insert({company_id:n,name:r.name}).select().single();return u?ne(Xe(u)):He(o)}catch(r){return ne(Fe(r))}},async deleteType(n){try{const e=Ve(),{error:r}=await e.from("equipment_types").delete().eq("id",n);return r?ne(Xe(r)):He(void 0)}catch(e){return ne(Fe(e))}}};function d1(n,e){return as({queryKey:[...ct.equipment.all(n),e],queryFn:()=>is.list(n,e),enabled:!!n})}function $b(n){return as({queryKey:ct.equipment.detail(n),queryFn:()=>is.getById(n),enabled:!!n})}function h1(){const n=Pt();return ln({mutationFn:({companyId:e,payload:r})=>is.create(e,r),onSuccess:(e,{companyId:r})=>{e.data&&n.invalidateQueries({queryKey:ct.equipment.all(r)})}})}function f1(){const n=Pt();return ln({mutationFn:({equipmentId:e,payload:r})=>is.update(e,r),onSuccess:(e,{equipmentId:r})=>{e.data&&(n.invalidateQueries({queryKey:ct.equipment.detail(r)}),n.invalidateQueries({queryKey:["equipment"]}))}})}function m1(){const n=Pt();return ln({mutationFn:e=>is.archive(e),onSuccess:(e,r)=>{e.data&&(n.invalidateQueries({queryKey:ct.equipment.detail(r)}),n.invalidateQueries({queryKey:["equipment"]}))}})}function p1(){const n=Pt();return ln({mutationFn:e=>is.reactivate(e),onSuccess:(e,r)=>{e.data&&(n.invalidateQueries({queryKey:ct.equipment.detail(r)}),n.invalidateQueries({queryKey:["equipment"]}))}})}function y1(n){return as({queryKey:ct.equipment.partners(n),queryFn:()=>is.listPartners(n),enabled:!!n})}function g1(){const n=Pt();return ln({mutationFn:({equipmentId:e,payload:r})=>is.addPartner(e,r),onSuccess:(e,{equipmentId:r})=>{e.data&&n.invalidateQueries({queryKey:ct.equipment.partners(r)})}})}function v1(){const n=Pt();return ln({mutationFn:({equipmentPartnerId:e,payload:r})=>is.updatePartnerPercentage(e,r),onSuccess:(e,{equipmentId:r})=>{e.data&&n.invalidateQueries({queryKey:ct.equipment.partners(r)})}})}function b1(){const n=Pt();return ln({mutationFn:({equipmentPartnerId:e})=>is.removePartner(e),onSuccess:(e,{equipmentId:r})=>{n.invalidateQueries({queryKey:ct.equipment.partners(r)})}})}function Vb(n){return as({queryKey:ct.equipment.types(n),queryFn:()=>is.listTypes(n),enabled:!!n})}const Hb=Nn({name:Qe().min(1,"Supplier name is required"),phone:Qe().optional()}),_1=Nn({name:Qe().min(1,"Supplier name is required").optional(),phone:Qe().nullable().optional()}),$l={async list(n,e){try{let a=Ve().from("suppliers").select(`
          id, company_id, name, phone, created_at, updated_at,
          equipment ( count )
        `,{count:"exact"}).eq("company_id",n).order("name",{ascending:!0});e?.search&&(a=a.ilike("name",`%${e.search}%`));const o=e?.limit??50,u=e?.offset??0;a=a.range(u,u+o-1);const{data:c,error:h}=await a;if(h)return ne(Xe(h));const p=c.map(({equipment:y,...g})=>({...g,equipment_count:y?.[0]?.count??0}));return He(p)}catch(r){return ne(Fe(r))}},async getById(n){try{const e=Ve(),{data:r,error:a}=await e.from("suppliers").select("id, company_id, name, phone, created_at, updated_at").eq("id",n).single();if(a)return ne(Xe(a));const{data:o,error:u}=await e.from("equipment").select("id, name, serial_number, model, monthly_rent, daily_rent").eq("supplier_id",n).order("name",{ascending:!0});return u?ne(Xe(u)):He({...r,equipment:o??[]})}catch(e){return ne(Fe(e))}},async create(n,e){try{const r=Hb.parse(e),a=Ve(),{data:o,error:u}=await a.from("suppliers").insert({company_id:n,name:r.name,phone:r.phone??null}).select().single();return u?ne(Xe(u)):He(o)}catch(r){return ne(Fe(r))}},async update(n,e){try{const r=_1.parse(e),a=Ve(),{data:o,error:u}=await a.from("suppliers").update(r).eq("id",n).select().single();return u?ne(Xe(u)):He(o)}catch(r){return ne(Fe(r))}},async delete(n){try{const e=Ve(),{error:r}=await e.from("suppliers").delete().eq("id",n);return r?ne(Xe(r)):He(void 0)}catch(e){return ne(Fe(e))}}};function Ib(n,e){return as({queryKey:[...ct.suppliers.all(n),e],queryFn:()=>$l.list(n,e),enabled:!!n})}function Gb(n){return as({queryKey:ct.suppliers.detail(n),queryFn:()=>$l.getById(n),enabled:!!n})}function w1(){const n=Pt();return ln({mutationFn:({companyId:e,payload:r})=>$l.create(e,r),onSuccess:(e,{companyId:r})=>{e.data&&n.invalidateQueries({queryKey:ct.suppliers.all(r)})}})}function x1(){const n=Pt();return ln({mutationFn:({supplierId:e,payload:r})=>$l.update(e,r),onSuccess:(e,{supplierId:r})=>{e.data&&(n.invalidateQueries({queryKey:ct.suppliers.detail(r)}),n.invalidateQueries({queryKey:["suppliers"]}))}})}function S1(){const n=Pt();return ln({mutationFn:e=>$l.delete(e),onSuccess:()=>{n.invalidateQueries({queryKey:["suppliers"]})}})}const Kb=Nn({name:Qe().min(1,"Partner name is required"),phone:Qe().optional()}),E1=Nn({name:Qe().min(1,"Partner name is required").optional(),phone:Qe().nullable().optional()}),Vl={async list(n,e){try{let a=Ve().from("partners").select(`
          id, company_id, name, phone, created_at, updated_at,
          equipment_partners ( count )
        `,{count:"exact"}).eq("company_id",n).order("name",{ascending:!0});e?.search&&(a=a.ilike("name",`%${e.search}%`));const o=e?.limit??50,u=e?.offset??0;a=a.range(u,u+o-1);const{data:c,error:h}=await a;if(h)return ne(Xe(h));const p=c.map(({equipment_partners:y,...g})=>({...g,equipment_count:y?.[0]?.count??0}));return He(p)}catch(r){return ne(Fe(r))}},async getById(n){try{const e=Ve(),{data:r,error:a}=await e.from("partners").select("id, company_id, name, phone, created_at, updated_at").eq("id",n).single();if(a)return ne(Xe(a));const{data:o,error:u}=await e.from("equipment_partners").select(`
          percentage,
          equipment:equipment ( id, name, serial_number, model )
        `).eq("partner_id",n);if(u)return ne(Xe(u));const c=o.map(h=>({...h.equipment,percentage:h.percentage}));return He({...r,equipment:c})}catch(e){return ne(Fe(e))}},async create(n,e){try{const r=Kb.parse(e),a=Ve(),{data:o,error:u}=await a.from("partners").insert({company_id:n,name:r.name,phone:r.phone??null}).select().single();return u?ne(Xe(u)):He(o)}catch(r){return ne(Fe(r))}},async update(n,e){try{const r=E1.parse(e),a=Ve(),{data:o,error:u}=await a.from("partners").update(r).eq("id",n).select().single();return u?ne(Xe(u)):He(o)}catch(r){return ne(Fe(r))}},async delete(n){try{const e=Ve(),{error:r}=await e.from("partners").delete().eq("id",n);return r?ne(Xe(r)):He(void 0)}catch(e){return ne(Fe(e))}}};function Fb(n,e){return as({queryKey:[...ct.partners.all(n),e],queryFn:()=>Vl.list(n,e),enabled:!!n})}function Qb(n){return as({queryKey:ct.partners.detail(n),queryFn:()=>Vl.getById(n),enabled:!!n})}function j1(){const n=Pt();return ln({mutationFn:({companyId:e,payload:r})=>Vl.create(e,r),onSuccess:(e,{companyId:r})=>{e.data&&n.invalidateQueries({queryKey:ct.partners.all(r)})}})}function T1(){const n=Pt();return ln({mutationFn:({partnerId:e,payload:r})=>Vl.update(e,r),onSuccess:(e,{partnerId:r})=>{e.data&&(n.invalidateQueries({queryKey:ct.partners.detail(r)}),n.invalidateQueries({queryKey:["partners"]}))}})}function A1(){const n=Pt();return ln({mutationFn:e=>Vl.delete(e),onSuccess:()=>{n.invalidateQueries({queryKey:["partners"]})}})}var Rv="popstate";function R1(n={}){function e(a,o){let{pathname:u,search:c,hash:h}=a.location;return Zh("",{pathname:u,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:Bl(o)}return N1(e,r,null,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O1(){return Math.random().toString(36).substring(2,10)}function Ov(n,e){return{usr:n.state,key:n.key,idx:e}}function Zh(n,e,r=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?di(e):e,state:r,key:e&&e.key||a||O1()}}function Bl({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function di(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function N1(n,e,r,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,c=o.history,h="POP",p=null,y=g();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function g(){return(c.state||{idx:null}).idx}function _(){h="POP";let O=g(),L=O==null?null:O-y;y=O,p&&p({action:h,location:E.location,delta:L})}function w(O,L){h="PUSH";let C=Zh(E.location,O,L);y=g()+1;let D=Ov(C,y),Z=E.createHref(C);try{c.pushState(D,"",Z)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(Z)}u&&p&&p({action:h,location:E.location,delta:1})}function x(O,L){h="REPLACE";let C=Zh(E.location,O,L);y=g();let D=Ov(C,y),Z=E.createHref(C);c.replaceState(D,"",Z),u&&p&&p({action:h,location:E.location,delta:0})}function A(O){return k1(O)}let E={get action(){return h},get location(){return n(o,c)},listen(O){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Rv,_),p=O,()=>{o.removeEventListener(Rv,_),p=null}},createHref(O){return e(o,O)},createURL:A,encodeLocation(O){let L=A(O);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:x,go(O){return c.go(O)}};return E}function k1(n,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),pt(r,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Bl(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function Zb(n,e,r="/"){return C1(n,e,r,!1)}function C1(n,e,r,a){let o=typeof e=="string"?di(e):e,u=Bs(o.pathname||"/",r);if(u==null)return null;let c=Yb(n);D1(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let y=I1(u);h=V1(c[p],y,a)}return h}function Yb(n,e=[],r=[],a="",o=!1){let u=(c,h,p=o,y)=>{let g={relativePath:y===void 0?c.path||"":y,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&p)return;pt(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let _=Ls([a,g.relativePath]),w=r.concat(g);c.children&&c.children.length>0&&(pt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Yb(c.children,e,w,_,p)),!(c.path==null&&!c.index)&&e.push({path:_,score:P1(_,c.index),routesMeta:w})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))u(c,h);else for(let p of Xb(c.path))u(c,h,!0,p)}),e}function Xb(n){let e=n.split("/");if(e.length===0)return[];let[r,...a]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let c=Xb(a.join("/")),h=[];return h.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function D1(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:$1(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var U1=/^:[\w-]+$/,M1=3,q1=2,L1=1,z1=10,B1=-2,Nv=n=>n==="*";function P1(n,e){let r=n.split("/"),a=r.length;return r.some(Nv)&&(a+=B1),e&&(a+=q1),r.filter(o=>!Nv(o)).reduce((o,u)=>o+(U1.test(u)?M1:u===""?L1:z1),a)}function $1(n,e){return n.length===e.length&&n.slice(0,-1).every((a,o)=>a===e[o])?n[n.length-1]-e[e.length-1]:0}function V1(n,e,r=!1){let{routesMeta:a}=n,o={},u="/",c=[];for(let h=0;h<a.length;++h){let p=a[h],y=h===a.length-1,g=u==="/"?e:e.slice(u.length)||"/",_=Du({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},g),w=p.route;if(!_&&y&&r&&!a[a.length-1].route.index&&(_=Du({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!_)return null;Object.assign(o,_.params),c.push({params:o,pathname:Ls([u,_.pathname]),pathnameBase:Q1(Ls([u,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(u=Ls([u,_.pathnameBase]))}return c}function Du(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,a]=H1(n.path,n.caseSensitive,n.end),o=e.match(r);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:a.reduce((y,{paramName:g,isOptional:_},w)=>{if(g==="*"){let A=h[w]||"";c=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const x=h[w];return _&&!x?y[g]=void 0:y[g]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:c,pattern:n}}function H1(n,e=!1,r=!0){rs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(a.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function I1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Bs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=n.charAt(r);return a&&a!=="/"?null:n.slice(r)||"/"}var G1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function K1(n,e="/"){let{pathname:r,search:a="",hash:o=""}=typeof n=="string"?di(n):n,u;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?u=kv(r.substring(1),"/"):u=kv(r,e)):u=e,{pathname:u,search:Z1(a),hash:Y1(o)}}function kv(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function _h(n,e,r,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F1(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function df(n){let e=F1(n);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function hf(n,e,r,a=!1){let o;typeof n=="string"?o=di(n):(o={...n},pt(!o.pathname||!o.pathname.includes("?"),_h("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),_h("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),_h("#","search","hash",o)));let u=n===""||o.pathname==="",c=u?"/":o.pathname,h;if(c==null)h=r;else{let _=e.length-1;if(!a&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;o.pathname=w.join("/")}h=_>=0?e[_]:"/"}let p=K1(o,h),y=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(y||g)&&(p.pathname+="/"),p}var Ls=n=>n.join("/").replace(/\/\/+/g,"/"),Q1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Z1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Y1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,X1=class{constructor(n,e,r,a=!1){this.status=n,this.statusText=e||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function J1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function W1(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Jb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Wb(n,e){let r=n;if(typeof r!="string"||!G1.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let a=r,o=!1;if(Jb)try{let u=new URL(window.location.href),c=r.startsWith("//")?new URL(u.protocol+r):new URL(r),h=Bs(c.pathname,e);c.origin===u.origin&&h!=null?r=h+c.search+c.hash:o=!0}catch{rs(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var e_=["POST","PUT","PATCH","DELETE"];new Set(e_);var eT=["GET",...e_];new Set(eT);var hi=N.createContext(null);hi.displayName="DataRouter";var Vu=N.createContext(null);Vu.displayName="DataRouterState";var tT=N.createContext(!1),t_=N.createContext({isTransitioning:!1});t_.displayName="ViewTransition";var nT=N.createContext(new Map);nT.displayName="Fetchers";var sT=N.createContext(null);sT.displayName="Await";var kn=N.createContext(null);kn.displayName="Navigation";var Hl=N.createContext(null);Hl.displayName="Location";var Qn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var ff=N.createContext(null);ff.displayName="RouteError";var n_="REACT_ROUTER_ERROR",rT="REDIRECT",aT="ROUTE_ERROR_RESPONSE";function iT(n){if(n.startsWith(`${n_}:${rT}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function lT(n){if(n.startsWith(`${n_}:${aT}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new X1(e.status,e.statusText,e.data)}catch{}}function oT(n,{relative:e}={}){pt(fi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=N.useContext(kn),{hash:o,pathname:u,search:c}=Il(n,{relative:e}),h=u;return r!=="/"&&(h=u==="/"?r:Ls([r,u])),a.createHref({pathname:h,search:c,hash:o})}function fi(){return N.useContext(Hl)!=null}function wr(){return pt(fi(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Hl).location}var s_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r_(n){N.useContext(kn).static||N.useLayoutEffect(n)}function ls(){let{isDataRoute:n}=N.useContext(Qn);return n?ST():uT()}function uT(){pt(fi(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(hi),{basename:e,navigator:r}=N.useContext(kn),{matches:a}=N.useContext(Qn),{pathname:o}=wr(),u=JSON.stringify(df(a)),c=N.useRef(!1);return r_(()=>{c.current=!0}),N.useCallback((p,y={})=>{if(rs(c.current,s_),!c.current)return;if(typeof p=="number"){r.go(p);return}let g=hf(p,JSON.parse(u),o,y.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ls([e,g.pathname])),(y.replace?r.replace:r.push)(g,y.state,y)},[e,r,u,o,n])}var cT=N.createContext(null);function dT(n){let e=N.useContext(Qn).outlet;return N.useMemo(()=>e&&N.createElement(cT.Provider,{value:n},e),[e,n])}function mi(){let{matches:n}=N.useContext(Qn),e=n[n.length-1];return e?e.params:{}}function Il(n,{relative:e}={}){let{matches:r}=N.useContext(Qn),{pathname:a}=wr(),o=JSON.stringify(df(r));return N.useMemo(()=>hf(n,JSON.parse(o),a,e==="path"),[n,o,a,e])}function hT(n,e){return a_(n,e)}function a_(n,e,r,a,o){pt(fi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(kn),{matches:c}=N.useContext(Qn),h=c[c.length-1],p=h?h.params:{},y=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let C=_&&_.path||"";l_(y,!_||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let w=wr(),x;if(e){let C=typeof e=="string"?di(e):e;pt(g==="/"||C.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${C.pathname}" was given in the \`location\` prop.`),x=C}else x=w;let A=x.pathname||"/",E=A;if(g!=="/"){let C=g.replace(/^\//,"").split("/");E="/"+A.replace(/^\//,"").split("/").slice(C.length).join("/")}let O=Zb(n,{pathname:E});rs(_||O!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),rs(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=gT(O&&O.map(C=>Object.assign({},C,{params:Object.assign({},p,C.params),pathname:Ls([g,u.encodeLocation?u.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:Ls([g,u.encodeLocation?u.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),c,r,a,o);return e&&L?N.createElement(Hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},L):L}function fT(){let n=xT(),e=J1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:o},r):null,c)}var mT=N.createElement(fT,null),i_=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const r=lT(n.digest);r&&(n=r)}let e=n!==void 0?N.createElement(Qn.Provider,{value:this.props.routeContext},N.createElement(ff.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?N.createElement(pT,{error:n},e):e}};i_.contextType=tT;var wh=new WeakMap;function pT({children:n,error:e}){let{basename:r}=N.useContext(kn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=iT(e.digest);if(a){let o=wh.get(e);if(o)throw o;let u=Wb(a.location,r);if(Jb&&!wh.get(e))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw wh.set(e,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function yT({routeContext:n,match:e,children:r}){let a=N.useContext(hi);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Qn.Provider,{value:n},r)}function gT(n,e=[],r=null,a=null,o=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let u=n,c=r?.errors;if(c!=null){let g=u.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);pt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let h=!1,p=-1;if(r)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:w,errors:x}=r,A=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!x||x[_.route.id]===void 0);if(_.route.lazy||A){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=r&&a?(g,_)=>{a(g,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:W1(r.matches),errorInfo:_})}:void 0;return u.reduceRight((g,_,w)=>{let x,A=!1,E=null,O=null;r&&(x=c&&_.route.id?c[_.route.id]:void 0,E=_.route.errorElement||mT,h&&(p<0&&w===0?(l_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,O=null):p===w&&(A=!0,O=_.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,w+1)),C=()=>{let D;return x?D=E:A?D=O:_.route.Component?D=N.createElement(_.route.Component,null):_.route.element?D=_.route.element:D=g,N.createElement(yT,{match:_,routeContext:{outlet:g,matches:L,isDataRoute:r!=null},children:D})};return r&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?N.createElement(i_,{location:r.location,revalidation:r.revalidation,component:E,error:x,children:C(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:y}):C()},null)}function mf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vT(n){let e=N.useContext(hi);return pt(e,mf(n)),e}function bT(n){let e=N.useContext(Vu);return pt(e,mf(n)),e}function _T(n){let e=N.useContext(Qn);return pt(e,mf(n)),e}function pf(n){let e=_T(n),r=e.matches[e.matches.length-1];return pt(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function wT(){return pf("useRouteId")}function xT(){let n=N.useContext(ff),e=bT("useRouteError"),r=pf("useRouteError");return n!==void 0?n:e.errors?.[r]}function ST(){let{router:n}=vT("useNavigate"),e=pf("useNavigate"),r=N.useRef(!1);return r_(()=>{r.current=!0}),N.useCallback(async(o,u={})=>{rs(r.current,s_),r.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var Cv={};function l_(n,e,r){!e&&!Cv[n]&&(Cv[n]=!0,rs(!1,r))}N.memo(ET);function ET({routes:n,future:e,state:r,onError:a}){return a_(n,void 0,r,a,e)}function yf({to:n,replace:e,state:r,relative:a}){pt(fi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(kn);rs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(Qn),{pathname:c}=wr(),h=ls(),p=hf(n,df(u),c,a==="path"),y=JSON.stringify(p);return N.useEffect(()=>{h(JSON.parse(y),{replace:e,state:r,relative:a})},[h,y,a,e,r]),null}function gf(n){return dT(n.context)}function Rt(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jT({basename:n="/",children:e=null,location:r,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){pt(!fi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),p=N.useMemo(()=>({basename:h,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[h,o,u,c]);typeof r=="string"&&(r=di(r));let{pathname:y="/",search:g="",hash:_="",state:w=null,key:x="default"}=r,A=N.useMemo(()=>{let E=Bs(y,h);return E==null?null:{location:{pathname:E,search:g,hash:_,state:w,key:x},navigationType:a}},[h,y,g,_,w,x,a]);return rs(A!=null,`<Router basename="${h}"> is not able to match the URL "${y}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:N.createElement(kn.Provider,{value:p},N.createElement(Hl.Provider,{children:e,value:A}))}function TT({children:n,location:e}){return hT(Yh(n),e)}function Yh(n,e=[]){let r=[];return N.Children.forEach(n,(a,o)=>{if(!N.isValidElement(a))return;let u=[...e,o];if(a.type===N.Fragment){r.push.apply(r,Yh(a.props.children,u));return}pt(a.type===Rt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Yh(a.props.children,u)),r.push(c)}),r}var bu="get",_u="application/x-www-form-urlencoded";function Hu(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function AT(n){return Hu(n)&&n.tagName.toLowerCase()==="button"}function RT(n){return Hu(n)&&n.tagName.toLowerCase()==="form"}function OT(n){return Hu(n)&&n.tagName.toLowerCase()==="input"}function NT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kT(n,e){return n.button===0&&(!e||e==="_self")&&!NT(n)}var pu=null;function CT(){if(pu===null)try{new FormData(document.createElement("form"),0),pu=!1}catch{pu=!0}return pu}var DT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xh(n){return n!=null&&!DT.has(n)?(rs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_u}"`),null):n}function UT(n,e){let r,a,o,u,c;if(RT(n)){let h=n.getAttribute("action");a=h?Bs(h,e):null,r=n.getAttribute("method")||bu,o=xh(n.getAttribute("enctype"))||_u,u=new FormData(n)}else if(AT(n)||OT(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(a=p?Bs(p,e):null,r=n.getAttribute("formmethod")||h.getAttribute("method")||bu,o=xh(n.getAttribute("formenctype"))||xh(h.getAttribute("enctype"))||_u,u=new FormData(h,n),!CT()){let{name:y,type:g,value:_}=n;if(g==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,_)}}else{if(Hu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=bu,a=null,o=_u,c=n}return u&&o==="text/plain"&&(c=u,u=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function MT(n,e,r,a){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&Bs(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function qT(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function zT(n,e,r){let a=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await qT(u,r);return c.links?c.links():[]}return[]}));return VT(a.flat(1).filter(LT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Dv(n,e,r,a,o,u){let c=(p,y)=>r[y]?p.route.id!==r[y].route.id:!0,h=(p,y)=>r[y].pathname!==p.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>c(p,y)||h(p,y)):u==="data"?e.filter((p,y)=>{let g=a.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,y)||h(p,y))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function BT(n,e,{includeHydrateFallback:r}={}){return PT(n.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function PT(n){return[...new Set(n)]}function $T(n){let e={},r=Object.keys(n).sort();for(let a of r)e[a]=n[a];return e}function VT(n,e){let r=new Set;return new Set(e),n.reduce((a,o)=>{let u=JSON.stringify($T(o));return r.has(u)||(r.add(u),a.push({key:u,link:o})),a},[])}function o_(){let n=N.useContext(hi);return vf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function HT(){let n=N.useContext(Vu);return vf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var bf=N.createContext(void 0);bf.displayName="FrameworkContext";function u_(){let n=N.useContext(bf);return vf(n,"You must render this element inside a <HydratedRouter> element"),n}function IT(n,e){let r=N.useContext(bf),[a,o]=N.useState(!1),[u,c]=N.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:y,onMouseLeave:g,onTouchStart:_}=e,w=N.useRef(null);N.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let E=L=>{L.forEach(C=>{c(C.isIntersecting)})},O=new IntersectionObserver(E,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[n]),N.useEffect(()=>{if(a){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[a]);let x=()=>{o(!0)},A=()=>{o(!1),c(!1)};return r?n!=="intent"?[u,w,{}]:[u,w,{onFocus:_l(h,x),onBlur:_l(p,A),onMouseEnter:_l(y,x),onMouseLeave:_l(g,A),onTouchStart:_l(_,x)}]:[!1,w,{}]}function _l(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function GT({page:n,...e}){let{router:r}=o_(),a=N.useMemo(()=>Zb(r.routes,n,r.basename),[r.routes,n,r.basename]);return a?N.createElement(FT,{page:n,matches:a,...e}):null}function KT(n){let{manifest:e,routeModules:r}=u_(),[a,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return zT(n,e,r).then(c=>{u||o(c)}),()=>{u=!0}},[n,e,r]),a}function FT({page:n,matches:e,...r}){let a=wr(),{future:o,manifest:u,routeModules:c}=u_(),{basename:h}=o_(),{loaderData:p,matches:y}=HT(),g=N.useMemo(()=>Dv(n,e,y,u,a,"data"),[n,e,y,u,a]),_=N.useMemo(()=>Dv(n,e,y,u,a,"assets"),[n,e,y,u,a]),w=N.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let E=new Set,O=!1;if(e.forEach(C=>{let D=u.routes[C.route.id];!D||!D.hasLoader||(!g.some(Z=>Z.route.id===C.route.id)&&C.route.id in p&&c[C.route.id]?.shouldRevalidate||D.hasClientLoader?O=!0:E.add(C.route.id))}),E.size===0)return[];let L=MT(n,h,o.unstable_trailingSlashAwareDataRequests,"data");return O&&E.size>0&&L.searchParams.set("_routes",e.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[L.pathname+L.search]},[h,o.unstable_trailingSlashAwareDataRequests,p,a,u,g,e,n,c]),x=N.useMemo(()=>BT(_,u),[_,u]),A=KT(_);return N.createElement(N.Fragment,null,w.map(E=>N.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),x.map(E=>N.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),A.map(({key:E,link:O})=>N.createElement("link",{key:E,nonce:r.nonce,...O,crossOrigin:O.crossOrigin??r.crossOrigin})))}function QT(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var ZT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZT&&(window.__reactRouterVersion="7.13.0")}catch{}function YT({basename:n,children:e,unstable_useTransitions:r,window:a}){let o=N.useRef();o.current==null&&(o.current=R1({window:a,v5Compat:!0}));let u=o.current,[c,h]=N.useState({action:u.action,location:u.location}),p=N.useCallback(y=>{r===!1?h(y):N.startTransition(()=>h(y))},[r]);return N.useLayoutEffect(()=>u.listen(p),[u,p]),N.createElement(jT,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:r})}var c_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lt=N.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:o,reloadDocument:u,replace:c,state:h,target:p,to:y,preventScrollReset:g,viewTransition:_,unstable_defaultShouldRevalidate:w,...x},A){let{basename:E,unstable_useTransitions:O}=N.useContext(kn),L=typeof y=="string"&&c_.test(y),C=Wb(y,E);y=C.to;let D=oT(y,{relative:o}),[Z,K,ie]=IT(a,x),ce=WT(y,{replace:c,state:h,target:p,preventScrollReset:g,relative:o,viewTransition:_,unstable_defaultShouldRevalidate:w,unstable_useTransitions:O});function F($e){e&&e($e),$e.defaultPrevented||ce($e)}let be=N.createElement("a",{...x,...ie,href:C.absoluteURL||D,onClick:C.isExternal||u?e:F,ref:QT(A,K),target:p,"data-discover":!L&&r==="render"?"true":void 0});return Z&&!L?N.createElement(N.Fragment,null,be,N.createElement(GT,{page:D})):be});lt.displayName="Link";var d_=N.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:o=!1,style:u,to:c,viewTransition:h,children:p,...y},g){let _=Il(c,{relative:y.relative}),w=wr(),x=N.useContext(Vu),{navigator:A,basename:E}=N.useContext(kn),O=x!=null&&rA(_)&&h===!0,L=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,C=w.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(C=C.toLowerCase(),D=D?D.toLowerCase():null,L=L.toLowerCase()),D&&E&&(D=Bs(D,E)||D);const Z=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let K=C===L||!o&&C.startsWith(L)&&C.charAt(Z)==="/",ie=D!=null&&(D===L||!o&&D.startsWith(L)&&D.charAt(L.length)==="/"),ce={isActive:K,isPending:ie,isTransitioning:O},F=K?e:void 0,be;typeof a=="function"?be=a(ce):be=[a,K?"active":null,ie?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let $e=typeof u=="function"?u(ce):u;return N.createElement(lt,{...y,"aria-current":F,className:be,ref:g,style:$e,to:c,viewTransition:h},typeof p=="function"?p(ce):p)});d_.displayName="NavLink";var XT=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:o,state:u,method:c=bu,action:h,onSubmit:p,relative:y,preventScrollReset:g,viewTransition:_,unstable_defaultShouldRevalidate:w,...x},A)=>{let{unstable_useTransitions:E}=N.useContext(kn),O=nA(),L=sA(h,{relative:y}),C=c.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&c_.test(h),Z=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let ie=K.nativeEvent.submitter,ce=ie?.getAttribute("formmethod")||c,F=()=>O(ie||K.currentTarget,{fetcherKey:e,method:ce,navigate:r,replace:o,state:u,relative:y,preventScrollReset:g,viewTransition:_,unstable_defaultShouldRevalidate:w});E&&r!==!1?N.startTransition(()=>F()):F()};return N.createElement("form",{ref:A,method:C,action:L,onSubmit:a?p:Z,...x,"data-discover":!D&&n==="render"?"true":void 0})});XT.displayName="Form";function JT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(n){let e=N.useContext(hi);return pt(e,JT(n)),e}function WT(n,{target:e,replace:r,state:a,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:p}={}){let y=ls(),g=wr(),_=Il(n,{relative:u});return N.useCallback(w=>{if(kT(w,e)){w.preventDefault();let x=r!==void 0?r:Bl(g)===Bl(_),A=()=>y(n,{replace:x,state:a,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:h});p?N.startTransition(()=>A()):A()}},[g,y,_,r,a,e,n,o,u,c,h,p])}var eA=0,tA=()=>`__${String(++eA)}__`;function nA(){let{router:n}=h_("useSubmit"),{basename:e}=N.useContext(kn),r=wT(),a=n.fetch,o=n.navigate;return N.useCallback(async(u,c={})=>{let{action:h,method:p,encType:y,formData:g,body:_}=UT(u,e);if(c.navigate===!1){let w=c.fetcherKey||tA();await a(w,r,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:_,formMethod:c.method||p,formEncType:c.encType||y,flushSync:c.flushSync})}else await o(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:_,formMethod:c.method||p,formEncType:c.encType||y,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,o,e,r])}function sA(n,{relative:e}={}){let{basename:r}=N.useContext(kn),a=N.useContext(Qn);pt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Il(n||".",{relative:e})},c=wr();if(n==null){u.search=c.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(g=>g==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();u.search=g?`?${g}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Ls([r,u.pathname])),Bl(u)}function rA(n,{relative:e}={}){let r=N.useContext(t_);pt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=h_("useViewTransitionState"),o=Il(n,{relative:e});if(!r.isTransitioning)return!1;let u=Bs(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=Bs(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Du(o.pathname,c)!=null||Du(o.pathname,u)!=null}const aA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),Uv=n=>{const e=iA(n);return e.charAt(0).toUpperCase()+e.slice(1)},f_=(...n)=>n.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),lA=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var oA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uA=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:c,...h},p)=>N.createElement("svg",{ref:p,...oA,width:e,height:e,stroke:n,strokeWidth:a?Number(r)*24/Number(e):r,className:f_("lucide",o),...!u&&!lA(h)&&{"aria-hidden":"true"},...h},[...c.map(([y,g])=>N.createElement(y,g)),...Array.isArray(u)?u:[u]]));const vn=(n,e)=>{const r=N.forwardRef(({className:a,...o},u)=>N.createElement(uA,{ref:u,iconNode:e,className:f_(`lucide-${aA(Uv(n))}`,`lucide-${n}`,a),...o}));return r.displayName=Uv(n),r};const cA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pi=vn("arrow-left",cA);const dA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hA=vn("check",dA);const fA=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],_f=vn("layout-grid",fA);const mA=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],wf=vn("list",mA);const pA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jt=vn("loader-circle",pA);const yA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],m_=vn("log-out",yA);const gA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Iu=vn("pencil",gA);const vA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wr=vn("plus",vA);const bA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xf=vn("search",bA);const _A=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Sf=vn("trash-2",_A);const wA=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],xA=vn("truck",wA);const SA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],EA=vn("users",SA);const jA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],TA=vn("x",jA);const AA=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],RA=vn("wrench",AA);function OA(){const{isAuthenticated:n,isLoading:e}=$u();return e?m.jsx("div",{className:"flex h-screen items-center justify-center",children:m.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n?m.jsx(gf,{}):m.jsx(yf,{to:"/login",replace:!0})}function NA(){const{isAuthenticated:n,isLoading:e}=$u();return e?m.jsx("div",{className:"flex h-screen items-center justify-center",children:m.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n?m.jsx(yf,{to:"/home",replace:!0}):m.jsx(gf,{})}function p_(n){var e,r,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(r=p_(n[e]))&&(a&&(a+=" "),a+=r)}else for(r in n)n[r]&&(a&&(a+=" "),a+=r);return a}function y_(){for(var n,e,r=0,a="",o=arguments.length;r<o;r++)(n=arguments[r])&&(e=p_(n))&&(a&&(a+=" "),a+=e);return a}const Mv=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,qv=y_,g_=(n,e)=>r=>{var a;if(e?.variants==null)return qv(n,r?.class,r?.className);const{variants:o,defaultVariants:u}=e,c=Object.keys(o).map(y=>{const g=r?.[y],_=u?.[y];if(g===null)return null;const w=Mv(g)||Mv(_);return o[y][w]}),h=r&&Object.entries(r).reduce((y,g)=>{let[_,w]=g;return w===void 0||(y[_]=w),y},{}),p=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((y,g)=>{let{class:_,className:w,...x}=g;return Object.entries(x).every(A=>{let[E,O]=A;return Array.isArray(O)?O.includes({...u,...h}[E]):{...u,...h}[E]===O})?[...y,_,w]:y},[]);return qv(n,c,p,r?.class,r?.className)},kA=(n,e)=>{const r=new Array(n.length+e.length);for(let a=0;a<n.length;a++)r[a]=n[a];for(let a=0;a<e.length;a++)r[n.length+a]=e[a];return r},CA=(n,e)=>({classGroupId:n,validator:e}),v_=(n=new Map,e=null,r)=>({nextPart:n,validators:e,classGroupId:r}),Uu="-",Lv=[],DA="arbitrary..",UA=n=>{const e=qA(n),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=n;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return MA(c);const h=c.split(Uu),p=h[0]===""&&h.length>1?1:0;return b_(h,p,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const p=a[c],y=r[c];return p?y?kA(y,p):p:y||Lv}return r[c]||Lv}}},b_=(n,e,r)=>{if(n.length-e===0)return r.classGroupId;const o=n[e],u=r.nextPart.get(o);if(u){const y=b_(n,e+1,u);if(y)return y}const c=r.validators;if(c===null)return;const h=e===0?n.join(Uu):n.slice(e).join(Uu),p=c.length;for(let y=0;y<p;y++){const g=c[y];if(g.validator(h))return g.classGroupId}},MA=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),r=e.indexOf(":"),a=e.slice(0,r);return a?DA+a:void 0})(),qA=n=>{const{theme:e,classGroups:r}=n;return LA(r,e)},LA=(n,e)=>{const r=v_();for(const a in n){const o=n[a];Ef(o,r,a,e)}return r},Ef=(n,e,r,a)=>{const o=n.length;for(let u=0;u<o;u++){const c=n[u];zA(c,e,r,a)}},zA=(n,e,r,a)=>{if(typeof n=="string"){BA(n,e,r);return}if(typeof n=="function"){PA(n,e,r,a);return}$A(n,e,r,a)},BA=(n,e,r)=>{const a=n===""?e:__(e,n);a.classGroupId=r},PA=(n,e,r,a)=>{if(VA(n)){Ef(n(a),e,r,a);return}e.validators===null&&(e.validators=[]),e.validators.push(CA(r,n))},$A=(n,e,r,a)=>{const o=Object.entries(n),u=o.length;for(let c=0;c<u;c++){const[h,p]=o[c];Ef(p,__(e,h),r,a)}},__=(n,e)=>{let r=n;const a=e.split(Uu),o=a.length;for(let u=0;u<o;u++){const c=a[u];let h=r.nextPart.get(c);h||(h=v_(),r.nextPart.set(c,h)),r=h}return r},VA=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,HA=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),a=Object.create(null);const o=(u,c)=>{r[u]=c,e++,e>n&&(e=0,a=r,r=Object.create(null))};return{get(u){let c=r[u];if(c!==void 0)return c;if((c=a[u])!==void 0)return o(u,c),c},set(u,c){u in r?r[u]=c:o(u,c)}}},Xh="!",zv=":",IA=[],Bv=(n,e,r,a,o)=>({modifiers:n,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:a,isExternal:o}),GA=n=>{const{prefix:e,experimentalParseClassName:r}=n;let a=o=>{const u=[];let c=0,h=0,p=0,y;const g=o.length;for(let E=0;E<g;E++){const O=o[E];if(c===0&&h===0){if(O===zv){u.push(o.slice(p,E)),p=E+1;continue}if(O==="/"){y=E;continue}}O==="["?c++:O==="]"?c--:O==="("?h++:O===")"&&h--}const _=u.length===0?o:o.slice(p);let w=_,x=!1;_.endsWith(Xh)?(w=_.slice(0,-1),x=!0):_.startsWith(Xh)&&(w=_.slice(1),x=!0);const A=y&&y>p?y-p:void 0;return Bv(u,x,w,A)};if(e){const o=e+zv,u=a;a=c=>c.startsWith(o)?u(c.slice(o.length)):Bv(IA,!1,c,void 0,!0)}if(r){const o=a;a=u=>r({className:u,parseClassName:o})}return a},KA=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((r,a)=>{e.set(r,1e6+a)}),r=>{const a=[];let o=[];for(let u=0;u<r.length;u++){const c=r[u],h=c[0]==="[",p=e.has(c);h||p?(o.length>0&&(o.sort(),a.push(...o),o=[]),a.push(c)):o.push(c)}return o.length>0&&(o.sort(),a.push(...o)),a}},FA=n=>({cache:HA(n.cacheSize),parseClassName:GA(n),sortModifiers:KA(n),...UA(n)}),QA=/\s+/,ZA=(n,e)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:u}=e,c=[],h=n.trim().split(QA);let p="";for(let y=h.length-1;y>=0;y-=1){const g=h[y],{isExternal:_,modifiers:w,hasImportantModifier:x,baseClassName:A,maybePostfixModifierPosition:E}=r(g);if(_){p=g+(p.length>0?" "+p:p);continue}let O=!!E,L=a(O?A.substring(0,E):A);if(!L){if(!O){p=g+(p.length>0?" "+p:p);continue}if(L=a(A),!L){p=g+(p.length>0?" "+p:p);continue}O=!1}const C=w.length===0?"":w.length===1?w[0]:u(w).join(":"),D=x?C+Xh:C,Z=D+L;if(c.indexOf(Z)>-1)continue;c.push(Z);const K=o(L,O);for(let ie=0;ie<K.length;++ie){const ce=K[ie];c.push(D+ce)}p=g+(p.length>0?" "+p:p)}return p},YA=(...n)=>{let e=0,r,a,o="";for(;e<n.length;)(r=n[e++])&&(a=w_(r))&&(o&&(o+=" "),o+=a);return o},w_=n=>{if(typeof n=="string")return n;let e,r="";for(let a=0;a<n.length;a++)n[a]&&(e=w_(n[a]))&&(r&&(r+=" "),r+=e);return r},XA=(n,...e)=>{let r,a,o,u;const c=p=>{const y=e.reduce((g,_)=>_(g),n());return r=FA(y),a=r.cache.get,o=r.cache.set,u=h,h(p)},h=p=>{const y=a(p);if(y)return y;const g=ZA(p,r);return o(p,g),g};return u=c,(...p)=>u(YA(...p))},JA=[],qt=n=>{const e=r=>r[n]||JA;return e.isThemeGetter=!0,e},x_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,S_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,WA=/^\d+\/\d+$/,eR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,sR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Za=n=>WA.test(n),Ue=n=>!!n&&!Number.isNaN(Number(n)),hr=n=>!!n&&Number.isInteger(Number(n)),Sh=n=>n.endsWith("%")&&Ue(n.slice(0,-1)),Ds=n=>eR.test(n),aR=()=>!0,iR=n=>tR.test(n)&&!nR.test(n),E_=()=>!1,lR=n=>sR.test(n),oR=n=>rR.test(n),uR=n=>!he(n)&&!fe(n),cR=n=>yi(n,A_,E_),he=n=>x_.test(n),$r=n=>yi(n,R_,iR),Eh=n=>yi(n,pR,Ue),Pv=n=>yi(n,j_,E_),dR=n=>yi(n,T_,oR),yu=n=>yi(n,O_,lR),fe=n=>S_.test(n),wl=n=>gi(n,R_),hR=n=>gi(n,yR),$v=n=>gi(n,j_),fR=n=>gi(n,A_),mR=n=>gi(n,T_),gu=n=>gi(n,O_,!0),yi=(n,e,r)=>{const a=x_.exec(n);return a?a[1]?e(a[1]):r(a[2]):!1},gi=(n,e,r=!1)=>{const a=S_.exec(n);return a?a[1]?e(a[1]):r:!1},j_=n=>n==="position"||n==="percentage",T_=n=>n==="image"||n==="url",A_=n=>n==="length"||n==="size"||n==="bg-size",R_=n=>n==="length",pR=n=>n==="number",yR=n=>n==="family-name",O_=n=>n==="shadow",gR=()=>{const n=qt("color"),e=qt("font"),r=qt("text"),a=qt("font-weight"),o=qt("tracking"),u=qt("leading"),c=qt("breakpoint"),h=qt("container"),p=qt("spacing"),y=qt("radius"),g=qt("shadow"),_=qt("inset-shadow"),w=qt("text-shadow"),x=qt("drop-shadow"),A=qt("blur"),E=qt("perspective"),O=qt("aspect"),L=qt("ease"),C=qt("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],K=()=>[...Z(),fe,he],ie=()=>["auto","hidden","clip","visible","scroll"],ce=()=>["auto","contain","none"],F=()=>[fe,he,p],be=()=>[Za,"full","auto",...F()],$e=()=>[hr,"none","subgrid",fe,he],vt=()=>["auto",{span:["full",hr,fe,he]},hr,fe,he],ue=()=>[hr,"auto",fe,he],te=()=>["auto","min","max","fr",fe,he],Te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Oe=()=>["start","end","center","stretch","center-safe","end-safe"],P=()=>["auto",...F()],X=()=>[Za,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],Q=()=>[n,fe,he],Pe=()=>[...Z(),$v,Pv,{position:[fe,he]}],T=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",fR,cR,{size:[fe,he]}],se=()=>[Sh,wl,$r],W=()=>["","none","full",y,fe,he],le=()=>["",Ue,wl,$r],Ce=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ge=()=>[Ue,Sh,$v,Pv],et=()=>["","none",A,fe,he],Wt=()=>["none",Ue,fe,he],Un=()=>["none",Ue,fe,he],Mn=()=>[Ue,fe,he],os=()=>[Za,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ds],breakpoint:[Ds],color:[aR],container:[Ds],"drop-shadow":[Ds],ease:["in","out","in-out"],font:[uR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ds],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ds],shadow:[Ds],spacing:["px",Ue],text:[Ds],"text-shadow":[Ds],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Za,he,fe,O]}],container:["container"],columns:[{columns:[Ue,he,fe,h]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:K()}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:ce()}],"overscroll-x":[{"overscroll-x":ce()}],"overscroll-y":[{"overscroll-y":ce()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:be()}],"inset-x":[{"inset-x":be()}],"inset-y":[{"inset-y":be()}],start:[{start:be()}],end:[{end:be()}],top:[{top:be()}],right:[{right:be()}],bottom:[{bottom:be()}],left:[{left:be()}],visibility:["visible","invisible","collapse"],z:[{z:[hr,"auto",fe,he]}],basis:[{basis:[Za,"full","auto",h,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,Za,"auto","initial","none",he]}],grow:[{grow:["",Ue,fe,he]}],shrink:[{shrink:["",Ue,fe,he]}],order:[{order:[hr,"first","last","none",fe,he]}],"grid-cols":[{"grid-cols":$e()}],"col-start-end":[{col:vt()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":$e()}],"row-start-end":[{row:vt()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":te()}],"auto-rows":[{"auto-rows":te()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...Te(),"normal"]}],"justify-items":[{"justify-items":[...Oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Oe()]}],"align-content":[{content:["normal",...Te()]}],"align-items":[{items:[...Oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Te()}],"place-items":[{"place-items":[...Oe(),"baseline"]}],"place-self":[{"place-self":["auto",...Oe()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:P()}],mx:[{mx:P()}],my:[{my:P()}],ms:[{ms:P()}],me:[{me:P()}],mt:[{mt:P()}],mr:[{mr:P()}],mb:[{mb:P()}],ml:[{ml:P()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[h,"screen",...X()]}],"min-w":[{"min-w":[h,"screen","none",...X()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",r,wl,$r]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,fe,Eh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Sh,he]}],"font-family":[{font:[hR,he,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,fe,he]}],"line-clamp":[{"line-clamp":[Ue,"none",fe,Eh]}],leading:[{leading:[u,...F()]}],"list-image":[{"list-image":["none",fe,he]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",fe,he]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",fe,$r]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Ue,"auto",fe,he]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe,he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe,he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Pe()}],"bg-repeat":[{bg:T()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},hr,fe,he],radial:["",fe,he],conic:[hr,fe,he]},mR,dR]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ce(),"hidden","none"]}],"divide-style":[{divide:[...Ce(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...Ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,fe,he]}],"outline-w":[{outline:["",Ue,wl,$r]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",g,gu,yu]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",_,gu,yu]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Ue,$r]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",w,gu,yu]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Ue,fe,he]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ge()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":Ge()}],"mask-image-t-to-pos":[{"mask-t-to":Ge()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":Ge()}],"mask-image-r-to-pos":[{"mask-r-to":Ge()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":Ge()}],"mask-image-b-to-pos":[{"mask-b-to":Ge()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":Ge()}],"mask-image-l-to-pos":[{"mask-l-to":Ge()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":Ge()}],"mask-image-x-to-pos":[{"mask-x-to":Ge()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":Ge()}],"mask-image-y-to-pos":[{"mask-y-to":Ge()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[fe,he]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ge()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Z()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ge()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Pe()}],"mask-repeat":[{mask:T()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",fe,he]}],filter:[{filter:["","none",fe,he]}],blur:[{blur:et()}],brightness:[{brightness:[Ue,fe,he]}],contrast:[{contrast:[Ue,fe,he]}],"drop-shadow":[{"drop-shadow":["","none",x,gu,yu]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Ue,fe,he]}],"hue-rotate":[{"hue-rotate":[Ue,fe,he]}],invert:[{invert:["",Ue,fe,he]}],saturate:[{saturate:[Ue,fe,he]}],sepia:[{sepia:["",Ue,fe,he]}],"backdrop-filter":[{"backdrop-filter":["","none",fe,he]}],"backdrop-blur":[{"backdrop-blur":et()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,fe,he]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,fe,he]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,fe,he]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,fe,he]}],"backdrop-invert":[{"backdrop-invert":["",Ue,fe,he]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,fe,he]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,fe,he]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,fe,he]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",fe,he]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",fe,he]}],ease:[{ease:["linear","initial",L,fe,he]}],delay:[{delay:[Ue,fe,he]}],animate:[{animate:["none",C,fe,he]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,fe,he]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:Wt()}],"rotate-x":[{"rotate-x":Wt()}],"rotate-y":[{"rotate-y":Wt()}],"rotate-z":[{"rotate-z":Wt()}],scale:[{scale:Un()}],"scale-x":[{"scale-x":Un()}],"scale-y":[{"scale-y":Un()}],"scale-z":[{"scale-z":Un()}],"scale-3d":["scale-3d"],skew:[{skew:Mn()}],"skew-x":[{"skew-x":Mn()}],"skew-y":[{"skew-y":Mn()}],transform:[{transform:[fe,he,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:os()}],"translate-x":[{"translate-x":os()}],"translate-y":[{"translate-y":os()}],"translate-z":[{"translate-z":os()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe,he]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe,he]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Ue,wl,$r,Eh]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},vR=XA(gR);function Ie(...n){return vR(y_(n))}const sn=g_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),mt=N.forwardRef(({className:n,variant:e,size:r,...a},o)=>m.jsx("button",{className:Ie(sn({variant:e,size:r,className:n})),ref:o,...a}));mt.displayName="Button";const bR=[{to:"/equipment",label:"Equipment",icon:RA},{to:"/suppliers",label:"Suppliers",icon:xA},{to:"/partners",label:"Partners",icon:EA}];function _R(){const n=ls(),{isAuthenticated:e}=$u(),{data:r}=Bb(e),a=zb(),o=r?.data??null;async function u(){await a.mutateAsync(),n("/login",{replace:!0})}return m.jsxs("div",{className:"flex h-screen",children:[m.jsxs("aside",{className:"flex w-56 flex-col border-r bg-muted/40",children:[m.jsx("div",{className:"flex h-14 items-center border-b px-4",children:m.jsx("span",{className:"text-sm font-semibold tracking-tight",children:"geoWorks"})}),m.jsx("nav",{className:"flex-1 space-y-1 p-2",children:bR.map(({to:c,label:h,icon:p})=>m.jsxs(d_,{to:c,className:({isActive:y})=>Ie("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",y?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[m.jsx(p,{className:"h-4 w-4"}),h]},c))}),m.jsxs("div",{className:"border-t p-4",children:[m.jsx("p",{className:"mb-2 truncate text-xs text-muted-foreground",children:o?.full_name??"User"}),m.jsxs(mt,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:u,disabled:a.isPending,children:[a.isPending?m.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):m.jsx(m_,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]}),m.jsx("main",{className:"flex-1 overflow-auto",children:m.jsx(gf,{})})]})}var Gl=n=>n.type==="checkbox",Fr=n=>n instanceof Date,gn=n=>n==null;const N_=n=>typeof n=="object";var Dt=n=>!gn(n)&&!Array.isArray(n)&&N_(n)&&!Fr(n),wR=n=>Dt(n)&&n.target?Gl(n.target)?n.target.checked:n.target.value:n,xR=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,SR=(n,e)=>n.has(xR(e)),ER=n=>{const e=n.constructor&&n.constructor.prototype;return Dt(e)&&e.hasOwnProperty("isPrototypeOf")},jf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lt(n){if(n instanceof Date)return new Date(n);const e=typeof FileList<"u"&&n instanceof FileList;if(jf&&(n instanceof Blob||e))return n;const r=Array.isArray(n);if(!r&&!(Dt(n)&&ER(n)))return n;const a=r?[]:Object.create(Object.getPrototypeOf(n));for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(a[o]=Lt(n[o]));return a}var Gu=n=>/^\w*$/.test(n),gt=n=>n===void 0,Tf=n=>Array.isArray(n)?n.filter(Boolean):[],Af=n=>Tf(n.replace(/["|']|\]/g,"").split(/\.|\[/)),me=(n,e,r)=>{if(!e||!Dt(n))return r;const a=(Gu(e)?[e]:Af(e)).reduce((o,u)=>gn(o)?o:o[u],n);return gt(a)||a===n?gt(n[e])?r:n[e]:a},ps=n=>typeof n=="boolean",ns=n=>typeof n=="function",ut=(n,e,r)=>{let a=-1;const o=Gu(e)?[e]:Af(e),u=o.length,c=u-1;for(;++a<u;){const h=o[a];let p=r;if(a!==c){const y=n[h];p=Dt(y)||Array.isArray(y)?y:isNaN(+o[a+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;n[h]=p,n=n[h]}};const Vv={BLUR:"blur",FOCUS_OUT:"focusout"},ss={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Us={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},jR=un.createContext(null);jR.displayName="HookFormControlContext";var TR=(n,e,r,a=!0)=>{const o={defaultValues:e._defaultValues};for(const u in n)Object.defineProperty(o,u,{get:()=>{const c=u;return e._proxyFormState[c]!==ss.all&&(e._proxyFormState[c]=!a||ss.all),n[c]}});return o};const AR=typeof window<"u"?un.useLayoutEffect:un.useEffect;var Rn=n=>typeof n=="string",RR=(n,e,r,a,o)=>Rn(n)?(a&&e.watch.add(n),me(r,n,o)):Array.isArray(n)?n.map(u=>(a&&e.watch.add(u),me(r,u))):(a&&(e.watchAll=!0),r),Jh=n=>gn(n)||!N_(n);function yr(n,e,r=new WeakSet){if(Jh(n)||Jh(e))return Object.is(n,e);if(Fr(n)&&Fr(e))return Object.is(n.getTime(),e.getTime());const a=Object.keys(n),o=Object.keys(e);if(a.length!==o.length)return!1;if(r.has(n)||r.has(e))return!0;r.add(n),r.add(e);for(const u of a){const c=n[u];if(!o.includes(u))return!1;if(u!=="ref"){const h=e[u];if(Fr(c)&&Fr(h)||Dt(c)&&Dt(h)||Array.isArray(c)&&Array.isArray(h)?!yr(c,h,r):!Object.is(c,h))return!1}}return!0}const OR=un.createContext(null);OR.displayName="HookFormContext";var Rf=(n,e,r,a,o)=>e?{...r[n],types:{...r[n]&&r[n].types?r[n].types:{},[a]:o||!0}}:{},Al=n=>Array.isArray(n)?n:[n],Hv=()=>{let n=[];return{get observers(){return n},next:o=>{for(const u of n)u.next&&u.next(o)},subscribe:o=>(n.push(o),{unsubscribe:()=>{n=n.filter(u=>u!==o)}}),unsubscribe:()=>{n=[]}}};function k_(n,e){const r={};for(const a in n)if(n.hasOwnProperty(a)){const o=n[a],u=e[a];if(o&&Dt(o)&&u){const c=k_(o,u);Dt(c)&&(r[a]=c)}else n[a]&&(r[a]=u)}return r}var cn=n=>Dt(n)&&!Object.keys(n).length,Of=n=>n.type==="file",Mu=n=>{if(!jf)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},C_=n=>n.type==="select-multiple",Nf=n=>n.type==="radio",NR=n=>Nf(n)||Gl(n),jh=n=>Mu(n)&&n.isConnected;function kR(n,e){const r=e.slice(0,-1).length;let a=0;for(;a<r;)n=gt(n)?a++:n[e[a++]];return n}function CR(n){for(const e in n)if(n.hasOwnProperty(e)&&!gt(n[e]))return!1;return!0}function Ot(n,e){const r=Array.isArray(e)?e:Gu(e)?[e]:Af(e),a=r.length===1?n:kR(n,r),o=r.length-1,u=r[o];return a&&delete a[u],o!==0&&(Dt(a)&&cn(a)||Array.isArray(a)&&CR(a))&&Ot(n,r.slice(0,-1)),n}var DR=n=>{for(const e in n)if(ns(n[e]))return!0;return!1};function D_(n){return Array.isArray(n)||Dt(n)&&!DR(n)}function Wh(n,e={}){for(const r in n){const a=n[r];D_(a)?(e[r]=Array.isArray(a)?[]:{},Wh(a,e[r])):gt(a)||(e[r]=!0)}return e}function ti(n,e,r){r||(r=Wh(e));for(const a in n){const o=n[a];if(D_(o))gt(e)||Jh(r[a])?r[a]=Wh(o,Array.isArray(o)?[]:{}):ti(o,gn(e)?{}:e[a],r[a]);else{const u=e[a];r[a]=!yr(o,u)}}return r}const Iv={value:!1,isValid:!1},Gv={value:!0,isValid:!0};var U_=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!gt(n[0].attributes.value)?gt(n[0].value)||n[0].value===""?Gv:{value:n[0].value,isValid:!0}:Gv:Iv}return Iv},M_=(n,{valueAsNumber:e,valueAsDate:r,setValueAs:a})=>gt(n)?n:e?n===""?NaN:n&&+n:r&&Rn(n)?new Date(n):a?a(n):n;const Kv={isValid:!1,value:null};var q_=n=>Array.isArray(n)?n.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Kv):Kv;function Fv(n){const e=n.ref;return Of(e)?e.files:Nf(e)?q_(n.refs).value:C_(e)?[...e.selectedOptions].map(({value:r})=>r):Gl(e)?U_(n.refs).value:M_(gt(e.value)?n.ref.value:e.value,n)}var UR=(n,e,r,a)=>{const o={};for(const u of n){const c=me(e,u);c&&ut(o,u,c._f)}return{criteriaMode:r,names:[...n],fields:o,shouldUseNativeValidation:a}},qu=n=>n instanceof RegExp,xl=n=>gt(n)?n:qu(n)?n.source:Dt(n)?qu(n.value)?n.value.source:n.value:n,Qv=n=>({isOnSubmit:!n||n===ss.onSubmit,isOnBlur:n===ss.onBlur,isOnChange:n===ss.onChange,isOnAll:n===ss.all,isOnTouch:n===ss.onTouched});const Zv="AsyncFunction";var MR=n=>!!n&&!!n.validate&&!!(ns(n.validate)&&n.validate.constructor.name===Zv||Dt(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===Zv)),qR=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),Yv=(n,e,r)=>!r&&(e.watchAll||e.watch.has(n)||[...e.watch].some(a=>n.startsWith(a)&&/^\.\w+/.test(n.slice(a.length))));const Rl=(n,e,r,a)=>{for(const o of r||Object.keys(n)){const u=me(n,o);if(u){const{_f:c,...h}=u;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],o)&&!a)return!0;if(c.ref&&e(c.ref,c.name)&&!a)return!0;if(Rl(h,e))break}else if(Dt(h)&&Rl(h,e))break}}};function Xv(n,e,r){const a=me(n,r);if(a||Gu(r))return{error:a,name:r};const o=r.split(".");for(;o.length;){const u=o.join("."),c=me(e,u),h=me(n,u);if(c&&!Array.isArray(c)&&r!==u)return{name:r};if(h&&h.type)return{name:u,error:h};if(h&&h.root&&h.root.type)return{name:`${u}.root`,error:h.root};o.pop()}return{name:r}}var LR=(n,e,r,a)=>{r(n);const{name:o,...u}=n;return cn(u)||Object.keys(u).length>=Object.keys(e).length||Object.keys(u).find(c=>e[c]===(!a||ss.all))},zR=(n,e,r)=>!n||!e||n===e||Al(n).some(a=>a&&(r?a===e:a.startsWith(e)||e.startsWith(a))),BR=(n,e,r,a,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||n):(r?a.isOnBlur:o.isOnBlur)?!n:(r?a.isOnChange:o.isOnChange)?n:!0,PR=(n,e)=>!Tf(me(n,e)).length&&Ot(n,e),$R=(n,e,r)=>{const a=Al(me(n,r));return ut(a,"root",e[r]),ut(n,r,a),n};function Jv(n,e,r="validate"){if(Rn(n)||Array.isArray(n)&&n.every(Rn)||ps(n)&&!n)return{type:r,message:Rn(n)?n:"",ref:e}}var Ya=n=>Dt(n)&&!qu(n)?n:{value:n,message:""},Wv=async(n,e,r,a,o,u)=>{const{ref:c,refs:h,required:p,maxLength:y,minLength:g,min:_,max:w,pattern:x,validate:A,name:E,valueAsNumber:O,mount:L}=n._f,C=me(r,E);if(!L||e.has(E))return{};const D=h?h[0]:c,Z=ue=>{o&&D.reportValidity&&(D.setCustomValidity(ps(ue)?"":ue||""),D.reportValidity())},K={},ie=Nf(c),ce=Gl(c),F=ie||ce,be=(O||Of(c))&&gt(c.value)&&gt(C)||Mu(c)&&c.value===""||C===""||Array.isArray(C)&&!C.length,$e=Rf.bind(null,E,a,K),vt=(ue,te,Te,Oe=Us.maxLength,P=Us.minLength)=>{const X=ue?te:Te;K[E]={type:ue?Oe:P,message:X,ref:c,...$e(ue?Oe:P,X)}};if(u?!Array.isArray(C)||!C.length:p&&(!F&&(be||gn(C))||ps(C)&&!C||ce&&!U_(h).isValid||ie&&!q_(h).isValid)){const{value:ue,message:te}=Rn(p)?{value:!!p,message:p}:Ya(p);if(ue&&(K[E]={type:Us.required,message:te,ref:D,...$e(Us.required,te)},!a))return Z(te),K}if(!be&&(!gn(_)||!gn(w))){let ue,te;const Te=Ya(w),Oe=Ya(_);if(!gn(C)&&!isNaN(C)){const P=c.valueAsNumber||C&&+C;gn(Te.value)||(ue=P>Te.value),gn(Oe.value)||(te=P<Oe.value)}else{const P=c.valueAsDate||new Date(C),X=T=>new Date(new Date().toDateString()+" "+T),Q=c.type=="time",Pe=c.type=="week";Rn(Te.value)&&C&&(ue=Q?X(C)>X(Te.value):Pe?C>Te.value:P>new Date(Te.value)),Rn(Oe.value)&&C&&(te=Q?X(C)<X(Oe.value):Pe?C<Oe.value:P<new Date(Oe.value))}if((ue||te)&&(vt(!!ue,Te.message,Oe.message,Us.max,Us.min),!a))return Z(K[E].message),K}if((y||g)&&!be&&(Rn(C)||u&&Array.isArray(C))){const ue=Ya(y),te=Ya(g),Te=!gn(ue.value)&&C.length>+ue.value,Oe=!gn(te.value)&&C.length<+te.value;if((Te||Oe)&&(vt(Te,ue.message,te.message),!a))return Z(K[E].message),K}if(x&&!be&&Rn(C)){const{value:ue,message:te}=Ya(x);if(qu(ue)&&!C.match(ue)&&(K[E]={type:Us.pattern,message:te,ref:c,...$e(Us.pattern,te)},!a))return Z(te),K}if(A){if(ns(A)){const ue=await A(C,r),te=Jv(ue,D);if(te&&(K[E]={...te,...$e(Us.validate,te.message)},!a))return Z(te.message),K}else if(Dt(A)){let ue={};for(const te in A){if(!cn(ue)&&!a)break;const Te=Jv(await A[te](C,r),D,te);Te&&(ue={...Te,...$e(te,Te.message)},Z(Te.message),a&&(K[E]=ue))}if(!cn(ue)&&(K[E]={ref:D,...ue},!a))return K}}return Z(!0),K};const VR={mode:ss.onSubmit,reValidateMode:ss.onChange,shouldFocusError:!0};function HR(n={}){let e={...VR,...n},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ns(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},o=Dt(e.defaultValues)||Dt(e.values)?Lt(e.defaultValues||e.values)||{}:{},u=e.shouldUnregister?{}:Lt(o),c={action:!1,mount:!1,watch:!1,keepIsValid:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,y=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},_={...g};let w={..._};const x={array:Hv(),state:Hv()},A=e.criteriaMode===ss.all,E=j=>q=>{clearTimeout(y),y=setTimeout(j,q)},O=async j=>{if(!c.keepIsValid&&!e.disabled&&(_.isValid||w.isValid||j)){let q;e.resolver?(q=cn((await F()).errors),L()):q=await $e(a,!0),q!==r.isValid&&x.state.next({isValid:q})}},L=(j,q)=>{!e.disabled&&(_.isValidating||_.validatingFields||w.isValidating||w.validatingFields)&&((j||Array.from(h.mount)).forEach($=>{$&&(q?ut(r.validatingFields,$,q):Ot(r.validatingFields,$))}),x.state.next({validatingFields:r.validatingFields,isValidating:!cn(r.validatingFields)}))},C=(j,q=[],$,re,ee=!0,J=!0)=>{if(re&&$&&!e.disabled){if(c.action=!0,J&&Array.isArray(me(a,j))){const oe=$(me(a,j),re.argA,re.argB);ee&&ut(a,j,oe)}if(J&&Array.isArray(me(r.errors,j))){const oe=$(me(r.errors,j),re.argA,re.argB);ee&&ut(r.errors,j,oe),PR(r.errors,j)}if((_.touchedFields||w.touchedFields)&&J&&Array.isArray(me(r.touchedFields,j))){const oe=$(me(r.touchedFields,j),re.argA,re.argB);ee&&ut(r.touchedFields,j,oe)}(_.dirtyFields||w.dirtyFields)&&(r.dirtyFields=ti(o,u)),x.state.next({name:j,isDirty:ue(j,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ut(u,j,q)},D=(j,q)=>{ut(r.errors,j,q),x.state.next({errors:r.errors})},Z=j=>{r.errors=j,x.state.next({errors:r.errors,isValid:!1})},K=(j,q,$,re)=>{const ee=me(a,j);if(ee){const J=me(u,j,gt($)?me(o,j):$);gt(J)||re&&re.defaultChecked||q?ut(u,j,q?J:Fv(ee._f)):Oe(j,J),c.mount&&!c.action&&O()}},ie=(j,q,$,re,ee)=>{let J=!1,oe=!1;const Me={name:j};if(!e.disabled){if(!$||re){(_.isDirty||w.isDirty)&&(oe=r.isDirty,r.isDirty=Me.isDirty=ue(),J=oe!==Me.isDirty);const Ne=yr(me(o,j),q);oe=!!me(r.dirtyFields,j),Ne?Ot(r.dirtyFields,j):ut(r.dirtyFields,j,!0),Me.dirtyFields=r.dirtyFields,J=J||(_.dirtyFields||w.dirtyFields)&&oe!==!Ne}if($){const Ne=me(r.touchedFields,j);Ne||(ut(r.touchedFields,j,$),Me.touchedFields=r.touchedFields,J=J||(_.touchedFields||w.touchedFields)&&Ne!==$)}J&&ee&&x.state.next(Me)}return J?Me:{}},ce=(j,q,$,re)=>{const ee=me(r.errors,j),J=(_.isValid||w.isValid)&&ps(q)&&r.isValid!==q;if(e.delayError&&$?(p=E(()=>D(j,$)),p(e.delayError)):(clearTimeout(y),p=null,$?ut(r.errors,j,$):Ot(r.errors,j)),($?!yr(ee,$):ee)||!cn(re)||J){const oe={...re,...J&&ps(q)?{isValid:q}:{},errors:r.errors,name:j};r={...r,...oe},x.state.next(oe)}},F=async j=>(L(j,!0),await e.resolver(u,e.context,UR(j||h.mount,a,e.criteriaMode,e.shouldUseNativeValidation))),be=async j=>{const{errors:q}=await F(j);if(L(j),j)for(const $ of j){const re=me(q,$);re?ut(r.errors,$,re):Ot(r.errors,$)}else r.errors=q;return q},$e=async(j,q,$={valid:!0})=>{for(const re in j){const ee=j[re];if(ee){const{_f:J,...oe}=ee;if(J){const Me=h.array.has(J.name),Ne=ee._f&&MR(ee._f);Ne&&_.validatingFields&&L([J.name],!0);const Gt=await Wv(ee,h.disabled,u,A,e.shouldUseNativeValidation&&!q,Me);if(Ne&&_.validatingFields&&L([J.name]),Gt[J.name]&&($.valid=!1,q||n.shouldUseNativeValidation))break;!q&&(me(Gt,J.name)?Me?$R(r.errors,Gt,J.name):ut(r.errors,J.name,Gt[J.name]):Ot(r.errors,J.name))}!cn(oe)&&await $e(oe,q,$)}}return $.valid},vt=()=>{for(const j of h.unMount){const q=me(a,j);q&&(q._f.refs?q._f.refs.every($=>!jh($)):!jh(q._f.ref))&&et(j)}h.unMount=new Set},ue=(j,q)=>!e.disabled&&(j&&q&&ut(u,j,q),!yr(G(),o)),te=(j,q,$)=>RR(j,h,{...c.mount?u:gt(q)?o:Rn(j)?{[j]:q}:q},$,q),Te=j=>Tf(me(c.mount?u:o,j,e.shouldUnregister?me(o,j,[]):[])),Oe=(j,q,$={})=>{const re=me(a,j);let ee=q;if(re){const J=re._f;J&&(!J.disabled&&ut(u,j,M_(q,J)),ee=Mu(J.ref)&&gn(q)?"":q,C_(J.ref)?[...J.ref.options].forEach(oe=>oe.selected=ee.includes(oe.value)):J.refs?Gl(J.ref)?J.refs.forEach(oe=>{(!oe.defaultChecked||!oe.disabled)&&(Array.isArray(ee)?oe.checked=!!ee.find(Me=>Me===oe.value):oe.checked=ee===oe.value||!!ee)}):J.refs.forEach(oe=>oe.checked=oe.value===ee):Of(J.ref)?J.ref.value="":(J.ref.value=ee,J.ref.type||x.state.next({name:j,values:Lt(u)})))}($.shouldDirty||$.shouldTouch)&&ie(j,ee,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&T(j)},P=(j,q,$)=>{for(const re in q){if(!q.hasOwnProperty(re))return;const ee=q[re],J=j+"."+re,oe=me(a,J);(h.array.has(j)||Dt(ee)||oe&&!oe._f)&&!Fr(ee)?P(J,ee,$):Oe(J,ee,$)}},X=(j,q,$={})=>{const re=me(a,j),ee=h.array.has(j),J=Lt(q);ut(u,j,J),ee?(x.array.next({name:j,values:Lt(u)}),(_.isDirty||_.dirtyFields||w.isDirty||w.dirtyFields)&&$.shouldDirty&&x.state.next({name:j,dirtyFields:ti(o,u),isDirty:ue(j,J)})):re&&!re._f&&!gn(J)?P(j,J,$):Oe(j,J,$),Yv(j,h)?x.state.next({...r,name:j,values:Lt(u)}):x.state.next({name:c.mount?j:void 0,values:Lt(u)})},Q=async j=>{c.mount=!0;const q=j.target;let $=q.name,re=!0;const ee=me(a,$),J=Ne=>{re=Number.isNaN(Ne)||Fr(Ne)&&isNaN(Ne.getTime())||yr(Ne,me(u,$,Ne))},oe=Qv(e.mode),Me=Qv(e.reValidateMode);if(ee){let Ne,Gt;const gs=q.type?Fv(ee._f):wR(j),us=j.type===Vv.BLUR||j.type===Vv.FOCUS_OUT,na=!qR(ee._f)&&!e.resolver&&!me(r.errors,$)&&!ee._f.deps||BR(us,me(r.touchedFields,$),r.isSubmitted,Me,oe),$s=Yv($,h,us);ut(u,$,gs),us?(!q||!q.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(j),p&&p(0)):ee._f.onChange&&ee._f.onChange(j);const Zn=ie($,gs,us),sa=!cn(Zn)||$s;if(!us&&x.state.next({name:$,type:j.type,values:Lt(u)}),na)return(_.isValid||w.isValid)&&(e.mode==="onBlur"?us&&O():us||O()),sa&&x.state.next({name:$,...$s?{}:Zn});if(!us&&$s&&x.state.next({...r}),e.resolver){const{errors:Vs}=await F([$]);if(L([$]),J(gs),re){const Qu=Xv(r.errors,a,$),_i=Xv(Vs,a,Qu.name||$);Ne=_i.error,$=_i.name,Gt=cn(Vs)}}else L([$],!0),Ne=(await Wv(ee,h.disabled,u,A,e.shouldUseNativeValidation))[$],L([$]),J(gs),re&&(Ne?Gt=!1:(_.isValid||w.isValid)&&(Gt=await $e(a,!0)));re&&(ee._f.deps&&(!Array.isArray(ee._f.deps)||ee._f.deps.length>0)&&T(ee._f.deps),ce($,Gt,Ne,Zn))}},Pe=(j,q)=>{if(me(r.errors,q)&&j.focus)return j.focus(),1},T=async(j,q={})=>{let $,re;const ee=Al(j);if(e.resolver){const J=await be(gt(j)?j:ee);$=cn(J),re=j?!ee.some(oe=>me(J,oe)):$}else j?(re=(await Promise.all(ee.map(async J=>{const oe=me(a,J);return await $e(oe&&oe._f?{[J]:oe}:oe)}))).every(Boolean),!(!re&&!r.isValid)&&O()):re=$=await $e(a);return x.state.next({...!Rn(j)||(_.isValid||w.isValid)&&$!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:$}:{},errors:r.errors}),q.shouldFocus&&!re&&Rl(a,Pe,j?ee:h.mount),re},G=(j,q)=>{let $={...c.mount?u:o};return q&&($=k_(q.dirtyFields?r.dirtyFields:r.touchedFields,$)),gt(j)?$:Rn(j)?me($,j):j.map(re=>me($,re))},se=(j,q)=>({invalid:!!me((q||r).errors,j),isDirty:!!me((q||r).dirtyFields,j),error:me((q||r).errors,j),isValidating:!!me(r.validatingFields,j),isTouched:!!me((q||r).touchedFields,j)}),W=j=>{j&&Al(j).forEach(q=>Ot(r.errors,q)),x.state.next({errors:j?r.errors:{}})},le=(j,q,$)=>{const re=(me(a,j,{_f:{}})._f||{}).ref,ee=me(r.errors,j)||{},{ref:J,message:oe,type:Me,...Ne}=ee;ut(r.errors,j,{...Ne,...q,ref:re}),x.state.next({name:j,errors:r.errors,isValid:!1}),$&&$.shouldFocus&&re&&re.focus&&re.focus()},Ce=(j,q)=>ns(j)?x.state.subscribe({next:$=>"values"in $&&j(te(void 0,q),$)}):te(j,q,!0),we=j=>x.state.subscribe({next:q=>{zR(j.name,q.name,j.exact)&&LR(q,j.formState||_,Ku,j.reRenderRoot)&&j.callback({values:{...u},...r,...q,defaultValues:o})}}).unsubscribe,Ge=j=>(c.mount=!0,w={...w,...j.formState},we({...j,formState:{...g,...j.formState}})),et=(j,q={})=>{for(const $ of j?Al(j):h.mount)h.mount.delete($),h.array.delete($),q.keepValue||(Ot(a,$),Ot(u,$)),!q.keepError&&Ot(r.errors,$),!q.keepDirty&&Ot(r.dirtyFields,$),!q.keepTouched&&Ot(r.touchedFields,$),!q.keepIsValidating&&Ot(r.validatingFields,$),!e.shouldUnregister&&!q.keepDefaultValue&&Ot(o,$);x.state.next({values:Lt(u)}),x.state.next({...r,...q.keepDirty?{isDirty:ue()}:{}}),!q.keepIsValid&&O()},Wt=({disabled:j,name:q})=>{if(ps(j)&&c.mount||j||h.disabled.has(q)){const ee=h.disabled.has(q)!==!!j;j?h.disabled.add(q):h.disabled.delete(q),ee&&c.mount&&!c.action&&O()}},Un=(j,q={})=>{let $=me(a,j);const re=ps(q.disabled)||ps(e.disabled);return ut(a,j,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:j}},name:j,mount:!0,...q}}),h.mount.add(j),$?Wt({disabled:ps(q.disabled)?q.disabled:e.disabled,name:j}):K(j,!0,q.value),{...re?{disabled:q.disabled||e.disabled}:{},...e.progressive?{required:!!q.required,min:xl(q.min),max:xl(q.max),minLength:xl(q.minLength),maxLength:xl(q.maxLength),pattern:xl(q.pattern)}:{},name:j,onChange:Q,onBlur:Q,ref:ee=>{if(ee){Un(j,q),$=me(a,j);const J=gt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,oe=NR(J),Me=$._f.refs||[];if(oe?Me.find(Ne=>Ne===J):J===$._f.ref)return;ut(a,j,{_f:{...$._f,...oe?{refs:[...Me.filter(jh),J,...Array.isArray(me(o,j))?[{}]:[]],ref:{type:J.type,name:j}}:{ref:J}}}),K(j,!1,void 0,J)}else $=me(a,j,{}),$._f&&($._f.mount=!1),(e.shouldUnregister||q.shouldUnregister)&&!(SR(h.array,j)&&c.action)&&h.unMount.add(j)}}},Mn=()=>e.shouldFocusError&&Rl(a,Pe,h.mount),os=j=>{ps(j)&&(x.state.next({disabled:j}),Rl(a,(q,$)=>{const re=me(a,$);re&&(q.disabled=re._f.disabled||j,Array.isArray(re._f.refs)&&re._f.refs.forEach(ee=>{ee.disabled=re._f.disabled||j}))},0,!1))},ta=(j,q)=>async $=>{let re;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let ee=Lt(u);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:J,values:oe}=await F();L(),r.errors=J,ee=Lt(oe)}else await $e(a);if(h.disabled.size)for(const J of h.disabled)Ot(ee,J);if(Ot(r.errors,"root"),cn(r.errors)){x.state.next({errors:{}});try{await j(ee,$)}catch(J){re=J}}else q&&await q({...r.errors},$),Mn(),setTimeout(Mn);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:cn(r.errors)&&!re,submitCount:r.submitCount+1,errors:r.errors}),re)throw re},vi=(j,q={})=>{me(a,j)&&(gt(q.defaultValue)?X(j,Lt(me(o,j))):(X(j,q.defaultValue),ut(o,j,Lt(q.defaultValue))),q.keepTouched||Ot(r.touchedFields,j),q.keepDirty||(Ot(r.dirtyFields,j),r.isDirty=q.defaultValue?ue(j,Lt(me(o,j))):ue()),q.keepError||(Ot(r.errors,j),_.isValid&&O()),x.state.next({...r}))},Ql=(j,q={})=>{const $=j?Lt(j):o,re=Lt($),ee=cn(j),J=ee?o:re;if(q.keepDefaultValues||(o=$),!q.keepValues){if(q.keepDirtyValues){const oe=new Set([...h.mount,...Object.keys(ti(o,u))]);for(const Me of Array.from(oe)){const Ne=me(r.dirtyFields,Me),Gt=me(u,Me),gs=me(J,Me);Ne&&!gt(Gt)?ut(J,Me,Gt):!Ne&&!gt(gs)&&X(Me,gs)}}else{if(jf&&gt(j))for(const oe of h.mount){const Me=me(a,oe);if(Me&&Me._f){const Ne=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(Mu(Ne)){const Gt=Ne.closest("form");if(Gt){Gt.reset();break}}}}if(q.keepFieldsRef)for(const oe of h.mount)X(oe,me(J,oe));else a={}}u=e.shouldUnregister?q.keepDefaultValues?Lt(o):{}:Lt(J),x.array.next({values:{...J}}),x.state.next({values:{...J}})}h={mount:q.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!_.isValid||!!q.keepIsValid||!!q.keepDirtyValues||!e.shouldUnregister&&!cn(J),c.watch=!!e.shouldUnregister,c.keepIsValid=!!q.keepIsValid,c.action=!1,q.keepErrors||(r.errors={}),x.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!yr(j,o)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:q.keepDirtyValues?q.keepDefaultValues&&u?ti(o,u):r.dirtyFields:q.keepDefaultValues&&j?ti(o,j):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Zl=(j,q)=>Ql(ns(j)?j(u):j,{...e.resetOptions,...q}),qn=(j,q={})=>{const $=me(a,j),re=$&&$._f;if(re){const ee=re.refs?re.refs[0]:re.ref;ee.focus&&setTimeout(()=>{ee.focus(),q.shouldSelect&&ns(ee.select)&&ee.select()})}},Ku=j=>{r={...r,...j}},bi={control:{register:Un,unregister:et,getFieldState:se,handleSubmit:ta,setError:le,_subscribe:we,_runSchema:F,_updateIsValidating:L,_focusError:Mn,_getWatch:te,_getDirty:ue,_setValid:O,_setFieldArray:C,_setDisabledField:Wt,_setErrors:Z,_getFieldArray:Te,_reset:Ql,_resetDefaultValues:()=>ns(e.defaultValues)&&e.defaultValues().then(j=>{Zl(j,e.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:vt,_disableForm:os,_subjects:x,_proxyFormState:_,get _fields(){return a},get _formValues(){return u},get _state(){return c},set _state(j){c=j},get _defaultValues(){return o},get _names(){return h},set _names(j){h=j},get _formState(){return r},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:Ge,trigger:T,register:Un,handleSubmit:ta,watch:Ce,setValue:X,getValues:G,reset:Zl,resetField:vi,clearErrors:W,unregister:et,setError:le,setFocus:qn,getFieldState:se};return{...bi,formControl:bi}}function Kl(n={}){const e=un.useRef(void 0),r=un.useRef(void 0),[a,o]=un.useState({isDirty:!1,isValidating:!1,isLoading:ns(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:ns(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:a},n.defaultValues&&!ns(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:c,...h}=HR(n);e.current={...h,formState:a}}const u=e.current.control;return u._options=n,AR(()=>{const c=u._subscribe({formState:u._proxyFormState,callback:()=>o({...u._formState}),reRenderRoot:!0});return o(h=>({...h,isReady:!0})),u._formState.isReady=!0,c},[u]),un.useEffect(()=>u._disableForm(n.disabled),[u,n.disabled]),un.useEffect(()=>{n.mode&&(u._options.mode=n.mode),n.reValidateMode&&(u._options.reValidateMode=n.reValidateMode)},[u,n.mode,n.reValidateMode]),un.useEffect(()=>{n.errors&&(u._setErrors(n.errors),u._focusError())},[u,n.errors]),un.useEffect(()=>{n.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,n.shouldUnregister]),un.useEffect(()=>{if(u._proxyFormState.isDirty){const c=u._getDirty();c!==a.isDirty&&u._subjects.state.next({isDirty:c})}},[u,a.isDirty]),un.useEffect(()=>{var c;n.values&&!yr(n.values,r.current)?(u._reset(n.values,{keepFieldsRef:!0,...u._options.resetOptions}),!((c=u._options.resetOptions)===null||c===void 0)&&c.keepIsValid||u._setValid(),r.current=n.values,o(h=>({...h}))):u._resetDefaultValues()},[u,n.values]),un.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),e.current.formState=un.useMemo(()=>TR(a,u),[u,a]),e.current}const eb=(n,e,r)=>{if(n&&"reportValidity"in n){const a=me(r,e);n.setCustomValidity(a&&a.message||""),n.reportValidity()}},ef=(n,e)=>{for(const r in e.fields){const a=e.fields[r];a&&a.ref&&"reportValidity"in a.ref?eb(a.ref,r,n):a&&a.refs&&a.refs.forEach(o=>eb(o,r,n))}},tb=(n,e)=>{e.shouldUseNativeValidation&&ef(n,e);const r={};for(const a in n){const o=me(e.fields,a),u=Object.assign(n[a]||{},{ref:o&&o.ref});if(IR(e.names||Object.keys(n),a)){const c=Object.assign({},me(r,a));ut(c,"root",u),ut(r,a,c)}else ut(r,a,u)}return r},IR=(n,e)=>{const r=nb(e);return n.some(a=>nb(a).match(`^${r}\\.\\d+`))};function nb(n){return n.replace(/\]|\[/g,"")}function L_(n,e,r){function a(h,p){var y;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(y=h._zod).traits??(y.traits=new Set),h._zod.traits.add(n),e(h,p);for(const g in c.prototype)g in h||Object.defineProperty(h,g,{value:c.prototype[g].bind(h)});h._zod.constr=c,h._zod.def=p}const o=r?.Parent??Object;class u extends o{}Object.defineProperty(u,"name",{value:n});function c(h){var p;const y=r?.Parent?new u:this;a(y,h),(p=y._zod).deferred??(p.deferred=[]);for(const g of y._zod.deferred)g();return y}return Object.defineProperty(c,"init",{value:a}),Object.defineProperty(c,Symbol.hasInstance,{value:h=>r?.Parent&&h instanceof r.Parent?!0:h?._zod?.traits?.has(n)}),Object.defineProperty(c,"name",{value:n}),c}class GR extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const KR={};function z_(n){return KR}function FR(n,e){return typeof e=="bigint"?e.toString():e}const B_=Error.captureStackTrace?Error.captureStackTrace:(...n)=>{};function vu(n){return typeof n=="string"?n:n?.message}function P_(n,e,r){const a={...n,path:n.path??[]};if(!n.message){const o=vu(n.inst?._zod.def?.error?.(n))??vu(e?.error?.(n))??vu(r.customError?.(n))??vu(r.localeError?.(n))??"Invalid input";a.message=o}return delete a.inst,delete a.continue,e?.reportInput||delete a.input,a}const $_=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),Object.defineProperty(n,"message",{get(){return JSON.stringify(e,FR,2)},enumerable:!0}),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},QR=L_("$ZodError",$_),V_=L_("$ZodError",$_,{Parent:Error}),ZR=n=>(e,r,a,o)=>{const u=a?Object.assign(a,{async:!1}):{async:!1},c=e._zod.run({value:r,issues:[]},u);if(c instanceof Promise)throw new GR;if(c.issues.length){const h=new(o?.Err??n)(c.issues.map(p=>P_(p,u,z_())));throw B_(h,o?.callee),h}return c.value},YR=ZR(V_),XR=n=>async(e,r,a,o)=>{const u=a?Object.assign(a,{async:!0}):{async:!0};let c=e._zod.run({value:r,issues:[]},u);if(c instanceof Promise&&(c=await c),c.issues.length){const h=new(o?.Err??n)(c.issues.map(p=>P_(p,u,z_())));throw B_(h,o?.callee),h}return c.value},JR=XR(V_);function sb(n,e){try{var r=n()}catch(a){return e(a)}return r&&r.then?r.then(void 0,e):r}function WR(n,e){for(var r={};n.length;){var a=n[0],o=a.code,u=a.message,c=a.path.join(".");if(!r[c])if("unionErrors"in a){var h=a.unionErrors[0].errors[0];r[c]={message:h.message,type:h.code}}else r[c]={message:u,type:o};if("unionErrors"in a&&a.unionErrors.forEach(function(g){return g.errors.forEach(function(_){return n.push(_)})}),e){var p=r[c].types,y=p&&p[a.code];r[c]=Rf(c,e,r,o,y?[].concat(y,a.message):a.message)}n.shift()}return r}function eO(n,e){for(var r={};n.length;){var a=n[0],o=a.code,u=a.message,c=a.path.join(".");if(!r[c])if(a.code==="invalid_union"&&a.errors.length>0){var h=a.errors[0][0];r[c]={message:h.message,type:h.code}}else r[c]={message:u,type:o};if(a.code==="invalid_union"&&a.errors.forEach(function(g){return g.forEach(function(_){return n.push(_)})}),e){var p=r[c].types,y=p&&p[a.code];r[c]=Rf(c,e,r,o,y?[].concat(y,a.message):a.message)}n.shift()}return r}function Fl(n,e,r){if(r===void 0&&(r={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(n))return function(a,o,u){try{return Promise.resolve(sb(function(){return Promise.resolve(n[r.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(c){return u.shouldUseNativeValidation&&ef({},u),{errors:{},values:r.raw?Object.assign({},a):c}})},function(c){if((function(h){return Array.isArray(h?.issues)})(c))return{values:{},errors:tb(WR(c.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw c}))}catch(c){return Promise.reject(c)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(n))return function(a,o,u){try{return Promise.resolve(sb(function(){return Promise.resolve((r.mode==="sync"?YR:JR)(n,a,e)).then(function(c){return u.shouldUseNativeValidation&&ef({},u),{errors:{},values:r.raw?Object.assign({},a):c}})},function(c){if((function(h){return h instanceof QR})(c))return{values:{},errors:tb(eO(c.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw c}))}catch(c){return Promise.reject(c)}};throw new Error("Invalid input: not a Zod schema")}const xt=N.forwardRef(({className:n,type:e,...r},a)=>m.jsx("input",{type:e,className:Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:a,...r}));xt.displayName="Input";const Ct=N.forwardRef(({className:n,...e},r)=>m.jsx("label",{ref:r,className:Ie("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n),...e}));Ct.displayName="Label";const Xt=N.forwardRef(({className:n,...e},r)=>m.jsx("div",{ref:r,className:Ie("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Xt.displayName="Card";const rn=N.forwardRef(({className:n,...e},r)=>m.jsx("div",{ref:r,className:Ie("flex flex-col space-y-1.5 p-6",n),...e}));rn.displayName="CardHeader";const an=N.forwardRef(({className:n,...e},r)=>m.jsx("div",{ref:r,className:Ie("text-2xl font-semibold leading-none tracking-tight",n),...e}));an.displayName="CardTitle";const kf=N.forwardRef(({className:n,...e},r)=>m.jsx("div",{ref:r,className:Ie("text-sm text-muted-foreground",n),...e}));kf.displayName="CardDescription";const Jt=N.forwardRef(({className:n,...e},r)=>m.jsx("div",{ref:r,className:Ie("p-6 pt-0",n),...e}));Jt.displayName="CardContent";const Cf=N.forwardRef(({className:n,...e},r)=>m.jsx("div",{ref:r,className:Ie("flex items-center p-6 pt-0",n),...e}));Cf.displayName="CardFooter";const tO=g_("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Cn=N.forwardRef(({className:n,variant:e,...r},a)=>m.jsx("div",{ref:a,role:"alert",className:Ie(tO({variant:e}),n),...r}));Cn.displayName="Alert";const nO=N.forwardRef(({className:n,...e},r)=>m.jsx("h5",{ref:r,className:Ie("mb-1 font-medium leading-none tracking-tight",n),...e}));nO.displayName="AlertTitle";const Dn=N.forwardRef(({className:n,...e},r)=>m.jsx("div",{ref:r,className:Ie("text-sm [&_p]:leading-relaxed",n),...e}));Dn.displayName="AlertDescription";function sO(){const n=ls(),e=i1(),[r,a]=N.useState(null),{register:o,handleSubmit:u,formState:{errors:c}}=Kl({resolver:Fl(Lb)});async function h(p){a(null);const y=await e.mutateAsync(p);y.error?a(y.error.message):n("/home",{replace:!0})}return m.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:m.jsxs(Xt,{className:"w-full max-w-sm",children:[m.jsxs(rn,{className:"text-center",children:[m.jsx(an,{className:"text-2xl font-semibold tracking-tight",children:"Welcome back"}),m.jsx(kf,{children:"Sign in to your account to continue"})]}),m.jsxs("form",{onSubmit:u(h),children:[m.jsxs(Jt,{className:"space-y-4",children:[r&&m.jsx(Cn,{variant:"destructive",children:m.jsx(Dn,{children:r})}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"email",children:"Email"}),m.jsx(xt,{id:"email",type:"email",placeholder:"you@example.com",autoComplete:"email",...o("email")}),c.email&&m.jsx("p",{className:"text-sm text-destructive",children:c.email.message})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"password",children:"Password"}),m.jsx(xt,{id:"password",type:"password",placeholder:"Enter your password",autoComplete:"current-password",...o("password")}),c.password&&m.jsx("p",{className:"text-sm text-destructive",children:c.password.message})]})]}),m.jsxs(Cf,{className:"flex flex-col gap-4",children:[m.jsxs(mt,{type:"submit",className:"w-full",disabled:e.isPending,children:[e.isPending&&m.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign in"]}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",m.jsx(lt,{to:"/register",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Create one"})]})]})]})]})})}function rO(){const n=ls(),e=a1(),[r,a]=N.useState(null),{register:o,handleSubmit:u,formState:{errors:c}}=Kl({resolver:Fl(qb)});async function h(p){a(null);try{const y=await e.mutateAsync({email:p.email,password:p.password,full_name:p.full_name,phone:p.phone||void 0,company_name:p.company_name});if(y.error){a(y.error.message);return}n("/home",{replace:!0})}catch(y){a(y instanceof Error?y.message:"Something went wrong")}}return m.jsx("div",{className:"flex min-h-screen items-center justify-center px-4 py-6",children:m.jsxs(Xt,{className:"w-full max-w-sm",children:[m.jsxs(rn,{className:"pb-4 text-center",children:[m.jsx(an,{className:"text-2xl font-semibold tracking-tight",children:"Create your account"}),m.jsx(kf,{children:"Set up your profile and company to get started"})]}),m.jsxs("form",{onSubmit:u(h),children:[m.jsxs(Jt,{className:"space-y-3",children:[r&&m.jsx(Cn,{variant:"destructive",className:"py-2.5",children:m.jsx(Dn,{className:"text-xs",children:r})}),m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ct,{htmlFor:"full_name",children:"Full name"}),m.jsx(xt,{id:"full_name",className:"h-9",placeholder:"John Doe",autoComplete:"name",...o("full_name")}),c.full_name&&m.jsx("p",{className:"text-xs text-destructive",children:c.full_name.message})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ct,{htmlFor:"email",children:"Email"}),m.jsx(xt,{id:"email",className:"h-9",type:"email",placeholder:"you@example.com",autoComplete:"email",...o("email")}),c.email&&m.jsx("p",{className:"text-xs text-destructive",children:c.email.message})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ct,{htmlFor:"password",children:"Password"}),m.jsx(xt,{id:"password",className:"h-9",type:"password",placeholder:"At least 8 characters",autoComplete:"new-password",...o("password")}),c.password&&m.jsx("p",{className:"text-xs text-destructive",children:c.password.message})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs(Ct,{htmlFor:"phone",children:["Phone"," ",m.jsx("span",{className:"text-muted-foreground font-normal",children:"(optional)"})]}),m.jsx(xt,{id:"phone",className:"h-9",type:"tel",placeholder:"+1 234 567 8900",autoComplete:"tel",...o("phone")})]}),m.jsxs("div",{className:"pt-1",children:[m.jsx("div",{className:"mb-2 h-px bg-border"}),m.jsx("p",{className:"mb-2 text-sm font-medium text-muted-foreground",children:"Company details"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx(Ct,{htmlFor:"company_name",children:"Company name"}),m.jsx(xt,{id:"company_name",className:"h-9",placeholder:"Acme Surveying Ltd",...o("company_name")}),c.company_name&&m.jsx("p",{className:"text-xs text-destructive",children:c.company_name.message})]})]}),m.jsxs(Cf,{className:"flex flex-col gap-3",children:[m.jsxs(mt,{type:"submit",className:"w-full",disabled:e.isPending,children:[e.isPending&&m.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}),e.isPending?"Creating account...":"Create account"]}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",m.jsx(lt,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign in"})]})]})]})]})})}function aO(){const n=ls(),{isAuthenticated:e,isLoading:r}=$u(),{data:a,isLoading:o}=Bb(e),u=zb(),c=r||o,h=a?.data??null,p=a?.error??null;async function y(){await u.mutateAsync(),n("/login",{replace:!0})}return c?m.jsx("div",{className:"flex h-screen items-center justify-center",children:m.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):p?m.jsx("div",{className:"flex h-screen items-center justify-center px-4",children:m.jsx(Cn,{variant:"destructive",className:"max-w-sm",children:m.jsx(Dn,{children:p.message})})}):m.jsxs("div",{className:"flex min-h-screen flex-col",children:[m.jsx("header",{className:"border-b",children:m.jsxs("div",{className:"mx-auto flex h-14 max-w-7xl items-center justify-between px-4",children:[m.jsx("span",{className:"text-sm font-semibold tracking-tight",children:"geoWorks"}),m.jsxs(mt,{variant:"ghost",size:"sm",onClick:y,disabled:u.isPending,children:[u.isPending?m.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):m.jsx(m_,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})}),m.jsx("main",{className:"flex flex-1 items-center justify-center",children:m.jsxs("h1",{className:"text-3xl font-semibold tracking-tight",children:["Hello, ",h?.full_name??"User"]})})]})}function Je({className:n,...e}){return m.jsx("div",{className:Ie("animate-pulse rounded-md bg-muted",n),...e})}function iO({equipment:n}){return m.jsx(lt,{to:`/equipment/${n.id}`,children:m.jsxs(Xt,{className:"transition-colors hover:border-primary/50",children:[m.jsx(rn,{className:"pb-2",children:m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsx(an,{className:"text-base",children:n.name}),m.jsx("span",{className:Ie("inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",n.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:n.status})]})}),m.jsx(Jt,{children:m.jsxs("dl",{className:"space-y-1 text-sm text-muted-foreground",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{children:"Serial"}),m.jsx("dd",{className:"font-mono text-foreground",children:n.serial_number})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{children:"Type"}),m.jsx("dd",{className:"text-foreground",children:n.equipment_type?.name??""})]}),n.model&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{children:"Model"}),m.jsx("dd",{className:"text-foreground",children:n.model})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{children:"Ownership"}),m.jsx("dd",{children:m.jsx("span",{className:Ie("inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",n.ownership_type==="owned"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"),children:n.ownership_type})})]})]})})]})})}function lO(){const{data:n}=ea(),e=n?.data?.[0]?.company_id,[r,a]=N.useState(!1),[o,u]=N.useState(""),[c,h]=N.useState(""),[p,y]=N.useState(""),[g,_]=N.useState("card"),{data:w,isLoading:x}=d1(e,r?void 0:{status:"active"}),{data:A}=Vb(e),E=w?.data??[],O=A?.data??[],L=w?.error,C=N.useMemo(()=>{let D=E;if(o){const Z=o.toLowerCase();D=D.filter(K=>K.name.toLowerCase().includes(Z)||K.serial_number.toLowerCase().includes(Z))}return c&&(D=D.filter(Z=>Z.equipment_type_id===c)),p&&(D=D.filter(Z=>Z.ownership_type===p)),D},[E,o,c,p]);return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[m.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Equipment"}),m.jsxs(lt,{to:"/equipment/new",className:Ie(sn()),children:[m.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Add Equipment"]})]}),L&&m.jsx(Cn,{variant:"destructive",className:"mb-4",children:m.jsx(Dn,{children:L.message})}),m.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[m.jsxs("div",{className:"relative flex-1 min-w-50 max-w-sm",children:[m.jsx(xf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),m.jsx(xt,{placeholder:"Search by name or serial...",value:o,onChange:D=>u(D.target.value),className:"pl-9"})]}),m.jsxs("select",{value:c,onChange:D=>h(D.target.value),className:"h-9 rounded-md border border-input bg-background px-3 text-sm",children:[m.jsx("option",{value:"",children:"All Types"}),O.map(D=>m.jsx("option",{value:D.id,children:D.name},D.id))]}),m.jsxs("select",{value:p,onChange:D=>y(D.target.value),className:"h-9 rounded-md border border-input bg-background px-3 text-sm",children:[m.jsx("option",{value:"",children:"All Ownership"}),m.jsx("option",{value:"owned",children:"Owned"}),m.jsx("option",{value:"rented",children:"Rented"})]}),m.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[m.jsx("input",{type:"checkbox",checked:r,onChange:D=>a(D.target.checked),className:"rounded"}),"Show inactive"]}),m.jsxs("div",{className:"ml-auto flex gap-1",children:[m.jsx(mt,{variant:g==="card"?"default":"outline",size:"icon",className:"h-9 w-9",onClick:()=>_("card"),children:m.jsx(_f,{className:"h-4 w-4"})}),m.jsx(mt,{variant:g==="table"?"default":"outline",size:"icon",className:"h-9 w-9",onClick:()=>_("table"),children:m.jsx(wf,{className:"h-4 w-4"})})]})]}),x?g==="card"?m.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((D,Z)=>m.jsx(uO,{},Z))}):m.jsx(cO,{}):C.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed py-12",children:[m.jsx("p",{className:"mb-2 text-lg font-medium text-muted-foreground",children:E.length===0?"No equipment yet":"No matching equipment"}),m.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:E.length===0?"Get started by adding your first piece of equipment.":"Try adjusting your search or filters."}),E.length===0&&m.jsxs(lt,{to:"/equipment/new",className:Ie(sn()),children:[m.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Add your first equipment"]})]}):g==="card"?m.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:C.map(D=>m.jsx(iO,{equipment:D},D.id))}):m.jsx(oO,{items:C})]})}function oO({items:n}){return m.jsx("div",{className:"overflow-x-auto rounded-md border",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b bg-muted/50",children:[m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Name"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Serial"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Type"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Model"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Ownership"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Status"})]})}),m.jsx("tbody",{children:n.map(e=>m.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/30",children:[m.jsx("td",{className:"px-4 py-3",children:m.jsx(lt,{to:`/equipment/${e.id}`,className:"font-medium text-primary hover:underline",children:e.name})}),m.jsx("td",{className:"px-4 py-3 font-mono text-muted-foreground",children:e.serial_number}),m.jsx("td",{className:"px-4 py-3",children:e.equipment_type?.name??""}),m.jsx("td",{className:"px-4 py-3",children:e.model??""}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:Ie("inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",e.ownership_type==="owned"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"),children:e.ownership_type})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:Ie("inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",e.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:e.status})})]},e.id))})]})})}function uO(){return m.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[m.jsx("div",{className:"flex flex-col space-y-1.5 p-6 pb-2",children:m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsx(Je,{className:"h-5 w-3/4"}),m.jsx(Je,{className:"h-5 w-16 rounded-full"})]})}),m.jsx("div",{className:"p-6 pt-0",children:m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx(Je,{className:"h-4 w-16"}),m.jsx(Je,{className:"h-4 w-24"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx(Je,{className:"h-4 w-12"}),m.jsx(Je,{className:"h-4 w-20"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx(Je,{className:"h-4 w-14"}),m.jsx(Je,{className:"h-4 w-20"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx(Je,{className:"h-4 w-20"}),m.jsx(Je,{className:"h-4 w-16 rounded-full"})]})]})})]})}function cO(){return m.jsx("div",{className:"overflow-x-auto rounded-md border",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b bg-muted/50",children:[m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Name"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Serial"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Type"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Model"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Ownership"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Status"})]})}),m.jsx("tbody",{children:Array.from({length:5}).map((n,e)=>m.jsxs("tr",{className:"border-b",children:[m.jsx("td",{className:"px-4 py-3",children:m.jsx(Je,{className:"h-4 w-24"})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx(Je,{className:"h-4 w-20 font-mono"})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx(Je,{className:"h-4 w-16"})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx(Je,{className:"h-4 w-20"})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx(Je,{className:"h-5 w-16 rounded-full"})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx(Je,{className:"h-5 w-14 rounded-full"})})]},e))})]})})}function dO({equipmentId:n}){const{data:e}=ea(),r=e?.data?.[0]?.company_id,{data:a,isLoading:o}=y1(n),{data:u}=Fb(r),c=g1(),h=v1(),p=b1(),y=a?.data??[],g=u?.data??[],_=y.reduce((te,Te)=>te+Number(Te.percentage),0),w=(100-_).toFixed(2),[x,A]=N.useState(!1),[E,O]=N.useState(""),[L,C]=N.useState(""),[D,Z]=N.useState(null),[K,ie]=N.useState(""),[ce,F]=N.useState(null),be=g.filter(te=>!y.some(Te=>Te.partner_id===te.id));async function $e(){if(!E||!L)return;F(null);const te=parseFloat(L);if(isNaN(te)||te<1||te>99){F("Percentage must be between 1 and 99");return}if(_+te>100){F(`Total would exceed 100% (current: ${_}%)`);return}const Te=await c.mutateAsync({equipmentId:n,payload:{partner_id:E,percentage:te}});if(Te.error){F(Te.error.message);return}A(!1),O(""),C("")}async function vt(te){F(null);const Te=parseFloat(K);if(isNaN(Te)||Te<1||Te>99){F("Percentage must be between 1 and 99");return}const Oe=_-Number(te.percentage);if(Oe+Te>100){F(`Total would exceed 100% (others: ${Oe}%)`);return}const P=await h.mutateAsync({equipmentPartnerId:te.id,equipmentId:n,payload:{percentage:Te}});if(P.error){F(P.error.message);return}Z(null)}async function ue(te){p.mutate({equipmentPartnerId:te,equipmentId:n})}return o?m.jsx(Xt,{children:m.jsx(Jt,{className:"flex justify-center py-6",children:m.jsx(jt,{className:"h-6 w-6 animate-spin text-muted-foreground"})})}):m.jsxs(Xt,{children:[m.jsx(rn,{children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(an,{className:"text-base",children:"Partner Ownership"}),!x&&m.jsxs(mt,{variant:"outline",size:"sm",onClick:()=>A(!0),children:[m.jsx(Wr,{className:"mr-1 h-3 w-3"}),"Add Partner"]})]})}),m.jsxs(Jt,{className:"space-y-3",children:[ce&&m.jsx("p",{className:"text-sm text-destructive",children:ce}),m.jsxs("div",{className:"flex items-center justify-between rounded-md bg-muted/50 px-3 py-2 text-sm",children:[m.jsx("span",{className:"font-medium",children:"Company"}),m.jsxs("span",{className:"font-mono font-semibold",children:[w,"%"]})]}),y.map(te=>m.jsxs("div",{className:"flex items-center justify-between rounded-md border px-3 py-2",children:[m.jsx("span",{className:"text-sm",children:te.partner.name}),m.jsx("div",{className:"flex items-center gap-2",children:D===te.id?m.jsxs(m.Fragment,{children:[m.jsx(xt,{type:"number",className:"h-8 w-20",value:K,onChange:Te=>ie(Te.target.value),min:1,max:99,step:.01}),m.jsx("span",{className:"text-sm",children:"%"}),m.jsx(mt,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>vt(te),disabled:h.isPending,children:m.jsx(hA,{className:"h-3 w-3"})}),m.jsx(mt,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Z(null),children:m.jsx(TA,{className:"h-3 w-3"})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"font-mono text-sm font-medium",children:[Number(te.percentage).toFixed(2),"%"]}),m.jsx(mt,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{Z(te.id),ie(String(te.percentage)),F(null)},children:m.jsx(Iu,{className:"h-3 w-3"})}),m.jsx(mt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>ue(te.id),disabled:p.isPending,children:m.jsx(Sf,{className:"h-3 w-3"})})]})})]},te.id)),x&&m.jsxs("div",{className:"flex items-end gap-2 rounded-md border border-dashed p-3",children:[m.jsxs("div",{className:"flex-1 space-y-1",children:[m.jsx("label",{className:"text-xs text-muted-foreground",children:"Partner"}),m.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm",value:E,onChange:te=>O(te.target.value),children:[m.jsx("option",{value:"",children:"Select..."}),be.map(te=>m.jsx("option",{value:te.id,children:te.name},te.id))]})]}),m.jsxs("div",{className:"w-24 space-y-1",children:[m.jsx("label",{className:"text-xs text-muted-foreground",children:"%"}),m.jsx(xt,{type:"number",className:"h-9",value:L,onChange:te=>C(te.target.value),min:1,max:99,step:.01,placeholder:"0.00"})]}),m.jsx(mt,{size:"sm",onClick:$e,disabled:c.isPending,children:c.isPending?m.jsx(jt,{className:"h-4 w-4 animate-spin"}):"Add"}),m.jsx(mt,{variant:"ghost",size:"sm",onClick:()=>{A(!1),F(null)},children:"Cancel"})]}),y.length===0&&!x&&m.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Company owns 100%. Add partners to share ownership."})]})]})}function hO(){const{id:n}=mi(),{data:e,isLoading:r}=$b(n),a=m1(),o=p1(),u=e?.data??null,c=e?.error;if(r)return m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(c||!u)return m.jsx("div",{className:"p-6",children:m.jsx(Cn,{variant:"destructive",children:m.jsx(Dn,{children:c?.message??"Equipment not found"})})});const h=a.isPending||o.isPending;function p(){n&&(u.status==="active"?a.mutate(n):o.mutate(n))}return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[m.jsx(lt,{to:"/equipment",className:Ie(sn({variant:"ghost",size:"icon"})),children:m.jsx(pi,{className:"h-4 w-4"})}),m.jsx("h1",{className:"flex-1 text-2xl font-semibold tracking-tight",children:u.name}),m.jsxs(lt,{to:`/equipment/${n}/edit`,className:Ie(sn({variant:"outline"})),children:[m.jsx(Iu,{className:"mr-2 h-4 w-4"}),"Edit"]}),m.jsxs(mt,{variant:u.status==="active"?"destructive":"default",onClick:p,disabled:h,children:[h&&m.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}),u.status==="active"?"Archive":"Reactivate"]})]}),m.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[m.jsxs(Xt,{children:[m.jsx(rn,{children:m.jsx(an,{className:"text-base",children:"Details"})}),m.jsx(Jt,{children:m.jsxs("dl",{className:"space-y-3 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Serial Number"}),m.jsx("dd",{className:"font-mono",children:u.serial_number})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Type"}),m.jsx("dd",{children:u.equipment_type?.name??""})]}),u.model&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Model"}),m.jsx("dd",{children:u.model})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Ownership"}),m.jsx("dd",{children:m.jsx("span",{className:Ie("inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",u.ownership_type==="owned"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"),children:u.ownership_type})})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Status"}),m.jsx("dd",{children:m.jsx("span",{className:Ie("inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",u.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:u.status})})]})]})})]}),u.ownership_type==="rented"&&u.supplier&&m.jsxs(Xt,{children:[m.jsx(rn,{children:m.jsx(an,{className:"text-base",children:"Rental Information"})}),m.jsx(Jt,{children:m.jsxs("dl",{className:"space-y-3 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Supplier"}),m.jsx("dd",{children:m.jsx(lt,{to:`/suppliers/${u.supplier.id}`,className:"text-primary underline-offset-4 hover:underline",children:u.supplier.name})})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Monthly Rent"}),m.jsx("dd",{className:"font-mono",children:u.monthly_rent!=null?`$${Number(u.monthly_rent).toFixed(2)}`:""})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Daily Rent"}),m.jsx("dd",{className:"font-mono",children:u.daily_rent!=null?`$${Number(u.daily_rent).toFixed(2)}`:""})]})]})})]})]}),u.ownership_type==="owned"&&n&&m.jsx("div",{className:"mt-6",children:m.jsx(dO,{equipmentId:n})})]})}function fO({companyId:n,defaultValues:e,onSubmit:r,isPending:a}){const{data:o}=Vb(n),{data:u}=Ib(n),c=o?.data??[],h=u?.data??[],{register:p,handleSubmit:y,watch:g,setValue:_,formState:{errors:w}}=Kl({resolver:Fl(Pb),defaultValues:e?{name:e.name,serial_number:e.serial_number,equipment_type_id:e.equipment_type_id,model:e.model??void 0,ownership_type:e.ownership_type,supplier_id:e.supplier_id??void 0,monthly_rent:e.monthly_rent??void 0,daily_rent:e.daily_rent??void 0}:{ownership_type:"owned"}}),x=g("ownership_type"),A=N.useRef(e?.ownership_type??"owned");return N.useEffect(()=>{const E=A.current;if(x!==E){if(e){const O=x==="rented"?"Switching to rented will remove partner ownership data. Continue?":"Switching to owned will remove supplier and rental cost data. Continue?";if(!window.confirm(O)){_("ownership_type",E);return}}A.current=x,x==="owned"&&(_("supplier_id",void 0),_("monthly_rent",void 0),_("daily_rent",void 0))}},[x,_,e]),m.jsxs("form",{onSubmit:y(r),className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"name",children:"Name"}),m.jsx(xt,{id:"name",...p("name"),placeholder:"Equipment name"}),w.name&&m.jsx("p",{className:"text-sm text-destructive",children:w.name.message})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"serial_number",children:"Serial Number"}),m.jsx(xt,{id:"serial_number",...p("serial_number"),placeholder:"SN-001"}),w.serial_number&&m.jsx("p",{className:"text-sm text-destructive",children:w.serial_number.message})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"equipment_type_id",children:"Equipment Type"}),m.jsxs("select",{id:"equipment_type_id",...p("equipment_type_id"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[m.jsx("option",{value:"",children:"Select type..."}),c.map(E=>m.jsx("option",{value:E.id,children:E.name},E.id))]}),w.equipment_type_id&&m.jsx("p",{className:"text-sm text-destructive",children:w.equipment_type_id.message})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"model",children:"Model (optional)"}),m.jsx(xt,{id:"model",...p("model"),placeholder:"Model name"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{children:"Ownership Type"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"radio",value:"owned",...p("ownership_type")}),m.jsx("span",{className:"text-sm",children:"Owned"})]}),m.jsxs("label",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"radio",value:"rented",...p("ownership_type")}),m.jsx("span",{className:"text-sm",children:"Rented"})]})]})]}),x==="rented"&&m.jsxs("div",{className:"space-y-4 rounded-md border p-4",children:[m.jsx("h3",{className:"text-sm font-medium",children:"Rental Details"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"supplier_id",children:"Supplier"}),m.jsxs("select",{id:"supplier_id",...p("supplier_id"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[m.jsx("option",{value:"",children:"Select supplier..."}),h.map(E=>m.jsx("option",{value:E.id,children:E.name},E.id))]}),w.supplier_id&&m.jsx("p",{className:"text-sm text-destructive",children:w.supplier_id.message})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"monthly_rent",children:"Monthly Rent"}),m.jsx(xt,{id:"monthly_rent",type:"number",step:"0.01",...p("monthly_rent"),placeholder:"0.00"}),w.monthly_rent&&m.jsx("p",{className:"text-sm text-destructive",children:w.monthly_rent.message})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"daily_rent",children:"Daily Rent"}),m.jsx(xt,{id:"daily_rent",type:"number",step:"0.01",...p("daily_rent"),placeholder:"0.00"}),w.daily_rent&&m.jsx("p",{className:"text-sm text-destructive",children:w.daily_rent.message})]})]})]}),m.jsxs(mt,{type:"submit",disabled:a,className:"w-full",children:[a&&m.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Update Equipment":"Create Equipment"]})]})}function rb(){const{id:n}=mi(),e=ls(),r=!!n,{data:a}=ea();console.log(a);const o=a?.data?.[0]?.company_id,{data:u,isLoading:c}=$b(r?n:void 0),h=h1(),p=f1(),[y,g]=N.useState(null),_=h.isPending||p.isPending;async function w(x){if(g(null),r&&n){const A=await p.mutateAsync({equipmentId:n,payload:x});if(A.error){g(A.error.message);return}e(`/equipment/${n}`)}else if(o){const A=await h.mutateAsync({companyId:o,payload:x});if(A.error){g(A.error.message);return}e(`/equipment/${A.data.id}`)}}return r&&c?m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[m.jsx(lt,{to:r?`/equipment/${n}`:"/equipment",className:Ie(sn({variant:"ghost",size:"icon"})),children:m.jsx(pi,{className:"h-4 w-4"})}),m.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:r?"Edit Equipment":"New Equipment"})]}),m.jsxs(Xt,{className:"mx-auto max-w-lg",children:[m.jsx(rn,{children:m.jsx(an,{className:"text-base",children:r?"Update equipment details":"Add a new equipment record"})}),m.jsxs(Jt,{children:[y&&m.jsx(Cn,{variant:"destructive",className:"mb-4",children:m.jsx(Dn,{children:y})}),o&&m.jsx(fO,{companyId:o,defaultValues:r?u?.data??void 0:void 0,onSubmit:w,isPending:_})]})]})]})}function mO({supplier:n}){return m.jsx(lt,{to:`/suppliers/${n.id}`,children:m.jsxs(Xt,{className:"transition-colors hover:border-primary/50",children:[m.jsx(rn,{className:"pb-2",children:m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsx(an,{className:"text-base",children:n.name}),n.equipment_count>0&&m.jsxs("span",{className:"inline-flex items-center rounded-full bg-amber-100 px-2 py-0.5 text-xs font-medium text-amber-700",children:[n.equipment_count," rented"]})]})}),m.jsx(Jt,{children:m.jsx("p",{className:"text-sm text-muted-foreground",children:n.phone??"No phone"})})]})})}function pO(){const{data:n}=ea(),e=n?.data?.[0]?.company_id,[r,a]=N.useState(""),[o,u]=N.useState("card"),{data:c,isLoading:h}=Ib(e),p=c?.data??[],y=c?.error,g=N.useMemo(()=>{if(!r)return p;const _=r.toLowerCase();return p.filter(w=>w.name.toLowerCase().includes(_)||w.phone&&w.phone.toLowerCase().includes(_))},[p,r]);return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[m.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Suppliers"}),m.jsxs(lt,{to:"/suppliers/new",className:Ie(sn()),children:[m.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Add Supplier"]})]}),y&&m.jsx(Cn,{variant:"destructive",className:"mb-4",children:m.jsx(Dn,{children:y.message})}),m.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[m.jsxs("div",{className:"relative flex-1 min-w-50 max-w-sm",children:[m.jsx(xf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),m.jsx(xt,{placeholder:"Search by name or phone...",value:r,onChange:_=>a(_.target.value),className:"pl-9"})]}),m.jsxs("div",{className:"ml-auto flex gap-1",children:[m.jsx(mt,{variant:o==="card"?"default":"outline",size:"icon",className:"h-9 w-9",onClick:()=>u("card"),children:m.jsx(_f,{className:"h-4 w-4"})}),m.jsx(mt,{variant:o==="table"?"default":"outline",size:"icon",className:"h-9 w-9",onClick:()=>u("table"),children:m.jsx(wf,{className:"h-4 w-4"})})]})]}),h?o==="card"?m.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((_,w)=>m.jsx(gO,{},w))}):m.jsx(vO,{}):g.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed py-12",children:[m.jsx("p",{className:"mb-2 text-lg font-medium text-muted-foreground",children:p.length===0?"No suppliers yet":"No matching suppliers"}),m.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:p.length===0?"Get started by adding your first supplier.":"Try adjusting your search."}),p.length===0&&m.jsxs(lt,{to:"/suppliers/new",className:Ie(sn()),children:[m.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Add your first supplier"]})]}):o==="card"?m.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:g.map(_=>m.jsx(mO,{supplier:_},_.id))}):m.jsx(yO,{items:g})]})}function yO({items:n}){return m.jsx("div",{className:"overflow-x-auto rounded-md border",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b bg-muted/50",children:[m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Name"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Phone"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Rented Equipment"})]})}),m.jsx("tbody",{children:n.map(e=>m.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/30",children:[m.jsx("td",{className:"px-4 py-3",children:m.jsx(lt,{to:`/suppliers/${e.id}`,className:"font-medium text-primary hover:underline",children:e.name})}),m.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:e.phone??""}),m.jsx("td",{className:"px-4 py-3",children:e.equipment_count>0?m.jsxs("span",{className:"inline-flex items-center rounded-full bg-amber-100 px-2 py-0.5 text-xs font-medium text-amber-700",children:[e.equipment_count," rented"]}):m.jsx("span",{className:"text-muted-foreground",children:""})})]},e.id))})]})})}function gO(){return m.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[m.jsx("div",{className:"flex flex-col space-y-1.5 p-6 pb-2",children:m.jsx(Je,{className:"h-6 w-3/4"})}),m.jsx("div",{className:"p-6 pt-0",children:m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx(Je,{className:"h-4 w-16"}),m.jsx(Je,{className:"h-4 w-28"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx(Je,{className:"h-4 w-20"}),m.jsx(Je,{className:"h-4 w-16 rounded-full"})]})]})})]})}function vO(){return m.jsx("div",{className:"overflow-x-auto rounded-md border",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b bg-muted/50",children:[m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Name"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Phone"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Rented Equipment"})]})}),m.jsx("tbody",{children:Array.from({length:5}).map((n,e)=>m.jsxs("tr",{className:"border-b",children:[m.jsx("td",{className:"px-4 py-3",children:m.jsx(Je,{className:"h-4 w-24"})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx(Je,{className:"h-4 w-28"})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx(Je,{className:"h-5 w-20 rounded-full"})})]},e))})]})})}function bO(){const{id:n}=mi(),e=ls(),{data:r,isLoading:a}=Gb(n),o=S1(),u=r?.data??null,c=r?.error;if(a)return m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(c||!u)return m.jsx("div",{className:"p-6",children:m.jsx(Cn,{variant:"destructive",children:m.jsx(Dn,{children:c?.message??"Supplier not found"})})});async function h(){if(!n||!window.confirm("Delete this supplier? This cannot be undone."))return;const p=await o.mutateAsync(n);if(p.error){alert(p.error.message);return}e("/suppliers")}return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[m.jsx(lt,{to:"/suppliers",className:Ie(sn({variant:"ghost",size:"icon"})),children:m.jsx(pi,{className:"h-4 w-4"})}),m.jsx("h1",{className:"flex-1 text-2xl font-semibold tracking-tight",children:u.name}),m.jsxs(lt,{to:`/suppliers/${n}/edit`,className:Ie(sn({variant:"outline"})),children:[m.jsx(Iu,{className:"mr-2 h-4 w-4"}),"Edit"]}),m.jsxs(mt,{variant:"destructive",onClick:h,disabled:o.isPending,children:[o.isPending?m.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):m.jsx(Sf,{className:"mr-2 h-4 w-4"}),"Delete"]})]}),m.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[m.jsxs(Xt,{children:[m.jsx(rn,{children:m.jsx(an,{className:"text-base",children:"Details"})}),m.jsx(Jt,{children:m.jsxs("dl",{className:"space-y-3 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Name"}),m.jsx("dd",{children:u.name})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Phone"}),m.jsx("dd",{children:u.phone??""})]})]})})]}),m.jsxs(Xt,{children:[m.jsx(rn,{children:m.jsx(an,{className:"text-base",children:"Rented Equipment"})}),m.jsx(Jt,{children:u.equipment.length===0?m.jsx("p",{className:"text-sm text-muted-foreground",children:"No equipment linked to this supplier"}):m.jsx("div",{className:"space-y-3",children:u.equipment.map(p=>m.jsxs(lt,{to:`/equipment/${p.id}`,className:"block rounded-md border p-3 text-sm transition-colors hover:border-primary/50",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"font-medium",children:p.name}),m.jsx("span",{className:"font-mono text-muted-foreground",children:p.serial_number})]}),(p.monthly_rent!=null||p.daily_rent!=null)&&m.jsxs("div",{className:"mt-1 flex gap-4 text-xs text-muted-foreground",children:[p.monthly_rent!=null&&m.jsxs("span",{children:["Monthly: $",Number(p.monthly_rent).toFixed(2)]}),p.daily_rent!=null&&m.jsxs("span",{children:["Daily: $",Number(p.daily_rent).toFixed(2)]})]})]},p.id))})})]})]})]})}function _O({defaultValues:n,onSubmit:e,isPending:r}){const{register:a,handleSubmit:o,formState:{errors:u}}=Kl({resolver:Fl(Hb),defaultValues:n?{name:n.name,phone:n.phone??void 0}:void 0});return m.jsxs("form",{onSubmit:o(e),className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"name",children:"Name"}),m.jsx(xt,{id:"name",...a("name"),placeholder:"Supplier name"}),u.name&&m.jsx("p",{className:"text-sm text-destructive",children:u.name.message})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"phone",children:"Phone (optional)"}),m.jsx(xt,{id:"phone",...a("phone"),placeholder:"+1 234 567 890"})]}),m.jsxs(mt,{type:"submit",disabled:r,className:"w-full",children:[r&&m.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Update Supplier":"Create Supplier"]})]})}function ab(){const{id:n}=mi(),e=ls(),r=!!n,{data:a}=ea(),o=a?.data?.[0]?.company_id,{data:u,isLoading:c}=Gb(r?n:void 0),h=w1(),p=x1(),[y,g]=N.useState(null),_=h.isPending||p.isPending,w=u?.data;async function x(A){if(g(null),r&&n){const E=await p.mutateAsync({supplierId:n,payload:A});if(E.error){g(E.error.message);return}e(`/suppliers/${n}`)}else if(o){const E=await h.mutateAsync({companyId:o,payload:A});if(E.error){g(E.error.message);return}e(`/suppliers/${E.data.id}`)}}return r&&c?m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[m.jsx(lt,{to:r?`/suppliers/${n}`:"/suppliers",className:Ie(sn({variant:"ghost",size:"icon"})),children:m.jsx(pi,{className:"h-4 w-4"})}),m.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:r?"Edit Supplier":"New Supplier"})]}),m.jsxs(Xt,{className:"mx-auto max-w-lg",children:[m.jsx(rn,{children:m.jsx(an,{className:"text-base",children:r?"Update supplier details":"Add a new supplier"})}),m.jsxs(Jt,{children:[y&&m.jsx(Cn,{variant:"destructive",className:"mb-4",children:m.jsx(Dn,{children:y})}),m.jsx(_O,{defaultValues:r?w??void 0:void 0,onSubmit:x,isPending:_})]})]})]})}function wO({partner:n}){return m.jsx(lt,{to:`/partners/${n.id}`,children:m.jsxs(Xt,{className:"transition-colors hover:border-primary/50",children:[m.jsx(rn,{className:"pb-2",children:m.jsxs("div",{className:"flex items-start justify-between gap-2",children:[m.jsx(an,{className:"text-base",children:n.name}),n.equipment_count>0&&m.jsxs("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700",children:[n.equipment_count," co-owned"]})]})}),m.jsx(Jt,{children:m.jsx("p",{className:"text-sm text-muted-foreground",children:n.phone??"No phone"})})]})})}function xO(){const{data:n}=ea(),e=n?.data?.[0]?.company_id,[r,a]=N.useState(""),[o,u]=N.useState("card"),{data:c,isLoading:h}=Fb(e),p=c?.data??[],y=c?.error,g=N.useMemo(()=>{if(!r)return p;const _=r.toLowerCase();return p.filter(w=>w.name.toLowerCase().includes(_)||w.phone&&w.phone.toLowerCase().includes(_))},[p,r]);return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[m.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Partners"}),m.jsxs(lt,{to:"/partners/new",className:Ie(sn()),children:[m.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Add Partner"]})]}),y&&m.jsx(Cn,{variant:"destructive",className:"mb-4",children:m.jsx(Dn,{children:y.message})}),m.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[m.jsxs("div",{className:"relative flex-1 min-w-50 max-w-sm",children:[m.jsx(xf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),m.jsx(xt,{placeholder:"Search by name or phone...",value:r,onChange:_=>a(_.target.value),className:"pl-9"})]}),m.jsxs("div",{className:"ml-auto flex gap-1",children:[m.jsx(mt,{variant:o==="card"?"default":"outline",size:"icon",className:"h-9 w-9",onClick:()=>u("card"),children:m.jsx(_f,{className:"h-4 w-4"})}),m.jsx(mt,{variant:o==="table"?"default":"outline",size:"icon",className:"h-9 w-9",onClick:()=>u("table"),children:m.jsx(wf,{className:"h-4 w-4"})})]})]}),h?o==="card"?m.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((_,w)=>m.jsx(EO,{},w))}):m.jsx(jO,{}):g.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed py-12",children:[m.jsx("p",{className:"mb-2 text-lg font-medium text-muted-foreground",children:p.length===0?"No partners yet":"No matching partners"}),m.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:p.length===0?"Get started by adding your first partner.":"Try adjusting your search."}),p.length===0&&m.jsxs(lt,{to:"/partners/new",className:Ie(sn()),children:[m.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Add your first partner"]})]}):o==="card"?m.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:g.map(_=>m.jsx(wO,{partner:_},_.id))}):m.jsx(SO,{items:g})]})}function SO({items:n}){return m.jsx("div",{className:"overflow-x-auto rounded-md border",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b bg-muted/50",children:[m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Name"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Phone"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Co-Owned Equipment"})]})}),m.jsx("tbody",{children:n.map(e=>m.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/30",children:[m.jsx("td",{className:"px-4 py-3",children:m.jsx(lt,{to:`/partners/${e.id}`,className:"font-medium text-primary hover:underline",children:e.name})}),m.jsx("td",{className:"px-4 py-3 text-muted-foreground",children:e.phone??""}),m.jsx("td",{className:"px-4 py-3",children:e.equipment_count>0?m.jsxs("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700",children:[e.equipment_count," co-owned"]}):m.jsx("span",{className:"text-muted-foreground",children:""})})]},e.id))})]})})}function EO(){return m.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[m.jsx("div",{className:"flex flex-col space-y-1.5 p-6 pb-2",children:m.jsx(Je,{className:"h-6 w-3/4"})}),m.jsx("div",{className:"p-6 pt-0",children:m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx(Je,{className:"h-4 w-16"}),m.jsx(Je,{className:"h-4 w-28"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx(Je,{className:"h-4 w-20"}),m.jsx(Je,{className:"h-4 w-16 rounded-full"})]})]})})]})}function jO(){return m.jsx("div",{className:"overflow-x-auto rounded-md border",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b bg-muted/50",children:[m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Name"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Phone"}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Co-Owned Equipment"})]})}),m.jsx("tbody",{children:Array.from({length:5}).map((n,e)=>m.jsxs("tr",{className:"border-b",children:[m.jsx("td",{className:"px-4 py-3",children:m.jsx(Je,{className:"h-4 w-24"})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx(Je,{className:"h-4 w-28"})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx(Je,{className:"h-5 w-20 rounded-full"})})]},e))})]})})}function TO(){const{id:n}=mi(),e=ls(),{data:r,isLoading:a}=Qb(n),o=A1(),u=r?.data??null,c=r?.error;if(a)return m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(c||!u)return m.jsx("div",{className:"p-6",children:m.jsx(Cn,{variant:"destructive",children:m.jsx(Dn,{children:c?.message??"Partner not found"})})});async function h(){if(!n||!window.confirm("Delete this partner? This cannot be undone."))return;const p=await o.mutateAsync(n);if(p.error){alert(p.error.message);return}e("/partners")}return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[m.jsx(lt,{to:"/partners",className:Ie(sn({variant:"ghost",size:"icon"})),children:m.jsx(pi,{className:"h-4 w-4"})}),m.jsx("h1",{className:"flex-1 text-2xl font-semibold tracking-tight",children:u.name}),m.jsxs(lt,{to:`/partners/${n}/edit`,className:Ie(sn({variant:"outline"})),children:[m.jsx(Iu,{className:"mr-2 h-4 w-4"}),"Edit"]}),m.jsxs(mt,{variant:"destructive",onClick:h,disabled:o.isPending,children:[o.isPending?m.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):m.jsx(Sf,{className:"mr-2 h-4 w-4"}),"Delete"]})]}),m.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[m.jsxs(Xt,{children:[m.jsx(rn,{children:m.jsx(an,{className:"text-base",children:"Details"})}),m.jsx(Jt,{children:m.jsxs("dl",{className:"space-y-3 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Name"}),m.jsx("dd",{children:u.name})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Phone"}),m.jsx("dd",{children:u.phone??""})]})]})})]}),m.jsxs(Xt,{children:[m.jsx(rn,{children:m.jsx(an,{className:"text-base",children:"Co-Owned Equipment"})}),m.jsx(Jt,{children:u.equipment.length===0?m.jsx("p",{className:"text-sm text-muted-foreground",children:"No equipment linked to this partner"}):m.jsx("div",{className:"space-y-3",children:u.equipment.map(p=>m.jsxs(lt,{to:`/equipment/${p.id}`,className:"block rounded-md border p-3 text-sm transition-colors hover:border-primary/50",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"font-medium",children:p.name}),m.jsx("span",{className:"font-mono text-muted-foreground",children:p.serial_number})]}),p.percentage!=null&&m.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["Ownership: ",Number(p.percentage).toFixed(1),"%"]})]},p.id))})})]})]})]})}function AO({defaultValues:n,onSubmit:e,isPending:r}){const{register:a,handleSubmit:o,formState:{errors:u}}=Kl({resolver:Fl(Kb),defaultValues:n?{name:n.name,phone:n.phone??void 0}:void 0});return m.jsxs("form",{onSubmit:o(e),className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"name",children:"Name"}),m.jsx(xt,{id:"name",...a("name"),placeholder:"Partner name"}),u.name&&m.jsx("p",{className:"text-sm text-destructive",children:u.name.message})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ct,{htmlFor:"phone",children:"Phone (optional)"}),m.jsx(xt,{id:"phone",...a("phone"),placeholder:"+1 234 567 890"})]}),m.jsxs(mt,{type:"submit",disabled:r,className:"w-full",children:[r&&m.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Update Partner":"Create Partner"]})]})}function ib(){const{id:n}=mi(),e=ls(),r=!!n,{data:a}=ea(),o=a?.data?.[0]?.company_id,{data:u,isLoading:c}=Qb(r?n:void 0),h=j1(),p=T1(),[y,g]=N.useState(null),_=u?.data??void 0,w=h.isPending||p.isPending;if(r&&c)return m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})});async function x(A){if(g(null),r&&n){const E=await p.mutateAsync({partnerId:n,payload:A});if(E.error){g(E.error.message);return}e(`/partners/${n}`)}else if(o){const E=await h.mutateAsync({companyId:o,payload:A});if(E.error){g(E.error.message);return}e(`/partners/${E.data.id}`)}}return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[m.jsx(lt,{to:r?`/partners/${n}`:"/partners",className:Ie(sn({variant:"ghost",size:"icon"})),children:m.jsx(pi,{className:"h-4 w-4"})}),m.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:r?"Edit Partner":"New Partner"})]}),m.jsxs(Xt,{className:"mx-auto max-w-lg",children:[m.jsx(rn,{children:m.jsx(an,{className:"text-base",children:r?"Update partner details":"Add a new partner"})}),m.jsxs(Jt,{children:[y&&m.jsx(Cn,{variant:"destructive",className:"mb-4",children:m.jsx(Dn,{children:y})}),m.jsx(AO,{defaultValues:_,onSubmit:x,isPending:w})]})]})]})}function RO(){return m.jsx(YT,{children:m.jsxs(TT,{children:[m.jsxs(Rt,{element:m.jsx(NA,{}),children:[m.jsx(Rt,{path:"/login",element:m.jsx(sO,{})}),m.jsx(Rt,{path:"/register",element:m.jsx(rO,{})})]}),m.jsx(Rt,{element:m.jsx(OA,{}),children:m.jsxs(Rt,{element:m.jsx(_R,{}),children:[m.jsx(Rt,{path:"/home",element:m.jsx(aO,{})}),m.jsx(Rt,{path:"/equipment",element:m.jsx(lO,{})}),m.jsx(Rt,{path:"/equipment/new",element:m.jsx(rb,{})}),m.jsx(Rt,{path:"/equipment/:id",element:m.jsx(hO,{})}),m.jsx(Rt,{path:"/equipment/:id/edit",element:m.jsx(rb,{})}),m.jsx(Rt,{path:"/suppliers",element:m.jsx(pO,{})}),m.jsx(Rt,{path:"/suppliers/new",element:m.jsx(ab,{})}),m.jsx(Rt,{path:"/suppliers/:id",element:m.jsx(bO,{})}),m.jsx(Rt,{path:"/suppliers/:id/edit",element:m.jsx(ab,{})}),m.jsx(Rt,{path:"/partners",element:m.jsx(xO,{})}),m.jsx(Rt,{path:"/partners/new",element:m.jsx(ib,{})}),m.jsx(Rt,{path:"/partners/:id",element:m.jsx(TO,{})}),m.jsx(Rt,{path:"/partners/:id/edit",element:m.jsx(ib,{})})]})}),m.jsx(Rt,{path:"*",element:m.jsx(yf,{to:"/equipment",replace:!0})})]})})}e1({SUPABASE_URL:"https://jfqmnvcftekjxquinwtm.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmcW1udmNmdGVranhxdWlud3RtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1MzYyNTgsImV4cCI6MjA4NjExMjI1OH0.xH3bLapTzHGWR4ICeNacnGbxFaiuaRjvH3a17LQP-KA"});const OO=t1();dx.createRoot(document.getElementById("root")).render(m.jsx(N.StrictMode,{children:m.jsx(qx,{client:OO,children:m.jsx(RO,{})})}));
